"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => HelpMatePlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian6 = require("obsidian");

// src/UI/settingsTab/SettingsTab.tsx
var import_obsidian = require("obsidian");

// src/settings.ts
var DEFAULT_SETTINGS = {
  acknowledgedWebUse: false,
  includeObsidianHelp: true,
  obsidianHelpUrl: "https://help.obsidian.md",
  includeObsidianDevHelp: true,
  obsidianDevHelpUrl: "https://docs.obsidian.md/Home",
  includeHelpMateHelp: true,
  userResources: "",
  forceIframe: false
};

// src/resources.ts
var isValidUrl = (url) => {
  try {
    new URL(url.trim());
    return true;
  } catch (error) {
    return false;
  }
};
var getPluginHelpList = (plugin) => {
  const initialHelpList = Object.values(plugin.app.plugins.manifests).filter((p3) => p3.helpUrl && p3.id !== plugin.APP_ID).map((p3) => {
    var _a;
    return { id: p3.id, name: p3.name, url: (_a = p3.helpUrl) != null ? _a : "" };
  });
  const customPluginList = plugin.settings.userResources.split("\n");
  customPluginList.forEach((p3) => {
    if (p3.trim() !== "") {
      const [name, url] = p3.split("|");
      if (name && url && isValidUrl(url))
        initialHelpList.push({ id: name, name, url });
    }
  });
  const themeList = Object.values(plugin.app.customCss.themes).filter((p3) => p3.helpUrl).map(
    (p3) => ({
      id: p3.name,
      name: p3.name,
      url: p3.helpUrl ? p3.helpUrl : ""
    })
  );
  themeList.forEach((p3) => {
    if (p3.name && p3.url && isValidUrl(p3.url))
      initialHelpList.push({ id: p3.name, name: p3.name, url: p3.url });
  });
  const pattern = /\[helpUrl:(.+?)\|(.+?)\]/;
  Array.from(plugin.app.customCss.csscache.entries()).forEach(([_2, value]) => {
    const matches = value.match(pattern);
    if (matches) {
      const resourceName = matches[1].trim();
      const url = matches[2].trim();
      if (resourceName && url && isValidUrl(url))
        initialHelpList.push({ id: resourceName, name: resourceName, url });
    }
  });
  const sortedHelpForPluginList = initialHelpList.sort(
    (a3, b3) => a3.name.localeCompare(b3.name)
  );
  if (plugin.settings.includeObsidianDevHelp && plugin.settings.obsidianDevHelpUrl && isValidUrl(plugin.settings.obsidianDevHelpUrl))
    sortedHelpForPluginList.unshift({
      id: "obsidian-dev",
      name: "Obsidian Developer Help",
      url: plugin.settings.obsidianDevHelpUrl
    });
  if (plugin.settings.includeObsidianHelp && plugin.settings.obsidianHelpUrl && isValidUrl(plugin.settings.obsidianHelpUrl))
    sortedHelpForPluginList.unshift({
      id: "obsidian",
      name: "Obsidian Help",
      url: plugin.settings.obsidianHelpUrl
    });
  if (plugin.settings.includeHelpMateHelp)
    sortedHelpForPluginList.push({
      id: "helpmate",
      name: "HelpMate Help",
      url: "https://tfthacker.com/HelpMate"
    });
  return sortedHelpForPluginList;
};

// src/commands.ts
var initializeCommands = (plugin) => {
  plugin.addCommand({
    id: "open-helpmate",
    name: "Open sidepane",
    callback: () => plugin.activateView()
  });
  addHelpMateResourcesToCommandPalette(plugin);
};
var addHelpMateResourcesToCommandPalette = (plugin) => {
  for (const command of Object.values(plugin.app.commands.commands))
    if (command.helpmate)
      plugin.app.commands.removeCommand(command.id);
  getPluginHelpList(plugin).forEach((help) => {
    plugin.addCommand({
      id: help.id,
      name: `view: ${help.name}`,
      callback: () => plugin.activateView(help.url),
      helpmate: true
    });
  });
};

// src/UI/settingsTab/SettingsTab.tsx
var HelpMateSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName(`Enable Obsidian's help in HelpMate`).setDesc(`Show Obsidian's native help.`).addToggle((cb) => {
      cb.setValue(this.plugin.settings.includeObsidianHelp);
      cb.onChange(async (value) => {
        this.plugin.settings.includeObsidianHelp = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName(`Obsidian Help URL`).setDesc(
      `URL to use for Obsidian help. This can be changed to a different URL for other languages.`
    ).addText(
      (text) => text.setValue(this.plugin.settings.obsidianHelpUrl).onChange(async (value) => {
        if (value.trim() === "")
          value = DEFAULT_SETTINGS.obsidianHelpUrl;
        this.plugin.settings.obsidianHelpUrl = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName(`Enable Obsidian's help for developers in HelpMate`).setDesc(`Show Obsidian's developer help.`).addToggle((cb) => {
      cb.setValue(this.plugin.settings.includeObsidianDevHelp);
      cb.onChange(async (value) => {
        this.plugin.settings.includeObsidianDevHelp = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName(`Obsidian developer help URL`).setDesc(`URL to use for Obsidian's Developer help.`).addText(
      (text) => text.setValue(this.plugin.settings.obsidianDevHelpUrl).onChange(async (value) => {
        if (value.trim() === "")
          value = DEFAULT_SETTINGS.obsidianDevHelpUrl;
        this.plugin.settings.obsidianDevHelpUrl = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName(`Enable HelpMate's help in HelpMate`).setDesc(`Show the deocumentation for HelpMate.`).addToggle((cb) => {
      cb.setValue(this.plugin.settings.includeHelpMateHelp);
      cb.onChange(async (value) => {
        this.plugin.settings.includeHelpMateHelp = value;
        await this.plugin.saveSettings();
      });
    });
    containerEl.createEl("div", { text: "List of custom help resources" }).addClass("setting-item");
    containerEl.createEl("div", {
      text: `Add custom help resources to be displayed in HelpMate. Please note some sites will not
               work on mobile devices, due to some characteristics of Obsidian Mobile even though they work on Obsidian Desktop.  Input a list of URLs, 
               one per line using the following format: "Title | URL". Title is the name of the resources, and URL is the the website. For example: `
    }).addClass("setting-item-description");
    containerEl.createEl("div", { text: `Example Help | https://help.example.com` }).addClass("setting-item-description");
    const helpUrlList = new import_obsidian.TextAreaComponent(containerEl);
    helpUrlList.inputEl.style.marginTop = "12px";
    helpUrlList.inputEl.style.width = "100%";
    helpUrlList.inputEl.style.height = "32vh";
    helpUrlList.setPlaceholder("Title | URL");
    helpUrlList.setValue(this.plugin.settings.userResources).onChange(async (value) => {
      this.plugin.settings.userResources = value;
      addHelpMateResourcesToCommandPalette(this.plugin);
      await this.plugin.saveSettings();
    });
    new import_obsidian.Setting(containerEl).setName(`Use IFRAME`).setDesc(
      `On some devices the browser component of HelpMate may not display properly. This setting forces use of IFRAME 
						 which is more compatible across devices, but has less functionality. Only use this if you are having issues. Mobile
						 devices always use IFRAME, since this is the only supported option on mobile. So this setting does not apply to mobile.
						 (This setting will require a restart of Obsidian to take effect).`
    ).addToggle((cb) => {
      cb.setValue(this.plugin.settings.forceIframe);
      cb.onChange(async (value) => {
        this.plugin.settings.forceIframe = value;
        await this.plugin.saveSettings();
      });
    });
  }
};

// src/UI/sidepane/HelpMateView.tsx
var import_obsidian5 = require("obsidian");

// node_modules/preact/dist/preact.module.js
var n;
var l;
var u;
var t;
var i;
var o;
var r;
var f;
var e;
var c = {};
var s = [];
var a = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
var h = Array.isArray;
function v(n2, l3) {
  for (var u4 in l3)
    n2[u4] = l3[u4];
  return n2;
}
function p(n2) {
  var l3 = n2.parentNode;
  l3 && l3.removeChild(n2);
}
function y(l3, u4, t3) {
  var i4, o3, r3, f4 = {};
  for (r3 in u4)
    "key" == r3 ? i4 = u4[r3] : "ref" == r3 ? o3 = u4[r3] : f4[r3] = u4[r3];
  if (arguments.length > 2 && (f4.children = arguments.length > 3 ? n.call(arguments, 2) : t3), "function" == typeof l3 && null != l3.defaultProps)
    for (r3 in l3.defaultProps)
      void 0 === f4[r3] && (f4[r3] = l3.defaultProps[r3]);
  return d(l3, f4, i4, o3, null);
}
function d(n2, t3, i4, o3, r3) {
  var f4 = { type: n2, props: t3, key: i4, ref: o3, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: null == r3 ? ++u : r3, __i: -1, __u: 0 };
  return null == r3 && null != l.vnode && l.vnode(f4), f4;
}
function g(n2) {
  return n2.children;
}
function b(n2, l3) {
  this.props = n2, this.context = l3;
}
function m(n2, l3) {
  if (null == l3)
    return n2.__ ? m(n2.__, n2.__i + 1) : null;
  for (var u4; l3 < n2.__k.length; l3++)
    if (null != (u4 = n2.__k[l3]) && null != u4.__e)
      return u4.__e;
  return "function" == typeof n2.type ? m(n2) : null;
}
function k(n2) {
  var l3, u4;
  if (null != (n2 = n2.__) && null != n2.__c) {
    for (n2.__e = n2.__c.base = null, l3 = 0; l3 < n2.__k.length; l3++)
      if (null != (u4 = n2.__k[l3]) && null != u4.__e) {
        n2.__e = n2.__c.base = u4.__e;
        break;
      }
    return k(n2);
  }
}
function w(n2) {
  (!n2.__d && (n2.__d = true) && i.push(n2) && !x.__r++ || o !== l.debounceRendering) && ((o = l.debounceRendering) || r)(x);
}
function x() {
  var n2, u4, t3, o3, r3, e3, c3, s3, a3;
  for (i.sort(f); n2 = i.shift(); )
    n2.__d && (u4 = i.length, o3 = void 0, e3 = (r3 = (t3 = n2).__v).__e, s3 = [], a3 = [], (c3 = t3.__P) && ((o3 = v({}, r3)).__v = r3.__v + 1, l.vnode && l.vnode(o3), L(c3, o3, r3, t3.__n, void 0 !== c3.ownerSVGElement, 32 & r3.__u ? [e3] : null, s3, null == e3 ? m(r3) : e3, !!(32 & r3.__u), a3), o3.__.__k[o3.__i] = o3, M(s3, o3, a3), o3.__e != e3 && k(o3)), i.length > u4 && i.sort(f));
  x.__r = 0;
}
function C(n2, l3, u4, t3, i4, o3, r3, f4, e3, a3, h3) {
  var v3, p3, y2, d3, _2, g3 = t3 && t3.__k || s, b3 = l3.length;
  for (u4.__d = e3, P(u4, l3, g3), e3 = u4.__d, v3 = 0; v3 < b3; v3++)
    null != (y2 = u4.__k[v3]) && "boolean" != typeof y2 && "function" != typeof y2 && (p3 = -1 === y2.__i ? c : g3[y2.__i] || c, y2.__i = v3, L(n2, y2, p3, i4, o3, r3, f4, e3, a3, h3), d3 = y2.__e, y2.ref && p3.ref != y2.ref && (p3.ref && z(p3.ref, null, y2), h3.push(y2.ref, y2.__c || d3, y2)), null == _2 && null != d3 && (_2 = d3), 65536 & y2.__u || p3.__k === y2.__k ? e3 = S(y2, e3, n2) : "function" == typeof y2.type && void 0 !== y2.__d ? e3 = y2.__d : d3 && (e3 = d3.nextSibling), y2.__d = void 0, y2.__u &= -196609);
  u4.__d = e3, u4.__e = _2;
}
function P(n2, l3, u4) {
  var t3, i4, o3, r3, f4, e3 = l3.length, c3 = u4.length, s3 = c3, a3 = 0;
  for (n2.__k = [], t3 = 0; t3 < e3; t3++)
    null != (i4 = n2.__k[t3] = null == (i4 = l3[t3]) || "boolean" == typeof i4 || "function" == typeof i4 ? null : "string" == typeof i4 || "number" == typeof i4 || "bigint" == typeof i4 || i4.constructor == String ? d(null, i4, null, null, i4) : h(i4) ? d(g, { children: i4 }, null, null, null) : void 0 === i4.constructor && i4.__b > 0 ? d(i4.type, i4.props, i4.key, i4.ref ? i4.ref : null, i4.__v) : i4) ? (i4.__ = n2, i4.__b = n2.__b + 1, f4 = H(i4, u4, r3 = t3 + a3, s3), i4.__i = f4, o3 = null, -1 !== f4 && (s3--, (o3 = u4[f4]) && (o3.__u |= 131072)), null == o3 || null === o3.__v ? (-1 == f4 && a3--, "function" != typeof i4.type && (i4.__u |= 65536)) : f4 !== r3 && (f4 === r3 + 1 ? a3++ : f4 > r3 ? s3 > e3 - r3 ? a3 += f4 - r3 : a3-- : a3 = f4 < r3 && f4 == r3 - 1 ? f4 - r3 : 0, f4 !== t3 + a3 && (i4.__u |= 65536))) : (o3 = u4[t3]) && null == o3.key && o3.__e && (o3.__e == n2.__d && (n2.__d = m(o3)), N(o3, o3, false), u4[t3] = null, s3--);
  if (s3)
    for (t3 = 0; t3 < c3; t3++)
      null != (o3 = u4[t3]) && 0 == (131072 & o3.__u) && (o3.__e == n2.__d && (n2.__d = m(o3)), N(o3, o3));
}
function S(n2, l3, u4) {
  var t3, i4;
  if ("function" == typeof n2.type) {
    for (t3 = n2.__k, i4 = 0; t3 && i4 < t3.length; i4++)
      t3[i4] && (t3[i4].__ = n2, l3 = S(t3[i4], l3, u4));
    return l3;
  }
  return n2.__e != l3 && (u4.insertBefore(n2.__e, l3 || null), l3 = n2.__e), l3 && l3.nextSibling;
}
function H(n2, l3, u4, t3) {
  var i4 = n2.key, o3 = n2.type, r3 = u4 - 1, f4 = u4 + 1, e3 = l3[u4];
  if (null === e3 || e3 && i4 == e3.key && o3 === e3.type)
    return u4;
  if (t3 > (null != e3 && 0 == (131072 & e3.__u) ? 1 : 0))
    for (; r3 >= 0 || f4 < l3.length; ) {
      if (r3 >= 0) {
        if ((e3 = l3[r3]) && 0 == (131072 & e3.__u) && i4 == e3.key && o3 === e3.type)
          return r3;
        r3--;
      }
      if (f4 < l3.length) {
        if ((e3 = l3[f4]) && 0 == (131072 & e3.__u) && i4 == e3.key && o3 === e3.type)
          return f4;
        f4++;
      }
    }
  return -1;
}
function I(n2, l3, u4) {
  "-" === l3[0] ? n2.setProperty(l3, null == u4 ? "" : u4) : n2[l3] = null == u4 ? "" : "number" != typeof u4 || a.test(l3) ? u4 : u4 + "px";
}
function T(n2, l3, u4, t3, i4) {
  var o3;
  n:
    if ("style" === l3)
      if ("string" == typeof u4)
        n2.style.cssText = u4;
      else {
        if ("string" == typeof t3 && (n2.style.cssText = t3 = ""), t3)
          for (l3 in t3)
            u4 && l3 in u4 || I(n2.style, l3, "");
        if (u4)
          for (l3 in u4)
            t3 && u4[l3] === t3[l3] || I(n2.style, l3, u4[l3]);
      }
    else if ("o" === l3[0] && "n" === l3[1])
      o3 = l3 !== (l3 = l3.replace(/(PointerCapture)$|Capture$/, "$1")), l3 = l3.toLowerCase() in n2 ? l3.toLowerCase().slice(2) : l3.slice(2), n2.l || (n2.l = {}), n2.l[l3 + o3] = u4, u4 ? t3 ? u4.u = t3.u : (u4.u = Date.now(), n2.addEventListener(l3, o3 ? D : A, o3)) : n2.removeEventListener(l3, o3 ? D : A, o3);
    else {
      if (i4)
        l3 = l3.replace(/xlink(H|:h)/, "h").replace(/sName$/, "s");
      else if ("width" !== l3 && "height" !== l3 && "href" !== l3 && "list" !== l3 && "form" !== l3 && "tabIndex" !== l3 && "download" !== l3 && "rowSpan" !== l3 && "colSpan" !== l3 && "role" !== l3 && l3 in n2)
        try {
          n2[l3] = null == u4 ? "" : u4;
          break n;
        } catch (n3) {
        }
      "function" == typeof u4 || (null == u4 || false === u4 && "-" !== l3[4] ? n2.removeAttribute(l3) : n2.setAttribute(l3, u4));
    }
}
function A(n2) {
  var u4 = this.l[n2.type + false];
  if (n2.t) {
    if (n2.t <= u4.u)
      return;
  } else
    n2.t = Date.now();
  return u4(l.event ? l.event(n2) : n2);
}
function D(n2) {
  return this.l[n2.type + true](l.event ? l.event(n2) : n2);
}
function L(n2, u4, t3, i4, o3, r3, f4, e3, c3, s3) {
  var a3, p3, y2, d3, _2, m3, k3, w3, x2, P2, S2, $, H2, I2, T2, A2 = u4.type;
  if (void 0 !== u4.constructor)
    return null;
  128 & t3.__u && (c3 = !!(32 & t3.__u), r3 = [e3 = u4.__e = t3.__e]), (a3 = l.__b) && a3(u4);
  n:
    if ("function" == typeof A2)
      try {
        if (w3 = u4.props, x2 = (a3 = A2.contextType) && i4[a3.__c], P2 = a3 ? x2 ? x2.props.value : a3.__ : i4, t3.__c ? k3 = (p3 = u4.__c = t3.__c).__ = p3.__E : ("prototype" in A2 && A2.prototype.render ? u4.__c = p3 = new A2(w3, P2) : (u4.__c = p3 = new b(w3, P2), p3.constructor = A2, p3.render = O), x2 && x2.sub(p3), p3.props = w3, p3.state || (p3.state = {}), p3.context = P2, p3.__n = i4, y2 = p3.__d = true, p3.__h = [], p3._sb = []), null == p3.__s && (p3.__s = p3.state), null != A2.getDerivedStateFromProps && (p3.__s == p3.state && (p3.__s = v({}, p3.__s)), v(p3.__s, A2.getDerivedStateFromProps(w3, p3.__s))), d3 = p3.props, _2 = p3.state, p3.__v = u4, y2)
          null == A2.getDerivedStateFromProps && null != p3.componentWillMount && p3.componentWillMount(), null != p3.componentDidMount && p3.__h.push(p3.componentDidMount);
        else {
          if (null == A2.getDerivedStateFromProps && w3 !== d3 && null != p3.componentWillReceiveProps && p3.componentWillReceiveProps(w3, P2), !p3.__e && (null != p3.shouldComponentUpdate && false === p3.shouldComponentUpdate(w3, p3.__s, P2) || u4.__v === t3.__v)) {
            for (u4.__v !== t3.__v && (p3.props = w3, p3.state = p3.__s, p3.__d = false), u4.__e = t3.__e, u4.__k = t3.__k, u4.__k.forEach(function(n3) {
              n3 && (n3.__ = u4);
            }), S2 = 0; S2 < p3._sb.length; S2++)
              p3.__h.push(p3._sb[S2]);
            p3._sb = [], p3.__h.length && f4.push(p3);
            break n;
          }
          null != p3.componentWillUpdate && p3.componentWillUpdate(w3, p3.__s, P2), null != p3.componentDidUpdate && p3.__h.push(function() {
            p3.componentDidUpdate(d3, _2, m3);
          });
        }
        if (p3.context = P2, p3.props = w3, p3.__P = n2, p3.__e = false, $ = l.__r, H2 = 0, "prototype" in A2 && A2.prototype.render) {
          for (p3.state = p3.__s, p3.__d = false, $ && $(u4), a3 = p3.render(p3.props, p3.state, p3.context), I2 = 0; I2 < p3._sb.length; I2++)
            p3.__h.push(p3._sb[I2]);
          p3._sb = [];
        } else
          do {
            p3.__d = false, $ && $(u4), a3 = p3.render(p3.props, p3.state, p3.context), p3.state = p3.__s;
          } while (p3.__d && ++H2 < 25);
        p3.state = p3.__s, null != p3.getChildContext && (i4 = v(v({}, i4), p3.getChildContext())), y2 || null == p3.getSnapshotBeforeUpdate || (m3 = p3.getSnapshotBeforeUpdate(d3, _2)), C(n2, h(T2 = null != a3 && a3.type === g && null == a3.key ? a3.props.children : a3) ? T2 : [T2], u4, t3, i4, o3, r3, f4, e3, c3, s3), p3.base = u4.__e, u4.__u &= -161, p3.__h.length && f4.push(p3), k3 && (p3.__E = p3.__ = null);
      } catch (n3) {
        u4.__v = null, c3 || null != r3 ? (u4.__e = e3, u4.__u |= c3 ? 160 : 32, r3[r3.indexOf(e3)] = null) : (u4.__e = t3.__e, u4.__k = t3.__k), l.__e(n3, u4, t3);
      }
    else
      null == r3 && u4.__v === t3.__v ? (u4.__k = t3.__k, u4.__e = t3.__e) : u4.__e = j(t3.__e, u4, t3, i4, o3, r3, f4, c3, s3);
  (a3 = l.diffed) && a3(u4);
}
function M(n2, u4, t3) {
  u4.__d = void 0;
  for (var i4 = 0; i4 < t3.length; i4++)
    z(t3[i4], t3[++i4], t3[++i4]);
  l.__c && l.__c(u4, n2), n2.some(function(u5) {
    try {
      n2 = u5.__h, u5.__h = [], n2.some(function(n3) {
        n3.call(u5);
      });
    } catch (n3) {
      l.__e(n3, u5.__v);
    }
  });
}
function j(l3, u4, t3, i4, o3, r3, f4, e3, s3) {
  var a3, v3, y2, d3, _2, g3, b3, k3 = t3.props, w3 = u4.props, x2 = u4.type;
  if ("svg" === x2 && (o3 = true), null != r3) {
    for (a3 = 0; a3 < r3.length; a3++)
      if ((_2 = r3[a3]) && "setAttribute" in _2 == !!x2 && (x2 ? _2.localName === x2 : 3 === _2.nodeType)) {
        l3 = _2, r3[a3] = null;
        break;
      }
  }
  if (null == l3) {
    if (null === x2)
      return document.createTextNode(w3);
    l3 = o3 ? document.createElementNS("http://www.w3.org/2000/svg", x2) : document.createElement(x2, w3.is && w3), r3 = null, e3 = false;
  }
  if (null === x2)
    k3 === w3 || e3 && l3.data === w3 || (l3.data = w3);
  else {
    if (r3 = r3 && n.call(l3.childNodes), k3 = t3.props || c, !e3 && null != r3)
      for (k3 = {}, a3 = 0; a3 < l3.attributes.length; a3++)
        k3[(_2 = l3.attributes[a3]).name] = _2.value;
    for (a3 in k3)
      _2 = k3[a3], "children" == a3 || ("dangerouslySetInnerHTML" == a3 ? y2 = _2 : "key" === a3 || a3 in w3 || T(l3, a3, null, _2, o3));
    for (a3 in w3)
      _2 = w3[a3], "children" == a3 ? d3 = _2 : "dangerouslySetInnerHTML" == a3 ? v3 = _2 : "value" == a3 ? g3 = _2 : "checked" == a3 ? b3 = _2 : "key" === a3 || e3 && "function" != typeof _2 || k3[a3] === _2 || T(l3, a3, _2, k3[a3], o3);
    if (v3)
      e3 || y2 && (v3.__html === y2.__html || v3.__html === l3.innerHTML) || (l3.innerHTML = v3.__html), u4.__k = [];
    else if (y2 && (l3.innerHTML = ""), C(l3, h(d3) ? d3 : [d3], u4, t3, i4, o3 && "foreignObject" !== x2, r3, f4, r3 ? r3[0] : t3.__k && m(t3, 0), e3, s3), null != r3)
      for (a3 = r3.length; a3--; )
        null != r3[a3] && p(r3[a3]);
    e3 || (a3 = "value", void 0 !== g3 && (g3 !== l3[a3] || "progress" === x2 && !g3 || "option" === x2 && g3 !== k3[a3]) && T(l3, a3, g3, k3[a3], false), a3 = "checked", void 0 !== b3 && b3 !== l3[a3] && T(l3, a3, b3, k3[a3], false));
  }
  return l3;
}
function z(n2, u4, t3) {
  try {
    "function" == typeof n2 ? n2(u4) : n2.current = u4;
  } catch (n3) {
    l.__e(n3, t3);
  }
}
function N(n2, u4, t3) {
  var i4, o3;
  if (l.unmount && l.unmount(n2), (i4 = n2.ref) && (i4.current && i4.current !== n2.__e || z(i4, null, u4)), null != (i4 = n2.__c)) {
    if (i4.componentWillUnmount)
      try {
        i4.componentWillUnmount();
      } catch (n3) {
        l.__e(n3, u4);
      }
    i4.base = i4.__P = null, n2.__c = void 0;
  }
  if (i4 = n2.__k)
    for (o3 = 0; o3 < i4.length; o3++)
      i4[o3] && N(i4[o3], u4, t3 || "function" != typeof n2.type);
  t3 || null == n2.__e || p(n2.__e), n2.__ = n2.__e = n2.__d = void 0;
}
function O(n2, l3, u4) {
  return this.constructor(n2, u4);
}
function q(u4, t3, i4) {
  var o3, r3, f4, e3;
  l.__ && l.__(u4, t3), r3 = (o3 = "function" == typeof i4) ? null : i4 && i4.__k || t3.__k, f4 = [], e3 = [], L(t3, u4 = (!o3 && i4 || t3).__k = y(g, null, [u4]), r3 || c, c, void 0 !== t3.ownerSVGElement, !o3 && i4 ? [i4] : r3 ? null : t3.firstChild ? n.call(t3.childNodes) : null, f4, !o3 && i4 ? i4 : r3 ? r3.__e : t3.firstChild, o3, e3), M(f4, u4, e3);
}
n = s.slice, l = { __e: function(n2, l3, u4, t3) {
  for (var i4, o3, r3; l3 = l3.__; )
    if ((i4 = l3.__c) && !i4.__)
      try {
        if ((o3 = i4.constructor) && null != o3.getDerivedStateFromError && (i4.setState(o3.getDerivedStateFromError(n2)), r3 = i4.__d), null != i4.componentDidCatch && (i4.componentDidCatch(n2, t3 || {}), r3 = i4.__d), r3)
          return i4.__E = i4;
      } catch (l4) {
        n2 = l4;
      }
  throw n2;
} }, u = 0, t = function(n2) {
  return null != n2 && null == n2.constructor;
}, b.prototype.setState = function(n2, l3) {
  var u4;
  u4 = null != this.__s && this.__s !== this.state ? this.__s : this.__s = v({}, this.state), "function" == typeof n2 && (n2 = n2(v({}, u4), this.props)), n2 && v(u4, n2), null != n2 && this.__v && (l3 && this._sb.push(l3), w(this));
}, b.prototype.forceUpdate = function(n2) {
  this.__v && (this.__e = true, n2 && this.__h.push(n2), w(this));
}, b.prototype.render = g, i = [], r = "function" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, f = function(n2, l3) {
  return n2.__v.__b - l3.__v.__b;
}, x.__r = 0, e = 0;

// src/HelpMateAPI.ts
var HelpMateAPI = class {
  constructor(plugin) {
    this.enableDebugging = {
      webViewBrowser: false,
      iFrameBrowser: true
    };
    this.log = (logDescription, ...outputs) => {
      console.log("HelpMate: " + logDescription, outputs);
    };
    this.activateSidePane = async (url) => {
      url ? await this.plugin.activateView(url) : await this.plugin.activateView();
    };
    this.getPluginHelpList = () => {
      return getPluginHelpList(this.plugin);
    };
    this.plugin = plugin;
    this.settings = plugin.settings;
  }
};

// node_modules/preact/hooks/dist/hooks.module.js
var t2;
var r2;
var u2;
var i2;
var o2 = 0;
var f2 = [];
var c2 = [];
var e2 = l.__b;
var a2 = l.__r;
var v2 = l.diffed;
var l2 = l.__c;
var m2 = l.unmount;
function d2(t3, u4) {
  l.__h && l.__h(r2, t3, o2 || u4), o2 = 0;
  var i4 = r2.__H || (r2.__H = { __: [], __h: [] });
  return t3 >= i4.__.length && i4.__.push({ __V: c2 }), i4.__[t3];
}
function h2(n2) {
  return o2 = 1, s2(B, n2);
}
function s2(n2, u4, i4) {
  var o3 = d2(t2++, 2);
  if (o3.t = n2, !o3.__c && (o3.__ = [i4 ? i4(u4) : B(void 0, u4), function(n3) {
    var t3 = o3.__N ? o3.__N[0] : o3.__[0], r3 = o3.t(t3, n3);
    t3 !== r3 && (o3.__N = [r3, o3.__[1]], o3.__c.setState({}));
  }], o3.__c = r2, !r2.u)) {
    var f4 = function(n3, t3, r3) {
      if (!o3.__c.__H)
        return true;
      var u5 = o3.__c.__H.__.filter(function(n4) {
        return n4.__c;
      });
      if (u5.every(function(n4) {
        return !n4.__N;
      }))
        return !c3 || c3.call(this, n3, t3, r3);
      var i5 = false;
      return u5.forEach(function(n4) {
        if (n4.__N) {
          var t4 = n4.__[0];
          n4.__ = n4.__N, n4.__N = void 0, t4 !== n4.__[0] && (i5 = true);
        }
      }), !(!i5 && o3.__c.props === n3) && (!c3 || c3.call(this, n3, t3, r3));
    };
    r2.u = true;
    var c3 = r2.shouldComponentUpdate, e3 = r2.componentWillUpdate;
    r2.componentWillUpdate = function(n3, t3, r3) {
      if (this.__e) {
        var u5 = c3;
        c3 = void 0, f4(n3, t3, r3), c3 = u5;
      }
      e3 && e3.call(this, n3, t3, r3);
    }, r2.shouldComponentUpdate = f4;
  }
  return o3.__N || o3.__;
}
function p2(u4, i4) {
  var o3 = d2(t2++, 3);
  !l.__s && z2(o3.__H, i4) && (o3.__ = u4, o3.i = i4, r2.__H.__h.push(o3));
}
function _(n2) {
  return o2 = 5, F(function() {
    return { current: n2 };
  }, []);
}
function F(n2, r3) {
  var u4 = d2(t2++, 7);
  return z2(u4.__H, r3) ? (u4.__V = n2(), u4.i = r3, u4.__h = n2, u4.__V) : u4.__;
}
function b2() {
  for (var t3; t3 = f2.shift(); )
    if (t3.__P && t3.__H)
      try {
        t3.__H.__h.forEach(k2), t3.__H.__h.forEach(w2), t3.__H.__h = [];
      } catch (r3) {
        t3.__H.__h = [], l.__e(r3, t3.__v);
      }
}
l.__b = function(n2) {
  r2 = null, e2 && e2(n2);
}, l.__r = function(n2) {
  a2 && a2(n2), t2 = 0;
  var i4 = (r2 = n2.__c).__H;
  i4 && (u2 === r2 ? (i4.__h = [], r2.__h = [], i4.__.forEach(function(n3) {
    n3.__N && (n3.__ = n3.__N), n3.__V = c2, n3.__N = n3.i = void 0;
  })) : (i4.__h.forEach(k2), i4.__h.forEach(w2), i4.__h = [], t2 = 0)), u2 = r2;
}, l.diffed = function(t3) {
  v2 && v2(t3);
  var o3 = t3.__c;
  o3 && o3.__H && (o3.__H.__h.length && (1 !== f2.push(o3) && i2 === l.requestAnimationFrame || ((i2 = l.requestAnimationFrame) || j2)(b2)), o3.__H.__.forEach(function(n2) {
    n2.i && (n2.__H = n2.i), n2.__V !== c2 && (n2.__ = n2.__V), n2.i = void 0, n2.__V = c2;
  })), u2 = r2 = null;
}, l.__c = function(t3, r3) {
  r3.some(function(t4) {
    try {
      t4.__h.forEach(k2), t4.__h = t4.__h.filter(function(n2) {
        return !n2.__ || w2(n2);
      });
    } catch (u4) {
      r3.some(function(n2) {
        n2.__h && (n2.__h = []);
      }), r3 = [], l.__e(u4, t4.__v);
    }
  }), l2 && l2(t3, r3);
}, l.unmount = function(t3) {
  m2 && m2(t3);
  var r3, u4 = t3.__c;
  u4 && u4.__H && (u4.__H.__.forEach(function(n2) {
    try {
      k2(n2);
    } catch (n3) {
      r3 = n3;
    }
  }), u4.__H = void 0, r3 && l.__e(r3, u4.__v));
};
var g2 = "function" == typeof requestAnimationFrame;
function j2(n2) {
  var t3, r3 = function() {
    clearTimeout(u4), g2 && cancelAnimationFrame(t3), setTimeout(n2);
  }, u4 = setTimeout(r3, 100);
  g2 && (t3 = requestAnimationFrame(r3));
}
function k2(n2) {
  var t3 = r2, u4 = n2.__c;
  "function" == typeof u4 && (n2.__c = void 0, u4()), r2 = t3;
}
function w2(n2) {
  var t3 = r2;
  n2.__c = n2.__(), r2 = t3;
}
function z2(n2, t3) {
  return !n2 || n2.length !== t3.length || t3.some(function(t4, r3) {
    return t4 !== n2[r3];
  });
}
function B(n2, t3) {
  return "function" == typeof t3 ? t3(n2) : t3;
}

// node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js
var f3 = 0;
var i3 = Array.isArray;
function u3(e3, t3, n2, o3, i4, u4) {
  var a3, c3, p3 = {};
  for (c3 in t3)
    "ref" == c3 ? a3 = t3[c3] : p3[c3] = t3[c3];
  var l3 = { type: e3, props: p3, key: n2, ref: a3, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, constructor: void 0, __v: --f3, __i: -1, __u: 0, __source: i4, __self: u4 };
  if ("function" == typeof e3 && (a3 = e3.defaultProps))
    for (c3 in a3)
      void 0 === p3[c3] && (p3[c3] = a3[c3]);
  return l.vnode && l.vnode(l3), l3;
}

// src/UI/sidepane/HelpSourceButton.tsx
var HelpSourceButton = ({
  setSelectedUrl,
  plugin
}) => {
  const [isOpen, setIsOpen] = h2(false);
  const menuRef = _(null);
  const helpUrls = getPluginHelpList(plugin);
  const handleButtonClick = () => {
    setIsOpen(!isOpen);
  };
  const handleOptionClick = (index) => {
    setIsOpen(false);
    setSelectedUrl(helpUrls[index].url);
  };
  p2(() => {
    const handleClickOutside = (event) => {
      if (menuRef.current && !menuRef.current.contains(event.target)) {
        setIsOpen(false);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => {
      document.removeEventListener("mousedown", handleClickOutside);
    };
  }, []);
  return /* @__PURE__ */ u3("div", { className: "hm-source-button", ref: menuRef, children: [
    /* @__PURE__ */ u3("button", { onClick: handleButtonClick, class: "hm-view-browser-toolbar-button", children: /* @__PURE__ */ u3(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        width: "24",
        height: "24",
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: "currentColor",
        "stroke-width": "2",
        "stroke-linecap": "round",
        "stroke-linejoin": "round",
        class: "lucide lucide-bookmark-check",
        children: [
          /* @__PURE__ */ u3("path", { d: "m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z" }),
          /* @__PURE__ */ u3("path", { d: "m9 10 2 2 4-4" })
        ]
      }
    ) }),
    isOpen && /* @__PURE__ */ u3("ul", { className: "hm-source-button-dropdown-menu hm-button-dropdown-menu", children: helpUrls.map((url, index) => /* @__PURE__ */ u3(
      "li",
      {
        onClick: () => {
          handleOptionClick(index);
        },
        class: "hm-source-button-list-item",
        children: url.name
      },
      index
    )) })
  ] });
};
var HelpSourceButton_default = HelpSourceButton;

// src/UI/sidepane/HelpMoreButton.tsx
var HelpMoreButton = ({
  currentUrl,
  plugin
}) => {
  const [isOpen, setIsOpen] = h2(false);
  const menuRef = _(null);
  const commands = [
    {
      name: "Open site in browser",
      index: 0,
      command: () => {
        window.open(currentUrl);
      }
    },
    {
      name: "Code block from site",
      index: 1,
      command: async () => {
        const newFile = "```helpmate\nurl: " + currentUrl + "\nheight: 800px\ntoolbar: false\n```\n\n\n";
        const randomInt = Math.floor(Math.random() * (1e4 - 1e3 + 1)) + 100;
        const fileName = `codeblock ${randomInt}.md`;
        await plugin.app.vault.create(fileName, newFile).then(async (file) => {
          await plugin.app.workspace.getLeaf().openFile(file);
        });
      }
    },
    {
      name: "Plugin settings",
      index: 2,
      command: () => {
        const settings = plugin.app.setting;
        settings.open();
        settings.openTabById(plugin.APP_ID);
      }
    }
  ];
  const handleOptionClick = (index) => {
    setIsOpen(false);
    commands[index].command();
  };
  const handleButtonClick = () => {
    setIsOpen(!isOpen);
  };
  p2(() => {
    const handleClickOutside = (event) => {
      if (menuRef.current && !menuRef.current.contains(event.target)) {
        setIsOpen(false);
      }
    };
    document.addEventListener("mousedown", handleClickOutside);
    return () => {
      document.removeEventListener("mousedown", handleClickOutside);
    };
  }, []);
  return /* @__PURE__ */ u3("div", { className: "hm-more-button", ref: menuRef, children: [
    /* @__PURE__ */ u3("button", { onClick: handleButtonClick, class: "hm-view-browser-toolbar-button", children: /* @__PURE__ */ u3(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        width: "24",
        height: "24",
        viewBox: "0 0 24 24",
        fill: "none",
        stroke: "currentColor",
        "stroke-width": "2",
        "stroke-linecap": "round",
        "stroke-linejoin": "round",
        class: "lucide lucide-cog",
        children: [
          /* @__PURE__ */ u3("path", { d: "M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z" }),
          /* @__PURE__ */ u3("path", { d: "M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" }),
          /* @__PURE__ */ u3("path", { d: "M12 2v2" }),
          /* @__PURE__ */ u3("path", { d: "M12 22v-2" }),
          /* @__PURE__ */ u3("path", { d: "m17 20.66-1-1.73" }),
          /* @__PURE__ */ u3("path", { d: "M11 10.27 7 3.34" }),
          /* @__PURE__ */ u3("path", { d: "m20.66 17-1.73-1" }),
          /* @__PURE__ */ u3("path", { d: "m3.34 7 1.73 1" }),
          /* @__PURE__ */ u3("path", { d: "M14 12h8" }),
          /* @__PURE__ */ u3("path", { d: "M2 12h2" }),
          /* @__PURE__ */ u3("path", { d: "m20.66 7-1.73 1" }),
          /* @__PURE__ */ u3("path", { d: "m3.34 17 1.73-1" }),
          /* @__PURE__ */ u3("path", { d: "m17 3.34-1 1.73" }),
          /* @__PURE__ */ u3("path", { d: "m11 13.73-4 6.93" })
        ]
      }
    ) }),
    isOpen && /* @__PURE__ */ u3("ul", { className: "hm-more-button-dropdown-menu hm-button-dropdown-menu", children: commands.map((command) => /* @__PURE__ */ u3(
      "li",
      {
        onClick: () => {
          handleOptionClick(command.index);
        },
        class: "hm-source-button-list-item",
        children: command.name
      },
      command.index
    )) })
  ] });
};
var HelpMoreButton_default = HelpMoreButton;

// src/UI/browsers/WebViewBrowser.tsx
var import_obsidian2 = require("obsidian");
var iconHeight = 18;
var WebViewBrowser = ({
  urlAddress,
  plugin,
  showToolbar = true
}) => {
  const [url, setUrl] = h2(urlAddress || "");
  const api = plugin.HELPMATE_API;
  const debug = api.enableDebugging.webViewBrowser;
  const webviewRef = _(null);
  const executeWebViewMethod = (method, logMessage) => {
    if (webviewRef.current) {
      debug && api.log(`WebViewBrowser: ${logMessage}`, webviewRef.current.getURL());
      webviewRef.current[method]();
    }
  };
  const goBack = () => {
    executeWebViewMethod("goBack", "goBack");
  };
  const goForward = () => {
    executeWebViewMethod("goForward", "goForward");
  };
  const navigateTo = () => {
    var _a;
    debug && api.log("WebViewBrowser: navigateTo", url);
    if (!url.trim().startsWith("http://") && !url.trim().startsWith("https://")) {
      const newUrl = `https://${url.trim()}`;
      if (isValidUrl(newUrl))
        setUrl(newUrl);
    }
    if (isValidUrl(url.trim()))
      (_a = webviewRef.current) == null ? void 0 : _a.loadURL(url.trim());
    else
      new import_obsidian2.Notice("Invalid URL " + url);
  };
  const handleKeyPress = (event) => {
    if (event.key === "Enter") {
      navigateTo();
    }
  };
  const handleChange = (event) => {
    setUrl(event.target.value);
  };
  p2(() => {
    var _a;
    const handleDomReady = () => {
      debug && api.log("WebViewBrowser: dom-ready", webviewRef.current);
      const addEventListener = (eventName) => {
        var _a2;
        (_a2 = webviewRef.current) == null ? void 0 : _a2.addEventListener(eventName, () => {
          var _a3, _b, _c;
          debug && api.log(`WebViewBrowser: ${eventName}`, (_a3 = webviewRef.current) == null ? void 0 : _a3.getURL());
          setUrl((_c = (_b = webviewRef.current) == null ? void 0 : _b.getURL()) != null ? _c : "");
        });
      };
      addEventListener("did-navigate-in-page");
      addEventListener("did-navigate");
    };
    (_a = webviewRef.current) == null ? void 0 : _a.addEventListener("dom-ready", handleDomReady);
    return () => {
      var _a2;
      return (_a2 = webviewRef.current) == null ? void 0 : _a2.removeEventListener("dom-ready", handleDomReady);
    };
  }, []);
  return /* @__PURE__ */ u3("div", { class: "hm-view-browser", children: [
    showToolbar && /* @__PURE__ */ u3("div", { class: "hm-view-browser-toolbar", children: [
      /* @__PURE__ */ u3(HelpSourceButton_default, { setSelectedUrl: setUrl, plugin }),
      /* @__PURE__ */ u3(
        "input",
        {
          type: "text",
          value: url,
          onChange: handleChange,
          onKeyUp: handleKeyPress,
          placeholder: "Enter URL",
          class: "hm-view-browser-toolbar-input"
        }
      ),
      /* @__PURE__ */ u3(
        "button",
        {
          onClick: navigateTo,
          class: "hm-view-browser-toolbar-button",
          "aria-label": "Navigate To",
          children: /* @__PURE__ */ u3(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              width: "24",
              height: "24",
              viewBox: "0 0 24 24",
              fill: "none",
              stroke: "currentColor",
              "stroke-width": "2",
              "stroke-linecap": "round",
              "stroke-linejoin": "round",
              class: "lucide lucide-arrow-right-square",
              children: [
                /* @__PURE__ */ u3("rect", { width: "18", height: "18", x: "3", y: "3", rx: "2" }),
                /* @__PURE__ */ u3("path", { d: "M8 12h8" }),
                /* @__PURE__ */ u3("path", { d: "m12 16 4-4-4-4" })
              ]
            }
          )
        }
      ),
      /* @__PURE__ */ u3(
        "button",
        {
          onClick: goBack,
          class: "hm-view-browser-toolbar-button",
          "aria-label": "Go Back",
          children: /* @__PURE__ */ u3(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              width: iconHeight,
              height: iconHeight,
              viewBox: "0 0 24 24",
              fill: "none",
              stroke: "currentColor",
              "stroke-width": "2",
              "stroke-linecap": "round",
              "stroke-linejoin": "round",
              class: "lucide lucide-chevron-left",
              children: /* @__PURE__ */ u3("path", { d: "m15 18-6-6 6-6" })
            }
          )
        }
      ),
      /* @__PURE__ */ u3(
        "button",
        {
          onClick: goForward,
          class: "hm-view-browser-toolbar-button",
          "aria-label": "Go Forward",
          children: /* @__PURE__ */ u3(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              width: iconHeight,
              height: iconHeight,
              viewBox: "0 0 24 24",
              fill: "none",
              stroke: "currentColor",
              "stroke-width": "2",
              "stroke-linecap": "round",
              "stroke-linejoin": "round",
              class: "lucide lucide-chevron-right",
              children: /* @__PURE__ */ u3("path", { d: "m9 18 6-6-6-6" })
            }
          )
        }
      ),
      /* @__PURE__ */ u3(HelpMoreButton_default, { currentUrl: url, plugin })
    ] }),
    /* @__PURE__ */ u3(
      "webview",
      {
        ref: webviewRef,
        src: url,
        class: "hm-view-browser-webframe",
        enableblinkfeatures: "AutoDarkMode"
      }
    )
  ] });
};
var WebViewBrowser_default = WebViewBrowser;

// src/UI/browsers/IFrameBrowser.tsx
var import_obsidian3 = require("obsidian");
var IFrameBrowser = ({
  urlAddress,
  plugin,
  showToolbar = true
}) => {
  const api = plugin.HELPMATE_API;
  const debug = api.enableDebugging.iFrameBrowser;
  const iframeRef = _(null);
  const [inputUrl, setInputUrl] = h2(urlAddress || "");
  const [iframeUrl, setIframeUrl] = h2(urlAddress || "");
  const updateUrl = (url) => {
    let newUrl = url.trim();
    if (!newUrl.startsWith("http://") && !newUrl.startsWith("https://")) {
      newUrl = `https://${url}`;
    }
    if (isValidUrl(newUrl)) {
      setInputUrl(newUrl);
      setIframeUrl(newUrl);
    } else {
      new import_obsidian3.Notice("Invalid URL " + newUrl);
    }
  };
  const navigateTo = () => {
    if (iframeRef.current) {
      debug && api.log("IFrameBrowser: navigateTo", inputUrl);
      updateUrl(inputUrl);
    }
  };
  const handleKeyPress = (e3) => {
    if (e3.key === "Enter") {
      const newUrl = e3.target.value;
      updateUrl(newUrl);
    }
  };
  return /* @__PURE__ */ u3("div", { class: "hm-view-browser", children: [
    showToolbar && /* @__PURE__ */ u3("div", { class: "hm-view-browser-toolbar", children: [
      /* @__PURE__ */ u3(HelpSourceButton_default, { setSelectedUrl: updateUrl, plugin }),
      /* @__PURE__ */ u3(
        "input",
        {
          class: "hm-view-browser-toolbar-input",
          type: "text",
          value: inputUrl,
          onKeyPress: handleKeyPress,
          onChange: (e3) => {
            setInputUrl(e3.target.value);
          },
          placeholder: "Enter URL"
        }
      ),
      /* @__PURE__ */ u3(
        "button",
        {
          onClick: navigateTo,
          class: "hm-view-browser-toolbar-button",
          "aria-label": "Navigate To",
          children: /* @__PURE__ */ u3(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              width: "24",
              height: "24",
              viewBox: "0 0 24 24",
              fill: "none",
              stroke: "currentColor",
              "stroke-width": "2",
              "stroke-linecap": "round",
              "stroke-linejoin": "round",
              class: "lucide lucide-arrow-right-square",
              children: [
                /* @__PURE__ */ u3("rect", { width: "18", height: "18", x: "3", y: "3", rx: "2" }),
                /* @__PURE__ */ u3("path", { d: "M8 12h8" }),
                /* @__PURE__ */ u3("path", { d: "m12 16 4-4-4-4" })
              ]
            }
          )
        }
      ),
      /* @__PURE__ */ u3(HelpMoreButton_default, { currentUrl: iframeUrl, plugin })
    ] }),
    /* @__PURE__ */ u3("iframe", { ref: iframeRef, src: iframeUrl, class: "hm-view-browser-iframe" })
  ] });
};
var IFrameBrowser_default = IFrameBrowser;

// src/UI/browsers/EmbeddedBrowser.tsx
var import_obsidian4 = require("obsidian");

// src/UI/sidepane/AcknowledgeWebUse.tsx
var AcknowledgeWebUse = ({
  onAcknowledge,
  plugin
}) => {
  const [isChecked, setIsChecked] = h2(false);
  const handleCheckboxChange = () => {
    setIsChecked(!isChecked);
  };
  const handleButtonClick = () => {
    if (isChecked) {
      plugin.settings.acknowledgedWebUse = true;
      void plugin.saveSettings();
      onAcknowledge(true);
    } else {
      alert("Please check the Acknowledge checkbox to proceed");
    }
  };
  return /* @__PURE__ */ u3("div", { class: "hm-acknowledge-message", children: [
    /* @__PURE__ */ u3("p", { children: [
      " ",
      "HelpMate displays the help content from websites in the sidepane. Please keep in mind that this help content is coming from the web and you are responsible to verify that the sites are safe."
    ] }),
    /* @__PURE__ */ u3("p", { children: "Please check the Acknowledge checkbox to proceed." }),
    /* @__PURE__ */ u3("input", { type: "checkbox", checked: isChecked, onChange: handleCheckboxChange }),
    /* @__PURE__ */ u3("label", { children: "Acknowledge this message" }),
    /* @__PURE__ */ u3("br", {}),
    /* @__PURE__ */ u3("br", {}),
    /* @__PURE__ */ u3("button", { onClick: handleButtonClick, children: "Proceed" })
  ] });
};
var AcknowledgeWebUse_default = AcknowledgeWebUse;

// src/UI/browsers/EmbeddedBrowser.tsx
var EmbeddedBrowser = ({
  urlAddress,
  plugin,
  showToolbar = true
}) => {
  const browseMode = plugin.settings.forceIframe ? "IFrame" /* iFrame */ : import_obsidian4.Platform.isDesktop ? "WebView" /* webView */ : "IFrame" /* iFrame */;
  const [isAcknowledged, setIsAcknowledged] = h2(
    plugin.settings.acknowledgedWebUse
  );
  if (!isAcknowledged) {
    return /* @__PURE__ */ u3(AcknowledgeWebUse_default, { onAcknowledge: setIsAcknowledged, plugin });
  } else {
    return browseMode === "WebView" /* webView */ ? /* @__PURE__ */ u3(
      WebViewBrowser_default,
      {
        urlAddress,
        plugin,
        showToolbar
      }
    ) : /* @__PURE__ */ u3(
      IFrameBrowser_default,
      {
        urlAddress,
        plugin,
        showToolbar
      }
    );
  }
};
var EmbeddedBrowser_default = EmbeddedBrowser;

// src/UI/sidepane/HelpMateViewContainer.tsx
var HelpMateViewContainer = ({
  plugin,
  initialUrlAddress
}) => {
  const helpForPluginsList = getPluginHelpList(plugin);
  const url = initialUrlAddress && initialUrlAddress !== "" ? initialUrlAddress : helpForPluginsList[0].url;
  return /* @__PURE__ */ u3("div", { style: { height: "100%", width: "100%" }, class: "hm-view-container", children: /* @__PURE__ */ u3(EmbeddedBrowser_default, { urlAddress: url, plugin }) });
};
var HelpMateViewContainer_default = HelpMateViewContainer;

// src/UI/sidepane/HelpMateView.tsx
var VIEW_TYPE_HELPMATE = "help-mate";
var HelpMateView = class extends import_obsidian5.ItemView {
  constructor(leaf, helpMatePlugin) {
    super(leaf);
    this.plugin = helpMatePlugin;
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    const browserDiv = container.createDiv();
    browserDiv.style.height = "100%";
    browserDiv.style.width = "100%";
    browserDiv.classList.add("hm-view-parent");
    q(/* @__PURE__ */ u3(HelpMateViewContainer_default, { plugin: this.plugin }), browserDiv);
    return Promise.resolve();
  }
  updateView(url) {
    const container = this.containerEl.children[1];
    const browserDiv = container.querySelector(".hm-view-parent");
    if (browserDiv) {
      q(null, browserDiv);
      q(
        /* @__PURE__ */ u3(HelpMateViewContainer_default, { plugin: this.plugin, initialUrlAddress: url }),
        browserDiv
      );
    }
  }
  getIcon() {
    return this.plugin.icon;
  }
  getViewType() {
    return VIEW_TYPE_HELPMATE;
  }
  getDisplayText() {
    return "HelpMate";
  }
  async onClose() {
  }
};

// src/UI/codeblock.tsx
function createCodeBlock(plugin, source, element, _2) {
  let controlHeight = 400;
  let controlUrl = getPluginHelpList(plugin)[0].url;
  let controlToolbar = true;
  const lines = source.split("\n");
  lines.forEach((line) => {
    const [key, value] = line.split(": ");
    switch (key) {
      case "url":
        controlUrl = value;
        break;
      case "height":
        controlHeight = parseInt(value);
        break;
      case "toolbar":
        controlToolbar = value.toLowerCase() === "true";
        break;
      default:
        break;
    }
  });
  q(
    /* @__PURE__ */ u3("div", { style: { height: controlHeight }, children: /* @__PURE__ */ u3(
      EmbeddedBrowser_default,
      {
        plugin,
        urlAddress: controlUrl,
        showToolbar: controlToolbar
      }
    ) }),
    element
  );
}

// src/UI/settingsTab/integrationWithSettings.ts
var integrateIntoSettingsForm = (plugin, setting, manifest, _2) => {
  const extendedManifest = manifest;
  if (extendedManifest.helpUrl) {
    setting.addExtraButton((btn) => {
      btn.setIcon(plugin.icon).setTooltip("HelpMate").onClick(async () => {
        await plugin.activateView();
        await plugin.activateView(extendedManifest.helpUrl);
        const div = document.querySelector(".modal-close-button");
        if (div)
          div.click();
      });
    });
  }
};
var integrationWithSettings_default = integrateIntoSettingsForm;

// src/main.ts
var HelpMatePlugin = class extends import_obsidian6.Plugin {
  constructor() {
    super(...arguments);
    this.APP_NAME = this.manifest.name;
    this.APP_ID = this.manifest.id;
    this.HELPMATE_API = new HelpMateAPI(this);
    this.settings = DEFAULT_SETTINGS;
    this.icon = "life-buoy";
  }
  async onload() {
    console.log("loading " + this.APP_NAME);
    await this.loadSettings();
    this.addSettingTab(new HelpMateSettingTab(this.app, this));
    this.registerView(VIEW_TYPE_HELPMATE, (leaf) => new HelpMateView(leaf, this));
    window.helpMateAPI = this.HELPMATE_API;
    this.registerMarkdownCodeBlockProcessor("helpmate", (source, el, ctx) => {
      createCodeBlock(this, source, el, ctx);
    });
    this.showRibbonButton();
    initializeCommands(this);
    this.registerEvent(
      // based on plugin from https://github.com/pjeby/hotkey-helper
      this.app.workspace.on(
        "plugin-settings:plugin-control",
        (setting, manifest, enabled) => {
          if (manifest.helpUrl) {
            integrationWithSettings_default(this, setting, manifest, enabled);
          }
        }
      )
    );
  }
  async activateView(url) {
    const { workspace } = this.app;
    let leaf = null;
    const leaves = workspace.getLeavesOfType(VIEW_TYPE_HELPMATE);
    if (leaves.length > 0) {
      leaf = leaves[0];
      if (url)
        leaves[0].view.updateView(url);
    } else {
      const leaf2 = workspace.getRightLeaf(false);
      await leaf2.setViewState({ type: VIEW_TYPE_HELPMATE, active: true });
    }
    if (leaf)
      workspace.revealLeaf(leaf);
  }
  showRibbonButton() {
    this.ribbonIcon = this.addRibbonIcon(this.icon, "HelpMate", async () => {
      await this.activateView();
    });
  }
  onunload() {
    console.log("unloading " + this.APP_NAME);
    try {
      delete window.helpMateAPI;
    } catch (error) {
      console.log(error);
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21haW4udHMiLCAiLi4vc3JjL1VJL3NldHRpbmdzVGFiL1NldHRpbmdzVGFiLnRzeCIsICIuLi9zcmMvc2V0dGluZ3MudHMiLCAiLi4vc3JjL3Jlc291cmNlcy50cyIsICIuLi9zcmMvY29tbWFuZHMudHMiLCAiLi4vc3JjL1VJL3NpZGVwYW5lL0hlbHBNYXRlVmlldy50c3giLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvY29uc3RhbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL3V0aWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvb3B0aW9ucy5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9jcmVhdGUtZWxlbWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9jb21wb25lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvY3JlYXRlLWNvbnRleHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvZGlmZi9jaGlsZHJlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9kaWZmL3Byb3BzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2RpZmYvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvcmVuZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2Nsb25lLWVsZW1lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvZGlmZi9jYXRjaC1lcnJvci5qcyIsICIuLi9zcmMvSGVscE1hdGVBUEkudHMiLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9ob29rcy9zcmMvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9qc3gtcnVudGltZS9zcmMvdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvY29uc3RhbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcmVhY3QvanN4LXJ1bnRpbWUvc3JjL2luZGV4LmpzIiwgIi4uL3NyYy9VSS9zaWRlcGFuZS9IZWxwU291cmNlQnV0dG9uLnRzeCIsICIuLi9zcmMvVUkvc2lkZXBhbmUvSGVscE1vcmVCdXR0b24udHN4IiwgIi4uL3NyYy9VSS9icm93c2Vycy9XZWJWaWV3QnJvd3Nlci50c3giLCAiLi4vc3JjL1VJL2Jyb3dzZXJzL0lGcmFtZUJyb3dzZXIudHN4IiwgIi4uL3NyYy9VSS9icm93c2Vycy9FbWJlZGRlZEJyb3dzZXIudHN4IiwgIi4uL3NyYy9VSS9zaWRlcGFuZS9BY2tub3dsZWRnZVdlYlVzZS50c3giLCAiLi4vc3JjL1VJL3NpZGVwYW5lL0hlbHBNYXRlVmlld0NvbnRhaW5lci50c3giLCAiLi4vc3JjL1VJL2NvZGVibG9jay50c3giLCAiLi4vc3JjL1VJL3NldHRpbmdzVGFiL2ludGVncmF0aW9uV2l0aFNldHRpbmdzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgdHlwZSB7IFNldHRpbmcsIFBsdWdpbk1hbmlmZXN0LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgSGVscE1hdGVTZXR0aW5nVGFiIH0gZnJvbSAnLi9VSS9zZXR0aW5nc1RhYi9TZXR0aW5nc1RhYic7XG5pbXBvcnQgdHlwZSB7IEhlbHBNYXRlU2V0dGluZ3MgfSBmcm9tICcuL3NldHRpbmdzJztcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuL3NldHRpbmdzJztcbmltcG9ydCB7IEhlbHBNYXRlVmlldywgVklFV19UWVBFX0hFTFBNQVRFIH0gZnJvbSAnLi9VSS9zaWRlcGFuZS9IZWxwTWF0ZVZpZXcnO1xuaW1wb3J0IHsgY3JlYXRlQ29kZUJsb2NrIH0gZnJvbSAnLi9VSS9jb2RlYmxvY2snO1xuaW1wb3J0IEhlbHBNYXRlQVBJIGZyb20gJy4vSGVscE1hdGVBUEknO1xuaW1wb3J0IGludGVncmF0aW9uV2l0aFNldHRpbmdzIGZyb20gJy4vVUkvc2V0dGluZ3NUYWIvaW50ZWdyYXRpb25XaXRoU2V0dGluZ3MnO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZUNvbW1hbmRzIH0gZnJvbSAnLi9jb21tYW5kcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlbHBNYXRlUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgQVBQX05BTUUgPSB0aGlzLm1hbmlmZXN0Lm5hbWU7XG4gIEFQUF9JRCA9IHRoaXMubWFuaWZlc3QuaWQ7XG4gIEhFTFBNQVRFX0FQSTogSGVscE1hdGVBUEkgPSBuZXcgSGVscE1hdGVBUEkodGhpcyk7XG4gIHNldHRpbmdzOiBIZWxwTWF0ZVNldHRpbmdzID0gREVGQVVMVF9TRVRUSU5HUztcbiAgaWNvbiA9ICdsaWZlLWJ1b3knO1xuICByaWJib25JY29uITogSFRNTEVsZW1lbnQ7XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKCdsb2FkaW5nICcgKyB0aGlzLkFQUF9OQU1FKTtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBIZWxwTWF0ZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgIHRoaXMucmVnaXN0ZXJWaWV3KFZJRVdfVFlQRV9IRUxQTUFURSwgKGxlYWYpID0+IG5ldyBIZWxwTWF0ZVZpZXcobGVhZiwgdGhpcykpO1xuXG4gICAgLy8gQVBJIGFjY2VzcyB0byBIZWxwTWF0ZSBmb3IgVGVtcGxhdGVyLCBEYXRhdmlld2pzIGFuZCB0aGUgY29uc29sZSBkZWJ1Z2dlclxuICAgIHdpbmRvdy5oZWxwTWF0ZUFQSSA9IHRoaXMuSEVMUE1BVEVfQVBJO1xuXG4gICAgdGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKCdoZWxwbWF0ZScsIChzb3VyY2UsIGVsLCBjdHgpID0+IHtcbiAgICAgIGNyZWF0ZUNvZGVCbG9jayh0aGlzLCBzb3VyY2UsIGVsLCBjdHgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zaG93UmliYm9uQnV0dG9uKCk7XG5cbiAgICBpbml0aWFsaXplQ29tbWFuZHModGhpcyk7XG5cbiAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAvLyBiYXNlZCBvbiBwbHVnaW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcGplYnkvaG90a2V5LWhlbHBlclxuICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uKFxuICAgICAgICAncGx1Z2luLXNldHRpbmdzOnBsdWdpbi1jb250cm9sJyxcbiAgICAgICAgKHNldHRpbmc6IFNldHRpbmcsIG1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCwgZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIGlmIChtYW5pZmVzdC5oZWxwVXJsKSB7XG4gICAgICAgICAgICBpbnRlZ3JhdGlvbldpdGhTZXR0aW5ncyh0aGlzLCBzZXR0aW5nLCBtYW5pZmVzdCwgZW5hYmxlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGFzeW5jIGFjdGl2YXRlVmlldyh1cmw/OiBzdHJpbmcpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZSB9ID0gdGhpcy5hcHA7XG5cbiAgICBsZXQgbGVhZjogV29ya3NwYWNlTGVhZiB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IGxlYXZlcyA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0hFTFBNQVRFKTtcblxuICAgIGlmIChsZWF2ZXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gQSBsZWFmIHdpdGggb3VyIHZpZXcgYWxyZWFkeSBleGlzdHMsIHVzZSB0aGF0XG4gICAgICBsZWFmID0gbGVhdmVzWzBdO1xuICAgICAgaWYgKHVybCkgKGxlYXZlc1swXS52aWV3IGFzIEhlbHBNYXRlVmlldykudXBkYXRlVmlldyh1cmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdXIgdmlldyBjb3VsZCBub3QgYmUgZm91bmQgaW4gdGhlIHdvcmtzcGFjZSwgY3JlYXRlIGEgbmV3IGxlYWZcbiAgICAgIGNvbnN0IGxlYWYgPSB3b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKTtcbiAgICAgIGF3YWl0IGxlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogVklFV19UWVBFX0hFTFBNQVRFLCBhY3RpdmU6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLy8gXCJSZXZlYWxcIiB0aGUgbGVhZiBpbiBjYXNlIGl0IGlzIGluIGEgY29sbGFwc2VkIHNpZGViYXJcbiAgICBpZiAobGVhZikgd29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG4gIH1cblxuICBzaG93UmliYm9uQnV0dG9uKCk6IHZvaWQge1xuICAgIHRoaXMucmliYm9uSWNvbiA9IHRoaXMuYWRkUmliYm9uSWNvbih0aGlzLmljb24sICdIZWxwTWF0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuYWN0aXZhdGVWaWV3KCk7XG4gICAgfSk7XG4gIH1cblxuICBvbnVubG9hZCgpOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZygndW5sb2FkaW5nICcgKyB0aGlzLkFQUF9OQU1FKTtcbiAgICB0cnkge1xuICAgICAgZGVsZXRlIHdpbmRvdy5oZWxwTWF0ZUFQSTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50IC0tIE9ic2lkaWFuIGxvYWREYXRhIGlzIHNldCB0byByZXR1cm4gQW55XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgQXBwLCBUb2dnbGVDb21wb25lbnQgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBUZXh0QXJlYUNvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB0eXBlIEhlbHBNYXRlUGx1Z2luIGZyb20gJ3NyYy9tYWluJztcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuLi8uLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBhZGRIZWxwTWF0ZVJlc291cmNlc1RvQ29tbWFuZFBhbGV0dGUgfSBmcm9tICdzcmMvY29tbWFuZHMnO1xuXG5leHBvcnQgY2xhc3MgSGVscE1hdGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogSGVscE1hdGVQbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogSGVscE1hdGVQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoYEVuYWJsZSBPYnNpZGlhbidzIGhlbHAgaW4gSGVscE1hdGVgKVxuICAgICAgLnNldERlc2MoYFNob3cgT2JzaWRpYW4ncyBuYXRpdmUgaGVscC5gKVxuICAgICAgLmFkZFRvZ2dsZSgoY2I6IFRvZ2dsZUNvbXBvbmVudCkgPT4ge1xuICAgICAgICBjYi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlT2JzaWRpYW5IZWxwKTtcbiAgICAgICAgY2Iub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaW5jbHVkZU9ic2lkaWFuSGVscCA9IHZhbHVlO1xuICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShgT2JzaWRpYW4gSGVscCBVUkxgKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIGBVUkwgdG8gdXNlIGZvciBPYnNpZGlhbiBoZWxwLiBUaGlzIGNhbiBiZSBjaGFuZ2VkIHRvIGEgZGlmZmVyZW50IFVSTCBmb3Igb3RoZXIgbGFuZ3VhZ2VzLmBcbiAgICAgIClcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9ic2lkaWFuSGVscFVybCkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgaWYgKHZhbHVlLnRyaW0oKSA9PT0gJycpIHZhbHVlID0gREVGQVVMVF9TRVRUSU5HUy5vYnNpZGlhbkhlbHBVcmw7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mub2JzaWRpYW5IZWxwVXJsID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShgRW5hYmxlIE9ic2lkaWFuJ3MgaGVscCBmb3IgZGV2ZWxvcGVycyBpbiBIZWxwTWF0ZWApXG4gICAgICAuc2V0RGVzYyhgU2hvdyBPYnNpZGlhbidzIGRldmVsb3BlciBoZWxwLmApXG4gICAgICAuYWRkVG9nZ2xlKChjYjogVG9nZ2xlQ29tcG9uZW50KSA9PiB7XG4gICAgICAgIGNiLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVPYnNpZGlhbkRldkhlbHApO1xuICAgICAgICBjYi5vbkNoYW5nZShhc3luYyAodmFsdWU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlT2JzaWRpYW5EZXZIZWxwID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKGBPYnNpZGlhbiBkZXZlbG9wZXIgaGVscCBVUkxgKVxuICAgICAgLnNldERlc2MoYFVSTCB0byB1c2UgZm9yIE9ic2lkaWFuJ3MgRGV2ZWxvcGVyIGhlbHAuYClcbiAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PlxuICAgICAgICB0ZXh0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm9ic2lkaWFuRGV2SGVscFVybCkub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgaWYgKHZhbHVlLnRyaW0oKSA9PT0gJycpIHZhbHVlID0gREVGQVVMVF9TRVRUSU5HUy5vYnNpZGlhbkRldkhlbHBVcmw7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mub2JzaWRpYW5EZXZIZWxwVXJsID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZShgRW5hYmxlIEhlbHBNYXRlJ3MgaGVscCBpbiBIZWxwTWF0ZWApXG4gICAgICAuc2V0RGVzYyhgU2hvdyB0aGUgZGVvY3VtZW50YXRpb24gZm9yIEhlbHBNYXRlLmApXG4gICAgICAuYWRkVG9nZ2xlKChjYjogVG9nZ2xlQ29tcG9uZW50KSA9PiB7XG4gICAgICAgIGNiLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmluY2x1ZGVIZWxwTWF0ZUhlbHApO1xuICAgICAgICBjYi5vbkNoYW5nZShhc3luYyAodmFsdWU6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlSGVscE1hdGVIZWxwID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBjb250YWluZXJFbFxuICAgICAgLmNyZWF0ZUVsKCdkaXYnLCB7IHRleHQ6ICdMaXN0IG9mIGN1c3RvbSBoZWxwIHJlc291cmNlcycgfSlcbiAgICAgIC5hZGRDbGFzcygnc2V0dGluZy1pdGVtJyk7XG5cbiAgICBjb250YWluZXJFbFxuICAgICAgLmNyZWF0ZUVsKCdkaXYnLCB7XG4gICAgICAgIHRleHQ6IGBBZGQgY3VzdG9tIGhlbHAgcmVzb3VyY2VzIHRvIGJlIGRpc3BsYXllZCBpbiBIZWxwTWF0ZS4gUGxlYXNlIG5vdGUgc29tZSBzaXRlcyB3aWxsIG5vdFxuICAgICAgICAgICAgICAgd29yayBvbiBtb2JpbGUgZGV2aWNlcywgZHVlIHRvIHNvbWUgY2hhcmFjdGVyaXN0aWNzIG9mIE9ic2lkaWFuIE1vYmlsZSBldmVuIHRob3VnaCB0aGV5IHdvcmsgb24gT2JzaWRpYW4gRGVza3RvcC4gIElucHV0IGEgbGlzdCBvZiBVUkxzLCBcbiAgICAgICAgICAgICAgIG9uZSBwZXIgbGluZSB1c2luZyB0aGUgZm9sbG93aW5nIGZvcm1hdDogXCJUaXRsZSB8IFVSTFwiLiBUaXRsZSBpcyB0aGUgbmFtZSBvZiB0aGUgcmVzb3VyY2VzLCBhbmQgVVJMIGlzIHRoZSB0aGUgd2Vic2l0ZS4gRm9yIGV4YW1wbGU6IGAsXG4gICAgICB9KVxuICAgICAgLmFkZENsYXNzKCdzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24nKTtcblxuICAgIGNvbnRhaW5lckVsXG4gICAgICAuY3JlYXRlRWwoJ2RpdicsIHsgdGV4dDogYEV4YW1wbGUgSGVscCB8IGh0dHBzOi8vaGVscC5leGFtcGxlLmNvbWAgfSlcbiAgICAgIC5hZGRDbGFzcygnc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uJyk7XG5cbiAgICBjb25zdCBoZWxwVXJsTGlzdCA9IG5ldyBUZXh0QXJlYUNvbXBvbmVudChjb250YWluZXJFbCk7XG4gICAgaGVscFVybExpc3QuaW5wdXRFbC5zdHlsZS5tYXJnaW5Ub3AgPSAnMTJweCc7XG4gICAgaGVscFVybExpc3QuaW5wdXRFbC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBoZWxwVXJsTGlzdC5pbnB1dEVsLnN0eWxlLmhlaWdodCA9ICczMnZoJztcbiAgICBoZWxwVXJsTGlzdC5zZXRQbGFjZWhvbGRlcignVGl0bGUgfCBVUkwnKTtcbiAgICBoZWxwVXJsTGlzdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VyUmVzb3VyY2VzKS5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJSZXNvdXJjZXMgPSB2YWx1ZTtcbiAgICAgIGFkZEhlbHBNYXRlUmVzb3VyY2VzVG9Db21tYW5kUGFsZXR0ZSh0aGlzLnBsdWdpbik7XG4gICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICB9KTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoYFVzZSBJRlJBTUVgKVxuICAgICAgLnNldERlc2MoXG4gICAgICAgIGBPbiBzb21lIGRldmljZXMgdGhlIGJyb3dzZXIgY29tcG9uZW50IG9mIEhlbHBNYXRlIG1heSBub3QgZGlzcGxheSBwcm9wZXJseS4gVGhpcyBzZXR0aW5nIGZvcmNlcyB1c2Ugb2YgSUZSQU1FIFxuXHRcdFx0XHRcdFx0IHdoaWNoIGlzIG1vcmUgY29tcGF0aWJsZSBhY3Jvc3MgZGV2aWNlcywgYnV0IGhhcyBsZXNzIGZ1bmN0aW9uYWxpdHkuIE9ubHkgdXNlIHRoaXMgaWYgeW91IGFyZSBoYXZpbmcgaXNzdWVzLiBNb2JpbGVcblx0XHRcdFx0XHRcdCBkZXZpY2VzIGFsd2F5cyB1c2UgSUZSQU1FLCBzaW5jZSB0aGlzIGlzIHRoZSBvbmx5IHN1cHBvcnRlZCBvcHRpb24gb24gbW9iaWxlLiBTbyB0aGlzIHNldHRpbmcgZG9lcyBub3QgYXBwbHkgdG8gbW9iaWxlLlxuXHRcdFx0XHRcdFx0IChUaGlzIHNldHRpbmcgd2lsbCByZXF1aXJlIGEgcmVzdGFydCBvZiBPYnNpZGlhbiB0byB0YWtlIGVmZmVjdCkuYFxuICAgICAgKVxuICAgICAgLmFkZFRvZ2dsZSgoY2I6IFRvZ2dsZUNvbXBvbmVudCkgPT4ge1xuICAgICAgICBjYi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb3JjZUlmcmFtZSk7XG4gICAgICAgIGNiLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZTogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmZvcmNlSWZyYW1lID0gdmFsdWU7XG4gICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cbn1cbiIsICJleHBvcnQgaW50ZXJmYWNlIEhlbHBNYXRlU2V0dGluZ3Mge1xuICBhY2tub3dsZWRnZWRXZWJVc2U6IGJvb2xlYW47XG4gIGluY2x1ZGVPYnNpZGlhbkhlbHA6IGJvb2xlYW47XG4gIG9ic2lkaWFuSGVscFVybDogc3RyaW5nO1xuICBpbmNsdWRlT2JzaWRpYW5EZXZIZWxwOiBib29sZWFuO1xuICBvYnNpZGlhbkRldkhlbHBVcmw6IHN0cmluZztcbiAgaW5jbHVkZUhlbHBNYXRlSGVscDogYm9vbGVhbjtcbiAgdXNlclJlc291cmNlczogc3RyaW5nO1xuICBmb3JjZUlmcmFtZTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEhlbHBNYXRlU2V0dGluZ3MgPSB7XG4gIGFja25vd2xlZGdlZFdlYlVzZTogZmFsc2UsXG4gIGluY2x1ZGVPYnNpZGlhbkhlbHA6IHRydWUsXG4gIG9ic2lkaWFuSGVscFVybDogJ2h0dHBzOi8vaGVscC5vYnNpZGlhbi5tZCcsXG4gIGluY2x1ZGVPYnNpZGlhbkRldkhlbHA6IHRydWUsXG4gIG9ic2lkaWFuRGV2SGVscFVybDogJ2h0dHBzOi8vZG9jcy5vYnNpZGlhbi5tZC9Ib21lJyxcbiAgaW5jbHVkZUhlbHBNYXRlSGVscDogdHJ1ZSxcbiAgdXNlclJlc291cmNlczogJycsXG4gIGZvcmNlSWZyYW1lOiBmYWxzZSxcbn07XG4iLCAiLy8gY29tcGlsZXMgdGhlIGxpc3Qgb2YgcmVzb3VyY2VzIGF2YWlsYWJsZSBpbiB0aGUgVUlcblxuaW1wb3J0IHR5cGUgSGVscE1hdGVQbHVnaW4gZnJvbSAnLi9tYWluJztcbmltcG9ydCB0eXBlIHsgUGx1Z2luTWFuaWZlc3QsIFRoZW1lTWFuaWZlc3QgfSBmcm9tICdvYnNpZGlhbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSGVscEZvclBsdWdpbiB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBpc1ZhbGlkVXJsID0gKHVybDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHRyeSB7XG4gICAgbmV3IFVSTCh1cmwudHJpbSgpKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQbHVnaW5IZWxwTGlzdCA9IChwbHVnaW46IEhlbHBNYXRlUGx1Z2luKTogSGVscEZvclBsdWdpbltdID0+IHtcbiAgY29uc3QgaW5pdGlhbEhlbHBMaXN0OiBIZWxwRm9yUGx1Z2luW10gPSBPYmplY3QudmFsdWVzKHBsdWdpbi5hcHAucGx1Z2lucy5tYW5pZmVzdHMpXG4gICAgLmZpbHRlcigocDogUGx1Z2luTWFuaWZlc3QpID0+IHAuaGVscFVybCAmJiBwLmlkICE9PSBwbHVnaW4uQVBQX0lEKVxuICAgIC5tYXAoKHA6IFBsdWdpbk1hbmlmZXN0KSA9PiAoeyBpZDogcC5pZCwgbmFtZTogcC5uYW1lLCB1cmw6IHAuaGVscFVybCA/PyAnJyB9KSk7XG5cbiAgY29uc3QgY3VzdG9tUGx1Z2luTGlzdCA9IHBsdWdpbi5zZXR0aW5ncy51c2VyUmVzb3VyY2VzLnNwbGl0KCdcXG4nKTtcbiAgY3VzdG9tUGx1Z2luTGlzdC5mb3JFYWNoKChwOiBzdHJpbmcpID0+IHtcbiAgICBpZiAocC50cmltKCkgIT09ICcnKSB7XG4gICAgICBjb25zdCBbbmFtZSwgdXJsXSA9IHAuc3BsaXQoJ3wnKTtcbiAgICAgIGlmIChuYW1lICYmIHVybCAmJiBpc1ZhbGlkVXJsKHVybCkpXG4gICAgICAgIGluaXRpYWxIZWxwTGlzdC5wdXNoKHsgaWQ6IG5hbWUsIG5hbWU6IG5hbWUsIHVybDogdXJsIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgdGhlbWVMaXN0ID0gKE9iamVjdC52YWx1ZXMocGx1Z2luLmFwcC5jdXN0b21Dc3MudGhlbWVzKSBhcyBUaGVtZU1hbmlmZXN0W10pXG4gICAgLmZpbHRlcigocDogVGhlbWVNYW5pZmVzdCkgPT4gcC5oZWxwVXJsKVxuICAgIC5tYXAoXG4gICAgICAocDogVGhlbWVNYW5pZmVzdCk6IEhlbHBGb3JQbHVnaW4gPT4gKHtcbiAgICAgICAgaWQ6IHAubmFtZSxcbiAgICAgICAgbmFtZTogcC5uYW1lLFxuICAgICAgICB1cmw6IHAuaGVscFVybCA/IHAuaGVscFVybCA6ICcnLFxuICAgICAgfSlcbiAgICApO1xuXG4gIC8vIGFkZCB0aGVtZXMgdG8gdGhlIGxpc3QgaWYgdGhleSBoYXZlIHRoZSBoZWxwVXJsIHByb3BlcnR5IGluIHRoZWlyIG1hbmlmZXN0IGZpbGVcbiAgdGhlbWVMaXN0LmZvckVhY2goKHA6IEhlbHBGb3JQbHVnaW4pID0+IHtcbiAgICBpZiAocC5uYW1lICYmIHAudXJsICYmIGlzVmFsaWRVcmwocC51cmwpKVxuICAgICAgaW5pdGlhbEhlbHBMaXN0LnB1c2goeyBpZDogcC5uYW1lLCBuYW1lOiBwLm5hbWUsIHVybDogcC51cmwgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IHBhdHRlcm4gPSAvXFxbaGVscFVybDooLis/KVxcfCguKz8pXFxdLztcbiAgQXJyYXkuZnJvbShwbHVnaW4uYXBwLmN1c3RvbUNzcy5jc3NjYWNoZS5lbnRyaWVzKCkpLmZvckVhY2goKFtfLCB2YWx1ZV0pID0+IHtcbiAgICBjb25zdCBtYXRjaGVzID0gdmFsdWUubWF0Y2gocGF0dGVybik7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIGNvbnN0IHJlc291cmNlTmFtZSA9IG1hdGNoZXNbMV0udHJpbSgpO1xuICAgICAgY29uc3QgdXJsID0gbWF0Y2hlc1syXS50cmltKCk7XG4gICAgICBpZiAocmVzb3VyY2VOYW1lICYmIHVybCAmJiBpc1ZhbGlkVXJsKHVybCkpXG4gICAgICAgIGluaXRpYWxIZWxwTGlzdC5wdXNoKHsgaWQ6IHJlc291cmNlTmFtZSwgbmFtZTogcmVzb3VyY2VOYW1lLCB1cmw6IHVybCB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHNvcnRlZEhlbHBGb3JQbHVnaW5MaXN0ID0gaW5pdGlhbEhlbHBMaXN0LnNvcnQoKGEsIGIpID0+XG4gICAgYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKVxuICApO1xuXG4gIGlmIChcbiAgICBwbHVnaW4uc2V0dGluZ3MuaW5jbHVkZU9ic2lkaWFuRGV2SGVscCAmJlxuICAgIHBsdWdpbi5zZXR0aW5ncy5vYnNpZGlhbkRldkhlbHBVcmwgJiZcbiAgICBpc1ZhbGlkVXJsKHBsdWdpbi5zZXR0aW5ncy5vYnNpZGlhbkRldkhlbHBVcmwpXG4gIClcbiAgICBzb3J0ZWRIZWxwRm9yUGx1Z2luTGlzdC51bnNoaWZ0KHtcbiAgICAgIGlkOiAnb2JzaWRpYW4tZGV2JyxcbiAgICAgIG5hbWU6ICdPYnNpZGlhbiBEZXZlbG9wZXIgSGVscCcsXG4gICAgICB1cmw6IHBsdWdpbi5zZXR0aW5ncy5vYnNpZGlhbkRldkhlbHBVcmwsXG4gICAgfSk7XG5cbiAgaWYgKFxuICAgIHBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlT2JzaWRpYW5IZWxwICYmXG4gICAgcGx1Z2luLnNldHRpbmdzLm9ic2lkaWFuSGVscFVybCAmJlxuICAgIGlzVmFsaWRVcmwocGx1Z2luLnNldHRpbmdzLm9ic2lkaWFuSGVscFVybClcbiAgKVxuICAgIHNvcnRlZEhlbHBGb3JQbHVnaW5MaXN0LnVuc2hpZnQoe1xuICAgICAgaWQ6ICdvYnNpZGlhbicsXG4gICAgICBuYW1lOiAnT2JzaWRpYW4gSGVscCcsXG4gICAgICB1cmw6IHBsdWdpbi5zZXR0aW5ncy5vYnNpZGlhbkhlbHBVcmwsXG4gICAgfSk7XG5cbiAgaWYgKHBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlSGVscE1hdGVIZWxwKVxuICAgIHNvcnRlZEhlbHBGb3JQbHVnaW5MaXN0LnB1c2goe1xuICAgICAgaWQ6ICdoZWxwbWF0ZScsXG4gICAgICBuYW1lOiAnSGVscE1hdGUgSGVscCcsXG4gICAgICB1cmw6ICdodHRwczovL3RmdGhhY2tlci5jb20vSGVscE1hdGUnLFxuICAgIH0pO1xuXG4gIHJldHVybiBzb3J0ZWRIZWxwRm9yUGx1Z2luTGlzdDtcbn07XG4iLCAiaW1wb3J0IHR5cGUgSGVscE1hdGVQbHVnaW4gZnJvbSAnLi9tYWluJztcbmltcG9ydCB7IGdldFBsdWdpbkhlbHBMaXN0IH0gZnJvbSAnLi9yZXNvdXJjZXMnO1xuXG4vLyBoZWxwbWF0ZSBpcyBhIGN1c3RvbSBwcm9wZXJ0eSB0aGF0IHdlIGFkZCB0byB0aGUgQ29tbWFuZCBpbnRlcmZhY2Vcbi8vIHRvIHRyYWNrIHdoaWNoIGNvbW1hbmRzIGFyZSBhZGRlZCBieSBIZWxwTWF0ZVxuZGVjbGFyZSBtb2R1bGUgJ29ic2lkaWFuJyB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgQ29tbWFuZCB7XG4gICAgaGVscG1hdGU/OiBib29sZWFuO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsaXplQ29tbWFuZHMgPSAocGx1Z2luOiBIZWxwTWF0ZVBsdWdpbikgPT4ge1xuICBwbHVnaW4uYWRkQ29tbWFuZCh7XG4gICAgaWQ6ICdvcGVuLWhlbHBtYXRlJyxcbiAgICBuYW1lOiAnT3BlbiBzaWRlcGFuZScsXG4gICAgY2FsbGJhY2s6ICgpID0+IHBsdWdpbi5hY3RpdmF0ZVZpZXcoKSxcbiAgfSk7XG4gIGFkZEhlbHBNYXRlUmVzb3VyY2VzVG9Db21tYW5kUGFsZXR0ZShwbHVnaW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZEhlbHBNYXRlUmVzb3VyY2VzVG9Db21tYW5kUGFsZXR0ZSA9IChwbHVnaW46IEhlbHBNYXRlUGx1Z2luKSA9PiB7XG4gIC8vIHdoZW4gdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQsIHdlIHJlYnVpbGQgYWxsIHRoZSBjb21tYW5kIHBhbGV0dGUgZW50cmllc1xuICAvLyBUaGlzIG9ubHkgaGFwcGVucyB3aGVuIHRoZSB1c2VyIG1ha2VzIGNoYW5nZXMgdG8gdGhlIGxpc3Qgb2YgcGx1Z2lucyBpbiBzZXR0aW5nc1xuICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgT2JqZWN0LnZhbHVlcyhwbHVnaW4uYXBwLmNvbW1hbmRzLmNvbW1hbmRzKSlcbiAgICBpZiAoY29tbWFuZC5oZWxwbWF0ZSkgcGx1Z2luLmFwcC5jb21tYW5kcy5yZW1vdmVDb21tYW5kKGNvbW1hbmQuaWQpO1xuXG4gIGdldFBsdWdpbkhlbHBMaXN0KHBsdWdpbikuZm9yRWFjaCgoaGVscCkgPT4ge1xuICAgIHBsdWdpbi5hZGRDb21tYW5kKHtcbiAgICAgIGlkOiBoZWxwLmlkLFxuICAgICAgbmFtZTogYHZpZXc6ICR7aGVscC5uYW1lfWAsXG4gICAgICBjYWxsYmFjazogKCkgPT4gcGx1Z2luLmFjdGl2YXRlVmlldyhoZWxwLnVybCksXG4gICAgICBoZWxwbWF0ZTogdHJ1ZSxcbiAgICB9KTtcbiAgfSk7XG59O1xuIiwgIi8vIFRoaXMgaXMgdGhlIHNpZGVwYW5lLiBJdCBkb2VzIG9uZSB0aGluZywgaXQgbG9hZGVzIHRoZSBIZWxwTWF0ZVZpZXdDb250YWluZXIgd2hpY2ggY29udGFpbnMgYWxsIHRoZSBsb2dpYyBmb3IgdGhlIHBhbmUuXG5cbmltcG9ydCB0eXBlIHsgV29ya3NwYWNlTGVhZiB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7IEl0ZW1WaWV3IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB0eXBlIEhlbHBNYXRlUGx1Z2luIGZyb20gJ3NyYy9tYWluJztcbmltcG9ydCBIZWxwTWF0ZVZpZXdDb250YWluZXIgZnJvbSAnLi9IZWxwTWF0ZVZpZXdDb250YWluZXInO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0hFTFBNQVRFID0gJ2hlbHAtbWF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBIZWxwTWF0ZVZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gIHBsdWdpbjogSGVscE1hdGVQbHVnaW47XG5cbiAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgaGVscE1hdGVQbHVnaW46IEhlbHBNYXRlUGx1Z2luKSB7XG4gICAgc3VwZXIobGVhZik7XG4gICAgdGhpcy5wbHVnaW4gPSBoZWxwTWF0ZVBsdWdpbjtcbiAgfVxuXG4gIGFzeW5jIG9uT3BlbigpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuICAgIGNvbnN0IGJyb3dzZXJEaXYgPSBjb250YWluZXIuY3JlYXRlRGl2KCk7XG4gICAgYnJvd3NlckRpdi5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgYnJvd3NlckRpdi5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBicm93c2VyRGl2LmNsYXNzTGlzdC5hZGQoJ2htLXZpZXctcGFyZW50Jyk7XG4gICAgcmVuZGVyKDxIZWxwTWF0ZVZpZXdDb250YWluZXIgcGx1Z2luPXt0aGlzLnBsdWdpbn0gLz4sIGJyb3dzZXJEaXYpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHVwZGF0ZVZpZXcodXJsOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdO1xuICAgIGNvbnN0IGJyb3dzZXJEaXYgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmhtLXZpZXctcGFyZW50Jyk7XG4gICAgaWYgKGJyb3dzZXJEaXYpIHtcbiAgICAgIHJlbmRlcihudWxsLCBicm93c2VyRGl2KTtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEhlbHBNYXRlVmlld0NvbnRhaW5lciBwbHVnaW49e3RoaXMucGx1Z2lufSBpbml0aWFsVXJsQWRkcmVzcz17dXJsfSAvPixcbiAgICAgICAgYnJvd3NlckRpdlxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBnZXRJY29uKCkge1xuICAgIHJldHVybiB0aGlzLnBsdWdpbi5pY29uO1xuICB9XG5cbiAgZ2V0Vmlld1R5cGUoKSB7XG4gICAgcmV0dXJuIFZJRVdfVFlQRV9IRUxQTUFURTtcbiAgfVxuXG4gIGdldERpc3BsYXlUZXh0KCkge1xuICAgIHJldHVybiAnSGVscE1hdGUnO1xuICB9XG5cbiAgYXN5bmMgb25DbG9zZSgpIHtcbiAgICAvLyBOb3RoaW5nIHRvIGNsZWFuIHVwLlxuICB9XG59XG4iLCAiLyoqIE5vcm1hbCBoeWRyYXRpb24gdGhhdCBhdHRhY2hlcyB0byBhIERPTSB0cmVlIGJ1dCBkb2VzIG5vdCBkaWZmIGl0LiAqL1xuZXhwb3J0IGNvbnN0IE1PREVfSFlEUkFURSA9IDEgPDwgNTtcbi8qKiBTaWduaWZpZXMgdGhpcyBWTm9kZSBzdXNwZW5kZWQgb24gdGhlIHByZXZpb3VzIHJlbmRlciAqL1xuZXhwb3J0IGNvbnN0IE1PREVfU1VTUEVOREVEID0gMSA8PCA3O1xuLyoqIEluZGljYXRlcyB0aGF0IHRoaXMgbm9kZSBuZWVkcyB0byBiZSBpbnNlcnRlZCB3aGlsZSBwYXRjaGluZyBjaGlsZHJlbiAqL1xuZXhwb3J0IGNvbnN0IElOU0VSVF9WTk9ERSA9IDEgPDwgMTY7XG4vKiogSW5kaWNhdGVzIGEgVk5vZGUgaGFzIGJlZW4gbWF0Y2hlZCB3aXRoIGFub3RoZXIgVk5vZGUgaW4gdGhlIGRpZmYgKi9cbmV4cG9ydCBjb25zdCBNQVRDSEVEID0gMSA8PCAxNztcblxuLyoqIFJlc2V0IGFsbCBtb2RlIGZsYWdzICovXG5leHBvcnQgY29uc3QgUkVTRVRfTU9ERSA9IH4oTU9ERV9IWURSQVRFIHwgTU9ERV9TVVNQRU5ERUQpO1xuXG5leHBvcnQgY29uc3QgRU1QVFlfT0JKID0gLyoqIEB0eXBlIHthbnl9ICovICh7fSk7XG5leHBvcnQgY29uc3QgRU1QVFlfQVJSID0gW107XG5leHBvcnQgY29uc3QgSVNfTk9OX0RJTUVOU0lPTkFMID1cblx0L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaTtcbiIsICJpbXBvcnQgeyBFTVBUWV9BUlIgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuLyoqXG4gKiBBc3NpZ24gcHJvcGVydGllcyBmcm9tIGBwcm9wc2AgdG8gYG9iamBcbiAqIEB0ZW1wbGF0ZSBPLCBQIFRoZSBvYmogYW5kIHByb3BzIHR5cGVzXG4gKiBAcGFyYW0ge099IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0b1xuICogQHBhcmFtIHtQfSBwcm9wcyBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcmV0dXJucyB7TyAmIFB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHQvLyBAdHMtZXhwZWN0LWVycm9yIFdlIGNoYW5nZSB0aGUgdHlwZSBvZiBgb2JqYCB0byBiZSBgTyAmIFBgXG5cdGZvciAobGV0IGkgaW4gcHJvcHMpIG9ialtpXSA9IHByb3BzW2ldO1xuXHRyZXR1cm4gLyoqIEB0eXBlIHtPICYgUH0gKi8gKG9iaik7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgY2hpbGQgbm9kZSBmcm9tIGl0cyBwYXJlbnQgaWYgYXR0YWNoZWQuIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvclxuICogSUUxMSB3aGljaCBkb2Vzbid0IHN1cHBvcnQgYEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSgpYC4gVXNpbmcgdGhpcyBmdW5jdGlvblxuICogaXMgc21hbGxlciB0aGFuIGluY2x1ZGluZyBhIGRlZGljYXRlZCBwb2x5ZmlsbC5cbiAqIEBwYXJhbSB7cHJlYWN0LkNvbnRhaW5lck5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gcmVtb3ZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVOb2RlKG5vZGUpIHtcblx0bGV0IHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG5cdGlmIChwYXJlbnROb2RlKSBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuXG5leHBvcnQgY29uc3Qgc2xpY2UgPSBFTVBUWV9BUlIuc2xpY2U7XG4iLCAiaW1wb3J0IHsgX2NhdGNoRXJyb3IgfSBmcm9tICcuL2RpZmYvY2F0Y2gtZXJyb3InO1xuXG4vKipcbiAqIFRoZSBgb3B0aW9uYCBvYmplY3QgY2FuIHBvdGVudGlhbGx5IGNvbnRhaW4gY2FsbGJhY2sgZnVuY3Rpb25zXG4gKiB0aGF0IGFyZSBjYWxsZWQgZHVyaW5nIHZhcmlvdXMgc3RhZ2VzIG9mIG91ciByZW5kZXJlci4gVGhpcyBpcyB0aGVcbiAqIGZvdW5kYXRpb24gb24gd2hpY2ggYWxsIG91ciBhZGRvbnMgbGlrZSBgcHJlYWN0L2RlYnVnYCwgYHByZWFjdC9jb21wYXRgLFxuICogYW5kIGBwcmVhY3QvaG9va3NgIGFyZSBiYXNlZCBvbi4gU2VlIHRoZSBgT3B0aW9uc2AgdHlwZSBpbiBgaW50ZXJuYWwuZC50c2BcbiAqIGZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgb3B0aW9uIGhvb2tzIChtb3N0IGVkaXRvcnMvSURFcyBhbGxvdyB5b3UgdG9cbiAqIGN0cmwrY2xpY2sgb3IgY21kK2NsaWNrIG9uIG1hYyB0aGUgdHlwZSBkZWZpbml0aW9uIGJlbG93KS5cbiAqIEB0eXBlIHtPcHRpb25zfVxuICovXG5jb25zdCBvcHRpb25zID0ge1xuXHRfY2F0Y2hFcnJvclxufTtcblxuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbiIsICJpbXBvcnQgeyBzbGljZSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuXG5sZXQgdm5vZGVJZCA9IDA7XG5cbi8qKlxuICogQ3JlYXRlIGFuIHZpcnR1YWwgbm9kZSAodXNlZCBmb3IgSlNYKVxuICogQHBhcmFtIHtWTm9kZVtcInR5cGVcIl19IHR5cGUgVGhlIG5vZGUgbmFtZSBvciBDb21wb25lbnQgY29uc3RydWN0b3IgZm9yIHRoaXNcbiAqIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3QgfCBudWxsIHwgdW5kZWZpbmVkfSBbcHJvcHNdIFRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuJykuQ29tcG9uZW50Q2hpbGRyZW4+fSBbY2hpbGRyZW5dIFRoZSBjaGlsZHJlbiBvZiB0aGVcbiAqIHZpcnR1YWwgbm9kZVxuICogQHJldHVybnMge1ZOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0eXBlLCBwcm9wcywgY2hpbGRyZW4pIHtcblx0bGV0IG5vcm1hbGl6ZWRQcm9wcyA9IHt9LFxuXHRcdGtleSxcblx0XHRyZWYsXG5cdFx0aTtcblx0Zm9yIChpIGluIHByb3BzKSB7XG5cdFx0aWYgKGkgPT0gJ2tleScpIGtleSA9IHByb3BzW2ldO1xuXHRcdGVsc2UgaWYgKGkgPT0gJ3JlZicpIHJlZiA9IHByb3BzW2ldO1xuXHRcdGVsc2Ugbm9ybWFsaXplZFByb3BzW2ldID0gcHJvcHNbaV07XG5cdH1cblxuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcblx0XHRub3JtYWxpemVkUHJvcHMuY2hpbGRyZW4gPVxuXHRcdFx0YXJndW1lbnRzLmxlbmd0aCA+IDMgPyBzbGljZS5jYWxsKGFyZ3VtZW50cywgMikgOiBjaGlsZHJlbjtcblx0fVxuXG5cdC8vIElmIGEgQ29tcG9uZW50IFZOb2RlLCBjaGVjayBmb3IgYW5kIGFwcGx5IGRlZmF1bHRQcm9wc1xuXHQvLyBOb3RlOiB0eXBlIG1heSBiZSB1bmRlZmluZWQgaW4gZGV2ZWxvcG1lbnQsIG11c3QgbmV2ZXIgZXJyb3IgaGVyZS5cblx0aWYgKHR5cGVvZiB0eXBlID09ICdmdW5jdGlvbicgJiYgdHlwZS5kZWZhdWx0UHJvcHMgIT0gbnVsbCkge1xuXHRcdGZvciAoaSBpbiB0eXBlLmRlZmF1bHRQcm9wcykge1xuXHRcdFx0aWYgKG5vcm1hbGl6ZWRQcm9wc1tpXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHR5cGUuZGVmYXVsdFByb3BzW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBub3JtYWxpemVkUHJvcHMsIGtleSwgcmVmLCBudWxsKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBWTm9kZSAodXNlZCBpbnRlcm5hbGx5IGJ5IFByZWFjdClcbiAqIEBwYXJhbSB7Vk5vZGVbXCJ0eXBlXCJdfSB0eXBlIFRoZSBub2RlIG5hbWUgb3IgQ29tcG9uZW50XG4gKiBDb25zdHJ1Y3RvciBmb3IgdGhpcyB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0IHwgc3RyaW5nIHwgbnVtYmVyIHwgbnVsbH0gcHJvcHMgVGhlIHByb3BlcnRpZXMgb2YgdGhpcyB2aXJ0dWFsIG5vZGUuXG4gKiBJZiB0aGlzIHZpcnR1YWwgbm9kZSByZXByZXNlbnRzIGEgdGV4dCBub2RlLCB0aGlzIGlzIHRoZSB0ZXh0IG9mIHRoZSBub2RlIChzdHJpbmcgb3IgbnVtYmVyKS5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgbnVtYmVyIHwgbnVsbH0ga2V5IFRoZSBrZXkgZm9yIHRoaXMgdmlydHVhbCBub2RlLCB1c2VkIHdoZW5cbiAqIGRpZmZpbmcgaXQgYWdhaW5zdCBpdHMgY2hpbGRyZW5cbiAqIEBwYXJhbSB7Vk5vZGVbXCJyZWZcIl19IHJlZiBUaGUgcmVmIHByb3BlcnR5IHRoYXQgd2lsbFxuICogcmVjZWl2ZSBhIHJlZmVyZW5jZSB0byBpdHMgY3JlYXRlZCBjaGlsZFxuICogQHJldHVybnMge1ZOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMsIGtleSwgcmVmLCBvcmlnaW5hbCkge1xuXHQvLyBWOCBzZWVtcyB0byBiZSBiZXR0ZXIgYXQgZGV0ZWN0aW5nIHR5cGUgc2hhcGVzIGlmIHRoZSBvYmplY3QgaXMgYWxsb2NhdGVkIGZyb20gdGhlIHNhbWUgY2FsbCBzaXRlXG5cdC8vIERvIG5vdCBpbmxpbmUgaW50byBjcmVhdGVFbGVtZW50IGFuZCBjb2VyY2VUb1ZOb2RlIVxuXHQvKiogQHR5cGUge1ZOb2RlfSAqL1xuXHRjb25zdCB2bm9kZSA9IHtcblx0XHR0eXBlLFxuXHRcdHByb3BzLFxuXHRcdGtleSxcblx0XHRyZWYsXG5cdFx0X2NoaWxkcmVuOiBudWxsLFxuXHRcdF9wYXJlbnQ6IG51bGwsXG5cdFx0X2RlcHRoOiAwLFxuXHRcdF9kb206IG51bGwsXG5cdFx0Ly8gX25leHREb20gbXVzdCBiZSBpbml0aWFsaXplZCB0byB1bmRlZmluZWQgYi9jIGl0IHdpbGwgZXZlbnR1YWxseVxuXHRcdC8vIGJlIHNldCB0byBkb20ubmV4dFNpYmxpbmcgd2hpY2ggY2FuIHJldHVybiBgbnVsbGAgYW5kIGl0IGlzIGltcG9ydGFudFxuXHRcdC8vIHRvIGJlIGFibGUgdG8gZGlzdGluZ3Vpc2ggYmV0d2VlbiBhbiB1bmluaXRpYWxpemVkIF9uZXh0RG9tIGFuZFxuXHRcdC8vIGEgX25leHREb20gdGhhdCBoYXMgYmVlbiBzZXQgdG8gYG51bGxgXG5cdFx0X25leHREb206IHVuZGVmaW5lZCxcblx0XHRfY29tcG9uZW50OiBudWxsLFxuXHRcdGNvbnN0cnVjdG9yOiB1bmRlZmluZWQsXG5cdFx0X29yaWdpbmFsOiBvcmlnaW5hbCA9PSBudWxsID8gKyt2bm9kZUlkIDogb3JpZ2luYWwsXG5cdFx0X2luZGV4OiAtMSxcblx0XHRfZmxhZ3M6IDBcblx0fTtcblxuXHQvLyBPbmx5IGludm9rZSB0aGUgdm5vZGUgaG9vayBpZiB0aGlzIHdhcyAqbm90KiBhIGRpcmVjdCBjb3B5OlxuXHRpZiAob3JpZ2luYWwgPT0gbnVsbCAmJiBvcHRpb25zLnZub2RlICE9IG51bGwpIG9wdGlvbnMudm5vZGUodm5vZGUpO1xuXG5cdHJldHVybiB2bm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZigpIHtcblx0cmV0dXJuIHsgY3VycmVudDogbnVsbCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRnJhZ21lbnQocHJvcHMpIHtcblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdGhlIGFyZ3VtZW50IGlzIGEgdmFsaWQgUHJlYWN0IFZOb2RlLlxuICogQHBhcmFtIHsqfSB2bm9kZVxuICogQHJldHVybnMge3Zub2RlIGlzIFZOb2RlfVxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZEVsZW1lbnQgPSB2bm9kZSA9PlxuXHR2bm9kZSAhPSBudWxsICYmIHZub2RlLmNvbnN0cnVjdG9yID09IHVuZGVmaW5lZDtcbiIsICJpbXBvcnQgeyBhc3NpZ24gfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgZGlmZiwgY29tbWl0Um9vdCB9IGZyb20gJy4vZGlmZi9pbmRleCc7XG5pbXBvcnQgb3B0aW9ucyBmcm9tICcuL29wdGlvbnMnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCB7IE1PREVfSFlEUkFURSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuLyoqXG4gKiBCYXNlIENvbXBvbmVudCBjbGFzcy4gUHJvdmlkZXMgYHNldFN0YXRlKClgIGFuZCBgZm9yY2VVcGRhdGUoKWAsIHdoaWNoXG4gKiB0cmlnZ2VyIHJlbmRlcmluZ1xuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFRoZSBpbml0aWFsIGNvbXBvbmVudCBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgVGhlIGluaXRpYWwgY29udGV4dCBmcm9tIHBhcmVudCBjb21wb25lbnRzJ1xuICogZ2V0Q2hpbGRDb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBCYXNlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0KSB7XG5cdHRoaXMucHJvcHMgPSBwcm9wcztcblx0dGhpcy5jb250ZXh0ID0gY29udGV4dDtcbn1cblxuLyoqXG4gKiBVcGRhdGUgY29tcG9uZW50IHN0YXRlIGFuZCBzY2hlZHVsZSBhIHJlLXJlbmRlci5cbiAqIEB0aGlzIHtDb21wb25lbnR9XG4gKiBAcGFyYW0ge29iamVjdCB8ICgoczogb2JqZWN0LCBwOiBvYmplY3QpID0+IG9iamVjdCl9IHVwZGF0ZSBBIGhhc2ggb2Ygc3RhdGVcbiAqIHByb3BlcnRpZXMgdG8gdXBkYXRlIHdpdGggbmV3IHZhbHVlcyBvciBhIGZ1bmN0aW9uIHRoYXQgZ2l2ZW4gdGhlIGN1cnJlbnRcbiAqIHN0YXRlIGFuZCBwcm9wcyByZXR1cm5zIGEgbmV3IHBhcnRpYWwgc3RhdGVcbiAqIEBwYXJhbSB7KCkgPT4gdm9pZH0gW2NhbGxiYWNrXSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBvbmNlIGNvbXBvbmVudCBzdGF0ZSBpc1xuICogdXBkYXRlZFxuICovXG5CYXNlQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uICh1cGRhdGUsIGNhbGxiYWNrKSB7XG5cdC8vIG9ubHkgY2xvbmUgc3RhdGUgd2hlbiBjb3B5aW5nIHRvIG5leHRTdGF0ZSB0aGUgZmlyc3QgdGltZS5cblx0bGV0IHM7XG5cdGlmICh0aGlzLl9uZXh0U3RhdGUgIT0gbnVsbCAmJiB0aGlzLl9uZXh0U3RhdGUgIT09IHRoaXMuc3RhdGUpIHtcblx0XHRzID0gdGhpcy5fbmV4dFN0YXRlO1xuXHR9IGVsc2Uge1xuXHRcdHMgPSB0aGlzLl9uZXh0U3RhdGUgPSBhc3NpZ24oe30sIHRoaXMuc3RhdGUpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB1cGRhdGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIFNvbWUgbGlicmFyaWVzIGxpa2UgYGltbWVyYCBtYXJrIHRoZSBjdXJyZW50IHN0YXRlIGFzIHJlYWRvbmx5LFxuXHRcdC8vIHByZXZlbnRpbmcgdXMgZnJvbSBtdXRhdGluZyBpdCwgc28gd2UgbmVlZCB0byBjbG9uZSBpdC4gU2VlICMyNzE2XG5cdFx0dXBkYXRlID0gdXBkYXRlKGFzc2lnbih7fSwgcyksIHRoaXMucHJvcHMpO1xuXHR9XG5cblx0aWYgKHVwZGF0ZSkge1xuXHRcdGFzc2lnbihzLCB1cGRhdGUpO1xuXHR9XG5cblx0Ly8gU2tpcCB1cGRhdGUgaWYgdXBkYXRlciBmdW5jdGlvbiByZXR1cm5lZCBudWxsXG5cdGlmICh1cGRhdGUgPT0gbnVsbCkgcmV0dXJuO1xuXG5cdGlmICh0aGlzLl92bm9kZSkge1xuXHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0dGhpcy5fc3RhdGVDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0fVxuXHRcdGVucXVldWVSZW5kZXIodGhpcyk7XG5cdH1cbn07XG5cbi8qKlxuICogSW1tZWRpYXRlbHkgcGVyZm9ybSBhIHN5bmNocm9ub3VzIHJlLXJlbmRlciBvZiB0aGUgY29tcG9uZW50XG4gKiBAdGhpcyB7Q29tcG9uZW50fVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpc1xuICogcmUtcmVuZGVyZWRcbiAqL1xuQmFzZUNvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0aWYgKHRoaXMuX3Zub2RlKSB7XG5cdFx0Ly8gU2V0IHJlbmRlciBtb2RlIHNvIHRoYXQgd2UgY2FuIGRpZmZlcmVudGlhdGUgd2hlcmUgdGhlIHJlbmRlciByZXF1ZXN0XG5cdFx0Ly8gaXMgY29taW5nIGZyb20uIFdlIG5lZWQgdGhpcyBiZWNhdXNlIGZvcmNlVXBkYXRlIHNob3VsZCBuZXZlciBjYWxsXG5cdFx0Ly8gc2hvdWxkQ29tcG9uZW50VXBkYXRlXG5cdFx0dGhpcy5fZm9yY2UgPSB0cnVlO1xuXHRcdGlmIChjYWxsYmFjaykgdGhpcy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHRcdGVucXVldWVSZW5kZXIodGhpcyk7XG5cdH1cbn07XG5cbi8qKlxuICogQWNjZXB0cyBgcHJvcHNgIGFuZCBgc3RhdGVgLCBhbmQgcmV0dXJucyBhIG5ldyBWaXJ0dWFsIERPTSB0cmVlIHRvIGJ1aWxkLlxuICogVmlydHVhbCBET00gaXMgZ2VuZXJhbGx5IGNvbnN0cnVjdGVkIHZpYSBbSlNYXShodHRwOi8vamFzb25mb3JtYXQuY29tL3d0Zi1pcy1qc3gpLlxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFByb3BzIChlZzogSlNYIGF0dHJpYnV0ZXMpIHJlY2VpdmVkIGZyb20gcGFyZW50XG4gKiBlbGVtZW50L2NvbXBvbmVudFxuICogQHBhcmFtIHtvYmplY3R9IHN0YXRlIFRoZSBjb21wb25lbnQncyBjdXJyZW50IHN0YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gY29udGV4dCBDb250ZXh0IG9iamVjdCwgYXMgcmV0dXJuZWQgYnkgdGhlIG5lYXJlc3RcbiAqIGFuY2VzdG9yJ3MgYGdldENoaWxkQ29udGV4dCgpYFxuICogQHJldHVybnMge0NvbXBvbmVudENoaWxkcmVuIHwgdm9pZH1cbiAqL1xuQmFzZUNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gRnJhZ21lbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtWTm9kZX0gdm5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbH0gW2NoaWxkSW5kZXhdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21TaWJsaW5nKHZub2RlLCBjaGlsZEluZGV4KSB7XG5cdGlmIChjaGlsZEluZGV4ID09IG51bGwpIHtcblx0XHQvLyBVc2UgY2hpbGRJbmRleD09bnVsbCBhcyBhIHNpZ25hbCB0byByZXN1bWUgdGhlIHNlYXJjaCBmcm9tIHRoZSB2bm9kZSdzIHNpYmxpbmdcblx0XHRyZXR1cm4gdm5vZGUuX3BhcmVudFxuXHRcdFx0PyBnZXREb21TaWJsaW5nKHZub2RlLl9wYXJlbnQsIHZub2RlLl9pbmRleCArIDEpXG5cdFx0XHQ6IG51bGw7XG5cdH1cblxuXHRsZXQgc2libGluZztcblx0Zm9yICg7IGNoaWxkSW5kZXggPCB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcblx0XHRzaWJsaW5nID0gdm5vZGUuX2NoaWxkcmVuW2NoaWxkSW5kZXhdO1xuXG5cdFx0aWYgKHNpYmxpbmcgIT0gbnVsbCAmJiBzaWJsaW5nLl9kb20gIT0gbnVsbCkge1xuXHRcdFx0Ly8gU2luY2UgdXBkYXRlUGFyZW50RG9tUG9pbnRlcnMga2VlcHMgX2RvbSBwb2ludGVyIGNvcnJlY3QsXG5cdFx0XHQvLyB3ZSBjYW4gcmVseSBvbiBfZG9tIHRvIHRlbGwgdXMgaWYgdGhpcyBzdWJ0cmVlIGNvbnRhaW5zIGFcblx0XHRcdC8vIHJlbmRlcmVkIERPTSBub2RlLCBhbmQgd2hhdCB0aGUgZmlyc3QgcmVuZGVyZWQgRE9NIG5vZGUgaXNcblx0XHRcdHJldHVybiBzaWJsaW5nLl9kb207XG5cdFx0fVxuXHR9XG5cblx0Ly8gSWYgd2UgZ2V0IGhlcmUsIHdlIGhhdmUgbm90IGZvdW5kIGEgRE9NIG5vZGUgaW4gdGhpcyB2bm9kZSdzIGNoaWxkcmVuLlxuXHQvLyBXZSBtdXN0IHJlc3VtZSBmcm9tIHRoaXMgdm5vZGUncyBzaWJsaW5nIChpbiBpdCdzIHBhcmVudCBfY2hpbGRyZW4gYXJyYXkpXG5cdC8vIE9ubHkgY2xpbWIgdXAgYW5kIHNlYXJjaCB0aGUgcGFyZW50IGlmIHdlIGFyZW4ndCBzZWFyY2hpbmcgdGhyb3VnaCBhIERPTVxuXHQvLyBWTm9kZSAobWVhbmluZyB3ZSByZWFjaGVkIHRoZSBET00gcGFyZW50IG9mIHRoZSBvcmlnaW5hbCB2bm9kZSB0aGF0IGJlZ2FuXG5cdC8vIHRoZSBzZWFyY2gpXG5cdHJldHVybiB0eXBlb2Ygdm5vZGUudHlwZSA9PSAnZnVuY3Rpb24nID8gZ2V0RG9tU2libGluZyh2bm9kZSkgOiBudWxsO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgaW4tcGxhY2UgcmUtcmVuZGVyaW5nIG9mIGEgY29tcG9uZW50LlxuICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudCBUaGUgY29tcG9uZW50IHRvIHJlcmVuZGVyXG4gKi9cbmZ1bmN0aW9uIHJlbmRlckNvbXBvbmVudChjb21wb25lbnQpIHtcblx0bGV0IG9sZFZOb2RlID0gY29tcG9uZW50Ll92bm9kZSxcblx0XHRvbGREb20gPSBvbGRWTm9kZS5fZG9tLFxuXHRcdHBhcmVudERvbSA9IGNvbXBvbmVudC5fcGFyZW50RG9tLFxuXHRcdGNvbW1pdFF1ZXVlID0gW10sXG5cdFx0cmVmUXVldWUgPSBbXTtcblxuXHRpZiAocGFyZW50RG9tKSB7XG5cdFx0Y29uc3QgbmV3Vk5vZGUgPSBhc3NpZ24oe30sIG9sZFZOb2RlKTtcblx0XHRuZXdWTm9kZS5fb3JpZ2luYWwgPSBvbGRWTm9kZS5fb3JpZ2luYWwgKyAxO1xuXHRcdGlmIChvcHRpb25zLnZub2RlKSBvcHRpb25zLnZub2RlKG5ld1ZOb2RlKTtcblxuXHRcdGRpZmYoXG5cdFx0XHRwYXJlbnREb20sXG5cdFx0XHRuZXdWTm9kZSxcblx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0Y29tcG9uZW50Ll9nbG9iYWxDb250ZXh0LFxuXHRcdFx0cGFyZW50RG9tLm93bmVyU1ZHRWxlbWVudCAhPT0gdW5kZWZpbmVkLFxuXHRcdFx0b2xkVk5vZGUuX2ZsYWdzICYgTU9ERV9IWURSQVRFID8gW29sZERvbV0gOiBudWxsLFxuXHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRvbGREb20gPT0gbnVsbCA/IGdldERvbVNpYmxpbmcob2xkVk5vZGUpIDogb2xkRG9tLFxuXHRcdFx0ISEob2xkVk5vZGUuX2ZsYWdzICYgTU9ERV9IWURSQVRFKSxcblx0XHRcdHJlZlF1ZXVlXG5cdFx0KTtcblxuXHRcdG5ld1ZOb2RlLl9wYXJlbnQuX2NoaWxkcmVuW25ld1ZOb2RlLl9pbmRleF0gPSBuZXdWTm9kZTtcblx0XHRjb21taXRSb290KGNvbW1pdFF1ZXVlLCBuZXdWTm9kZSwgcmVmUXVldWUpO1xuXG5cdFx0aWYgKG5ld1ZOb2RlLl9kb20gIT0gb2xkRG9tKSB7XG5cdFx0XHR1cGRhdGVQYXJlbnREb21Qb2ludGVycyhuZXdWTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtWTm9kZX0gdm5vZGVcbiAqL1xuZnVuY3Rpb24gdXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpIHtcblx0aWYgKCh2bm9kZSA9IHZub2RlLl9wYXJlbnQpICE9IG51bGwgJiYgdm5vZGUuX2NvbXBvbmVudCAhPSBudWxsKSB7XG5cdFx0dm5vZGUuX2RvbSA9IHZub2RlLl9jb21wb25lbnQuYmFzZSA9IG51bGw7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IHZub2RlLl9jaGlsZHJlbltpXTtcblx0XHRcdGlmIChjaGlsZCAhPSBudWxsICYmIGNoaWxkLl9kb20gIT0gbnVsbCkge1xuXHRcdFx0XHR2bm9kZS5fZG9tID0gdm5vZGUuX2NvbXBvbmVudC5iYXNlID0gY2hpbGQuX2RvbTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSByZW5kZXIgcXVldWVcbiAqIEB0eXBlIHtBcnJheTxDb21wb25lbnQ+fVxuICovXG5sZXQgcmVyZW5kZXJRdWV1ZSA9IFtdO1xuXG4vKlxuICogVGhlIHZhbHVlIG9mIGBDb21wb25lbnQuZGVib3VuY2VgIG11c3QgYXN5bmNocm9ub3VzbHkgaW52b2tlIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2suIEl0IGlzXG4gKiBpbXBvcnRhbnQgdGhhdCBjb250cmlidXRvcnMgdG8gUHJlYWN0IGNhbiBjb25zaXN0ZW50bHkgcmVhc29uIGFib3V0IHdoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCwgZXRjLlxuICogZG8sIGFuZCB3aGVuIHRoZWlyIGVmZmVjdHMgd2lsbCBiZSBhcHBsaWVkLiBTZWUgdGhlIGxpbmtzIGJlbG93IGZvciBzb21lIGZ1cnRoZXIgcmVhZGluZyBvbiBkZXNpZ25pbmdcbiAqIGFzeW5jaHJvbm91cyBBUElzLlxuICogKiBbRGVzaWduaW5nIEFQSXMgZm9yIEFzeW5jaHJvbnldKGh0dHBzOi8vYmxvZy5penMubWUvMjAxMy8wOC9kZXNpZ25pbmctYXBpcy1mb3ItYXN5bmNocm9ueSlcbiAqICogW0NhbGxiYWNrcyBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzXShodHRwczovL2Jsb2cub21ldGVyLmNvbS8yMDExLzA3LzI0L2NhbGxiYWNrcy1zeW5jaHJvbm91cy1hbmQtYXN5bmNocm9ub3VzLylcbiAqL1xuXG5sZXQgcHJldkRlYm91bmNlO1xuXG5jb25zdCBkZWZlciA9XG5cdHR5cGVvZiBQcm9taXNlID09ICdmdW5jdGlvbidcblx0XHQ/IFByb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSlcblx0XHQ6IHNldFRpbWVvdXQ7XG5cbi8qKlxuICogRW5xdWV1ZSBhIHJlcmVuZGVyIG9mIGEgY29tcG9uZW50XG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gYyBUaGUgY29tcG9uZW50IHRvIHJlcmVuZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnF1ZXVlUmVuZGVyKGMpIHtcblx0aWYgKFxuXHRcdCghYy5fZGlydHkgJiZcblx0XHRcdChjLl9kaXJ0eSA9IHRydWUpICYmXG5cdFx0XHRyZXJlbmRlclF1ZXVlLnB1c2goYykgJiZcblx0XHRcdCFwcm9jZXNzLl9yZXJlbmRlckNvdW50KyspIHx8XG5cdFx0cHJldkRlYm91bmNlICE9PSBvcHRpb25zLmRlYm91bmNlUmVuZGVyaW5nXG5cdCkge1xuXHRcdHByZXZEZWJvdW5jZSA9IG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmc7XG5cdFx0KHByZXZEZWJvdW5jZSB8fCBkZWZlcikocHJvY2Vzcyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NvbXBvbmVudH0gYVxuICogQHBhcmFtIHtDb21wb25lbnR9IGJcbiAqL1xuY29uc3QgZGVwdGhTb3J0ID0gKGEsIGIpID0+IGEuX3Zub2RlLl9kZXB0aCAtIGIuX3Zub2RlLl9kZXB0aDtcblxuLyoqIEZsdXNoIHRoZSByZW5kZXIgcXVldWUgYnkgcmVyZW5kZXJpbmcgYWxsIHF1ZXVlZCBjb21wb25lbnRzICovXG5mdW5jdGlvbiBwcm9jZXNzKCkge1xuXHRsZXQgYztcblx0cmVyZW5kZXJRdWV1ZS5zb3J0KGRlcHRoU29ydCk7XG5cdC8vIERvbid0IHVwZGF0ZSBgcmVuZGVyQ291bnRgIHlldC4gS2VlcCBpdHMgdmFsdWUgbm9uLXplcm8gdG8gcHJldmVudCB1bm5lY2Vzc2FyeVxuXHQvLyBwcm9jZXNzKCkgY2FsbHMgZnJvbSBnZXR0aW5nIHNjaGVkdWxlZCB3aGlsZSBgcXVldWVgIGlzIHN0aWxsIGJlaW5nIGNvbnN1bWVkLlxuXHR3aGlsZSAoKGMgPSByZXJlbmRlclF1ZXVlLnNoaWZ0KCkpKSB7XG5cdFx0aWYgKGMuX2RpcnR5KSB7XG5cdFx0XHRsZXQgcmVuZGVyUXVldWVMZW5ndGggPSByZXJlbmRlclF1ZXVlLmxlbmd0aDtcblx0XHRcdHJlbmRlckNvbXBvbmVudChjKTtcblx0XHRcdGlmIChyZXJlbmRlclF1ZXVlLmxlbmd0aCA+IHJlbmRlclF1ZXVlTGVuZ3RoKSB7XG5cdFx0XHRcdC8vIFdoZW4gaS5lLiByZXJlbmRlcmluZyBhIHByb3ZpZGVyIGFkZGl0aW9uYWwgbmV3IGl0ZW1zIGNhbiBiZSBpbmplY3RlZCwgd2Ugd2FudCB0b1xuXHRcdFx0XHQvLyBrZWVwIHRoZSBvcmRlciBmcm9tIHRvcCB0byBib3R0b20gd2l0aCB0aG9zZSBuZXcgaXRlbXMgc28gd2UgY2FuIGhhbmRsZSB0aGVtIGluIGFcblx0XHRcdFx0Ly8gc2luZ2xlIHBhc3Ncblx0XHRcdFx0cmVyZW5kZXJRdWV1ZS5zb3J0KGRlcHRoU29ydCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHByb2Nlc3MuX3JlcmVuZGVyQ291bnQgPSAwO1xufVxuXG5wcm9jZXNzLl9yZXJlbmRlckNvdW50ID0gMDtcbiIsICJpbXBvcnQgeyBlbnF1ZXVlUmVuZGVyIH0gZnJvbSAnLi9jb21wb25lbnQnO1xuXG5leHBvcnQgbGV0IGkgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUsIGNvbnRleHRJZCkge1xuXHRjb250ZXh0SWQgPSAnX19jQycgKyBpKys7XG5cblx0Y29uc3QgY29udGV4dCA9IHtcblx0XHRfaWQ6IGNvbnRleHRJZCxcblx0XHRfZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUsXG5cdFx0LyoqIEB0eXBlIHtGdW5jdGlvbkNvbXBvbmVudH0gKi9cblx0XHRDb25zdW1lcihwcm9wcywgY29udGV4dFZhbHVlKSB7XG5cdFx0XHQvLyByZXR1cm4gcHJvcHMuY2hpbGRyZW4oXG5cdFx0XHQvLyBcdGNvbnRleHRbY29udGV4dElkXSA/IGNvbnRleHRbY29udGV4dElkXS5wcm9wcy52YWx1ZSA6IGRlZmF1bHRWYWx1ZVxuXHRcdFx0Ly8gKTtcblx0XHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbihjb250ZXh0VmFsdWUpO1xuXHRcdH0sXG5cdFx0LyoqIEB0eXBlIHtGdW5jdGlvbkNvbXBvbmVudH0gKi9cblx0XHRQcm92aWRlcihwcm9wcykge1xuXHRcdFx0aWYgKCF0aGlzLmdldENoaWxkQ29udGV4dCkge1xuXHRcdFx0XHQvKiogQHR5cGUge0NvbXBvbmVudFtdfSAqL1xuXHRcdFx0XHRsZXQgc3VicyA9IFtdO1xuXHRcdFx0XHRsZXQgY3R4ID0ge307XG5cdFx0XHRcdGN0eFtjb250ZXh0SWRdID0gdGhpcztcblxuXHRcdFx0XHR0aGlzLmdldENoaWxkQ29udGV4dCA9ICgpID0+IGN0eDtcblxuXHRcdFx0XHR0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIChfcHJvcHMpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5wcm9wcy52YWx1ZSAhPT0gX3Byb3BzLnZhbHVlKSB7XG5cdFx0XHRcdFx0XHQvLyBJIHRoaW5rIHRoZSBmb3JjZWQgdmFsdWUgcHJvcGFnYXRpb24gaGVyZSB3YXMgb25seSBuZWVkZWQgd2hlbiBgb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZ2Agd2FzIGJlaW5nIGJ5cGFzc2VkOlxuXHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3ByZWFjdGpzL3ByZWFjdC9jb21taXQvNGQzMzlmYjgwM2JlYTA5ZTlmMTk4YWJmMzhjYTFiZjhlYTRiNzc3MSNkaWZmLTU0NjgyY2UzODA5MzVhNzE3ZTQxYjhiZmM1NDczN2Y2UjM1OFxuXHRcdFx0XHRcdFx0Ly8gSW4gdGhvc2UgY2FzZXMgdGhvdWdoLCBldmVuIHdpdGggdGhlIHZhbHVlIGNvcnJlY3RlZCwgd2UncmUgZG91YmxlLXJlbmRlcmluZyBhbGwgbm9kZXMuXG5cdFx0XHRcdFx0XHQvLyBJdCBtaWdodCBiZSBiZXR0ZXIgdG8ganVzdCB0ZWxsIGZvbGtzIG5vdCB0byB1c2UgZm9yY2Utc3luYyBtb2RlLlxuXHRcdFx0XHRcdFx0Ly8gQ3VycmVudGx5LCB1c2luZyBgdXNlQ29udGV4dCgpYCBpbiBhIGNsYXNzIGNvbXBvbmVudCB3aWxsIG92ZXJ3cml0ZSBpdHMgYHRoaXMuY29udGV4dGAgdmFsdWUuXG5cdFx0XHRcdFx0XHQvLyBzdWJzLnNvbWUoYyA9PiB7XG5cdFx0XHRcdFx0XHQvLyBcdGMuY29udGV4dCA9IF9wcm9wcy52YWx1ZTtcblx0XHRcdFx0XHRcdC8vIFx0ZW5xdWV1ZVJlbmRlcihjKTtcblx0XHRcdFx0XHRcdC8vIH0pO1xuXG5cdFx0XHRcdFx0XHQvLyBzdWJzLnNvbWUoYyA9PiB7XG5cdFx0XHRcdFx0XHQvLyBcdGMuY29udGV4dFtjb250ZXh0SWRdID0gX3Byb3BzLnZhbHVlO1xuXHRcdFx0XHRcdFx0Ly8gXHRlbnF1ZXVlUmVuZGVyKGMpO1xuXHRcdFx0XHRcdFx0Ly8gfSk7XG5cdFx0XHRcdFx0XHRzdWJzLnNvbWUoYyA9PiB7XG5cdFx0XHRcdFx0XHRcdGMuX2ZvcmNlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0ZW5xdWV1ZVJlbmRlcihjKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLnN1YiA9IGMgPT4ge1xuXHRcdFx0XHRcdHN1YnMucHVzaChjKTtcblx0XHRcdFx0XHRsZXQgb2xkID0gYy5jb21wb25lbnRXaWxsVW5tb3VudDtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0c3Vicy5zcGxpY2Uoc3Vicy5pbmRleE9mKGMpLCAxKTtcblx0XHRcdFx0XHRcdGlmIChvbGQpIG9sZC5jYWxsKGMpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblx0XHR9XG5cdH07XG5cblx0Ly8gRGV2dG9vbHMgbmVlZHMgYWNjZXNzIHRvIHRoZSBjb250ZXh0IG9iamVjdCB3aGVuIGl0XG5cdC8vIGVuY291bnRlcnMgYSBQcm92aWRlci4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gc3VwcG9ydFxuXHQvLyBzZXR0aW5nIGBkaXNwbGF5TmFtZWAgb24gdGhlIGNvbnRleHQgb2JqZWN0IGluc3RlYWRcblx0Ly8gb2Ygb24gdGhlIGNvbXBvbmVudCBpdHNlbGYuIFNlZTpcblx0Ly8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2NvbnRleHQuaHRtbCNjb250ZXh0ZGlzcGxheW5hbWVcblxuXHRyZXR1cm4gKGNvbnRleHQuUHJvdmlkZXIuX2NvbnRleHRSZWYgPSBjb250ZXh0LkNvbnN1bWVyLmNvbnRleHRUeXBlID1cblx0XHRjb250ZXh0KTtcbn1cbiIsICJpbXBvcnQgeyBkaWZmLCB1bm1vdW50LCBhcHBseVJlZiB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUsIEZyYWdtZW50IH0gZnJvbSAnLi4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IHsgRU1QVFlfT0JKLCBFTVBUWV9BUlIsIElOU0VSVF9WTk9ERSwgTUFUQ0hFRCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbCc7XG5pbXBvcnQgeyBnZXREb21TaWJsaW5nIH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuLyoqXG4gKiBEaWZmIHRoZSBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtQcmVhY3RFbGVtZW50fSBwYXJlbnREb20gVGhlIERPTSBlbGVtZW50IHdob3NlIGNoaWxkcmVuIGFyZSBiZWluZ1xuICogZGlmZmVkXG4gKiBAcGFyYW0ge0NvbXBvbmVudENoaWxkcmVuW119IHJlbmRlclJlc3VsdFxuICogQHBhcmFtIHtWTm9kZX0gbmV3UGFyZW50Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsIG5vZGUgd2hvc2UgY2hpbGRyZW4gc2hvdWxkIGJlXG4gKiBkaWZmJ2VkIGFnYWluc3Qgb2xkUGFyZW50Vk5vZGVcbiAqIEBwYXJhbSB7Vk5vZGV9IG9sZFBhcmVudFZOb2RlIFRoZSBvbGQgdmlydHVhbCBub2RlIHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZVxuICogZGlmZidlZCBhZ2FpbnN0IG5ld1BhcmVudFZOb2RlXG4gKiBAcGFyYW0ge29iamVjdH0gZ2xvYmFsQ29udGV4dCBUaGUgY3VycmVudCBjb250ZXh0IG9iamVjdCAtIG1vZGlmaWVkIGJ5XG4gKiBnZXRDaGlsZENvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtBcnJheTxQcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8Q29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzIHdoaWNoIGhhdmUgY2FsbGJhY2tzXG4gKiB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtQcmVhY3RFbGVtZW50fSBvbGREb20gVGhlIGN1cnJlbnQgYXR0YWNoZWQgRE9NIGVsZW1lbnQgYW55IG5ldyBkb21cbiAqIGVsZW1lbnRzIHNob3VsZCBiZSBwbGFjZWQgYXJvdW5kLiBMaWtlbHkgYG51bGxgIG9uIGZpcnN0IHJlbmRlciAoZXhjZXB0IHdoZW5cbiAqIGh5ZHJhdGluZykuIENhbiBiZSBhIHNpYmxpbmcgRE9NIGVsZW1lbnQgd2hlbiBkaWZmaW5nIEZyYWdtZW50cyB0aGF0IGhhdmVcbiAqIHNpYmxpbmdzLiBJbiBtb3N0IGNhc2VzLCBpdCBzdGFydHMgb3V0IGFzIGBvbGRDaGlsZHJlblswXS5fZG9tYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICogQHBhcmFtIHthbnlbXX0gcmVmUXVldWUgYW4gYXJyYXkgb2YgZWxlbWVudHMgbmVlZGVkIHRvIGludm9rZSByZWZzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmQ2hpbGRyZW4oXG5cdHBhcmVudERvbSxcblx0cmVuZGVyUmVzdWx0LFxuXHRuZXdQYXJlbnRWTm9kZSxcblx0b2xkUGFyZW50Vk5vZGUsXG5cdGdsb2JhbENvbnRleHQsXG5cdGlzU3ZnLFxuXHRleGNlc3NEb21DaGlsZHJlbixcblx0Y29tbWl0UXVldWUsXG5cdG9sZERvbSxcblx0aXNIeWRyYXRpbmcsXG5cdHJlZlF1ZXVlXG4pIHtcblx0bGV0IGksXG5cdFx0LyoqIEB0eXBlIHtWTm9kZX0gKi9cblx0XHRvbGRWTm9kZSxcblx0XHQvKiogQHR5cGUge1ZOb2RlfSAqL1xuXHRcdGNoaWxkVk5vZGUsXG5cdFx0LyoqIEB0eXBlIHtQcmVhY3RFbGVtZW50fSAqL1xuXHRcdG5ld0RvbSxcblx0XHQvKiogQHR5cGUge1ByZWFjdEVsZW1lbnR9ICovXG5cdFx0Zmlyc3RDaGlsZERvbTtcblxuXHQvLyBUaGlzIGlzIGEgY29tcHJlc3Npb24gb2Ygb2xkUGFyZW50Vk5vZGUhPW51bGwgJiYgb2xkUGFyZW50Vk5vZGUgIT0gRU1QVFlfT0JKICYmIG9sZFBhcmVudFZOb2RlLl9jaGlsZHJlbiB8fCBFTVBUWV9BUlJcblx0Ly8gYXMgRU1QVFlfT0JKLl9jaGlsZHJlbiBzaG91bGQgYmUgYHVuZGVmaW5lZGAuXG5cdC8qKiBAdHlwZSB7Vk5vZGVbXX0gKi9cblx0bGV0IG9sZENoaWxkcmVuID0gKG9sZFBhcmVudFZOb2RlICYmIG9sZFBhcmVudFZOb2RlLl9jaGlsZHJlbikgfHwgRU1QVFlfQVJSO1xuXG5cdGxldCBuZXdDaGlsZHJlbkxlbmd0aCA9IHJlbmRlclJlc3VsdC5sZW5ndGg7XG5cblx0bmV3UGFyZW50Vk5vZGUuX25leHREb20gPSBvbGREb207XG5cdGNvbnN0cnVjdE5ld0NoaWxkcmVuQXJyYXkobmV3UGFyZW50Vk5vZGUsIHJlbmRlclJlc3VsdCwgb2xkQ2hpbGRyZW4pO1xuXHRvbGREb20gPSBuZXdQYXJlbnRWTm9kZS5fbmV4dERvbTtcblxuXHRmb3IgKGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW5MZW5ndGg7IGkrKykge1xuXHRcdGNoaWxkVk5vZGUgPSBuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW5baV07XG5cblx0XHRpZiAoXG5cdFx0XHRjaGlsZFZOb2RlID09IG51bGwgfHxcblx0XHRcdHR5cGVvZiBjaGlsZFZOb2RlID09ICdib29sZWFuJyB8fFxuXHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUgPT0gJ2Z1bmN0aW9uJ1xuXHRcdCkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Ly8gQXQgdGhpcyBwb2ludCwgY29uc3RydWN0TmV3Q2hpbGRyZW5BcnJheSBoYXMgYXNzaWduZWQgX2luZGV4IHRvIGJlIHRoZVxuXHRcdC8vIG1hdGNoaW5nSW5kZXggZm9yIHRoaXMgVk5vZGUncyBvbGRWTm9kZSAob3IgLTEgaWYgdGhlcmUgaXMgbm8gb2xkVk5vZGUpLlxuXHRcdGlmIChjaGlsZFZOb2RlLl9pbmRleCA9PT0gLTEpIHtcblx0XHRcdG9sZFZOb2RlID0gRU1QVFlfT0JKO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2NoaWxkVk5vZGUuX2luZGV4XSB8fCBFTVBUWV9PQko7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIGNoaWxkVk5vZGUuX2luZGV4IHRvIGl0cyBmaW5hbCBpbmRleFxuXHRcdGNoaWxkVk5vZGUuX2luZGV4ID0gaTtcblxuXHRcdC8vIE1vcnBoIHRoZSBvbGQgZWxlbWVudCBpbnRvIHRoZSBuZXcgb25lLCBidXQgZG9uJ3QgYXBwZW5kIGl0IHRvIHRoZSBkb20geWV0XG5cdFx0ZGlmZihcblx0XHRcdHBhcmVudERvbSxcblx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRvbGRWTm9kZSxcblx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRpc1N2Zyxcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRvbGREb20sXG5cdFx0XHRpc0h5ZHJhdGluZyxcblx0XHRcdHJlZlF1ZXVlXG5cdFx0KTtcblxuXHRcdC8vIEFkanVzdCBET00gbm9kZXNcblx0XHRuZXdEb20gPSBjaGlsZFZOb2RlLl9kb207XG5cdFx0aWYgKGNoaWxkVk5vZGUucmVmICYmIG9sZFZOb2RlLnJlZiAhPSBjaGlsZFZOb2RlLnJlZikge1xuXHRcdFx0aWYgKG9sZFZOb2RlLnJlZikge1xuXHRcdFx0XHRhcHBseVJlZihvbGRWTm9kZS5yZWYsIG51bGwsIGNoaWxkVk5vZGUpO1xuXHRcdFx0fVxuXHRcdFx0cmVmUXVldWUucHVzaChcblx0XHRcdFx0Y2hpbGRWTm9kZS5yZWYsXG5cdFx0XHRcdGNoaWxkVk5vZGUuX2NvbXBvbmVudCB8fCBuZXdEb20sXG5cdFx0XHRcdGNoaWxkVk5vZGVcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGZpcnN0Q2hpbGREb20gPT0gbnVsbCAmJiBuZXdEb20gIT0gbnVsbCkge1xuXHRcdFx0Zmlyc3RDaGlsZERvbSA9IG5ld0RvbTtcblx0XHR9XG5cblx0XHRpZiAoXG5cdFx0XHRjaGlsZFZOb2RlLl9mbGFncyAmIElOU0VSVF9WTk9ERSB8fFxuXHRcdFx0b2xkVk5vZGUuX2NoaWxkcmVuID09PSBjaGlsZFZOb2RlLl9jaGlsZHJlblxuXHRcdCkge1xuXHRcdFx0b2xkRG9tID0gaW5zZXJ0KGNoaWxkVk5vZGUsIG9sZERvbSwgcGFyZW50RG9tKTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUudHlwZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0XHRjaGlsZFZOb2RlLl9uZXh0RG9tICE9PSB1bmRlZmluZWRcblx0XHQpIHtcblx0XHRcdC8vIFNpbmNlIEZyYWdtZW50cyBvciBjb21wb25lbnRzIHRoYXQgcmV0dXJuIEZyYWdtZW50IGxpa2UgVk5vZGVzIGNhblxuXHRcdFx0Ly8gY29udGFpbiBtdWx0aXBsZSBET00gbm9kZXMgYXMgdGhlIHNhbWUgbGV2ZWwsIGNvbnRpbnVlIHRoZSBkaWZmIGZyb21cblx0XHRcdC8vIHRoZSBzaWJsaW5nIG9mIGxhc3QgRE9NIGNoaWxkIG9mIHRoaXMgY2hpbGQgVk5vZGVcblx0XHRcdG9sZERvbSA9IGNoaWxkVk5vZGUuX25leHREb207XG5cdFx0fSBlbHNlIGlmIChuZXdEb20pIHtcblx0XHRcdG9sZERvbSA9IG5ld0RvbS5uZXh0U2libGluZztcblx0XHR9XG5cblx0XHQvLyBFYWdlcmx5IGNsZWFudXAgX25leHREb20uIFdlIGRvbid0IG5lZWQgdG8gcGVyc2lzdCB0aGUgdmFsdWUgYmVjYXVzZSBpdFxuXHRcdC8vIGlzIG9ubHkgdXNlZCBieSBgZGlmZkNoaWxkcmVuYCB0byBkZXRlcm1pbmUgd2hlcmUgdG8gcmVzdW1lIHRoZSBkaWZmXG5cdFx0Ly8gYWZ0ZXIgZGlmZmluZyBDb21wb25lbnRzIGFuZCBGcmFnbWVudHMuIE9uY2Ugd2Ugc3RvcmUgaXQgdGhlIG5leHRET01cblx0XHQvLyBsb2NhbCB2YXIsIHdlIGNhbiBjbGVhbiB1cCB0aGUgcHJvcGVydHkuIEFsc28gcHJldmVudHMgdXMgaGFuZ2luZyBvbiB0b1xuXHRcdC8vIERPTSBub2RlcyB0aGF0IG1heSBoYXZlIGJlZW4gdW5tb3VudGVkLlxuXHRcdGNoaWxkVk5vZGUuX25leHREb20gPSB1bmRlZmluZWQ7XG5cblx0XHQvLyBVbnNldCBkaWZmaW5nIGZsYWdzXG5cdFx0Y2hpbGRWTm9kZS5fZmxhZ3MgJj0gfihJTlNFUlRfVk5PREUgfCBNQVRDSEVEKTtcblx0fVxuXG5cdC8vIFRPRE86IFdpdGggbmV3IGNoaWxkIGRpZmZpbmcgYWxnbywgY29uc2lkZXIgYWx0IHdheXMgdG8gZGlmZiBGcmFnbWVudHMuXG5cdC8vIFN1Y2ggYXMgZHJvcHBpbmcgb2xkRG9tIGFuZCBtb3ZpbmcgZnJhZ21lbnRzIGluIHBsYWNlXG5cdC8vXG5cdC8vIEJlY2F1c2UgdGhlIG5ld1BhcmVudFZOb2RlIGlzIEZyYWdtZW50LWxpa2UsIHdlIG5lZWQgdG8gc2V0IGl0J3Ncblx0Ly8gX25leHREb20gcHJvcGVydHkgdG8gdGhlIG5leHRTaWJsaW5nIG9mIGl0cyBsYXN0IGNoaWxkIERPTSBub2RlLlxuXHQvL1xuXHQvLyBgb2xkRG9tYCBjb250YWlucyB0aGUgY29ycmVjdCB2YWx1ZSBoZXJlIGJlY2F1c2UgaWYgdGhlIGxhc3QgY2hpbGRcblx0Ly8gaXMgYSBGcmFnbWVudC1saWtlLCB0aGVuIG9sZERvbSBoYXMgYWxyZWFkeSBiZWVuIHNldCB0byB0aGF0IGNoaWxkJ3MgX25leHREb20uXG5cdC8vIElmIHRoZSBsYXN0IGNoaWxkIGlzIGEgRE9NIFZOb2RlLCB0aGVuIG9sZERvbSB3aWxsIGJlIHNldCB0byB0aGF0IERPTVxuXHQvLyBub2RlJ3MgbmV4dFNpYmxpbmcuXG5cdG5ld1BhcmVudFZOb2RlLl9uZXh0RG9tID0gb2xkRG9tO1xuXHRuZXdQYXJlbnRWTm9kZS5fZG9tID0gZmlyc3RDaGlsZERvbTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZOb2RlfSBuZXdQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtDb21wb25lbnRDaGlsZHJlbltdfSByZW5kZXJSZXN1bHRcbiAqIEBwYXJhbSB7Vk5vZGVbXX0gb2xkQ2hpbGRyZW5cbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0TmV3Q2hpbGRyZW5BcnJheShuZXdQYXJlbnRWTm9kZSwgcmVuZGVyUmVzdWx0LCBvbGRDaGlsZHJlbikge1xuXHQvKiogQHR5cGUge251bWJlcn0gKi9cblx0bGV0IGk7XG5cdC8qKiBAdHlwZSB7Vk5vZGV9ICovXG5cdGxldCBjaGlsZFZOb2RlO1xuXHQvKiogQHR5cGUge1ZOb2RlfSAqL1xuXHRsZXQgb2xkVk5vZGU7XG5cblx0Y29uc3QgbmV3Q2hpbGRyZW5MZW5ndGggPSByZW5kZXJSZXN1bHQubGVuZ3RoO1xuXHRsZXQgb2xkQ2hpbGRyZW5MZW5ndGggPSBvbGRDaGlsZHJlbi5sZW5ndGgsXG5cdFx0cmVtYWluaW5nT2xkQ2hpbGRyZW4gPSBvbGRDaGlsZHJlbkxlbmd0aDtcblxuXHRsZXQgc2tldyA9IDA7XG5cblx0bmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuID0gW107XG5cdGZvciAoaSA9IDA7IGkgPCBuZXdDaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBXZSBhcmUgcmV1c2luZyB0aGUgY2hpbGRWTm9kZSB2YXJpYWJsZSB0byBob2xkIGJvdGggdGhlXG5cdFx0Ly8gcHJlIGFuZCBwb3N0IG5vcm1hbGl6ZWQgY2hpbGRWTm9kZVxuXHRcdGNoaWxkVk5vZGUgPSByZW5kZXJSZXN1bHRbaV07XG5cblx0XHRpZiAoXG5cdFx0XHRjaGlsZFZOb2RlID09IG51bGwgfHxcblx0XHRcdHR5cGVvZiBjaGlsZFZOb2RlID09ICdib29sZWFuJyB8fFxuXHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUgPT0gJ2Z1bmN0aW9uJ1xuXHRcdCkge1xuXHRcdFx0Y2hpbGRWTm9kZSA9IG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbltpXSA9IG51bGw7XG5cdFx0fVxuXHRcdC8vIElmIHRoaXMgbmV3Vk5vZGUgaXMgYmVpbmcgcmV1c2VkIChlLmcuIDxkaXY+e3JldXNlfXtyZXVzZX08L2Rpdj4pIGluIHRoZSBzYW1lIGRpZmYsXG5cdFx0Ly8gb3Igd2UgYXJlIHJlbmRlcmluZyBhIGNvbXBvbmVudCAoZS5nLiBzZXRTdGF0ZSkgY29weSB0aGUgb2xkVk5vZGVzIHNvIGl0IGNhbiBoYXZlXG5cdFx0Ly8gaXQncyBvd24gRE9NICYgZXRjLiBwb2ludGVyc1xuXHRcdGVsc2UgaWYgKFxuXHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUgPT0gJ3N0cmluZycgfHxcblx0XHRcdHR5cGVvZiBjaGlsZFZOb2RlID09ICdudW1iZXInIHx8XG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdmFsaWQtdHlwZW9mXG5cdFx0XHR0eXBlb2YgY2hpbGRWTm9kZSA9PSAnYmlnaW50JyB8fFxuXHRcdFx0Y2hpbGRWTm9kZS5jb25zdHJ1Y3RvciA9PSBTdHJpbmdcblx0XHQpIHtcblx0XHRcdGNoaWxkVk5vZGUgPSBuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW5baV0gPSBjcmVhdGVWTm9kZShcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0Y2hpbGRWTm9kZSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0Y2hpbGRWTm9kZVxuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKGlzQXJyYXkoY2hpbGRWTm9kZSkpIHtcblx0XHRcdGNoaWxkVk5vZGUgPSBuZXdQYXJlbnRWTm9kZS5fY2hpbGRyZW5baV0gPSBjcmVhdGVWTm9kZShcblx0XHRcdFx0RnJhZ21lbnQsXG5cdFx0XHRcdHsgY2hpbGRyZW46IGNoaWxkVk5vZGUgfSxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0bnVsbCxcblx0XHRcdFx0bnVsbFxuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKGNoaWxkVk5vZGUuY29uc3RydWN0b3IgPT09IHVuZGVmaW5lZCAmJiBjaGlsZFZOb2RlLl9kZXB0aCA+IDApIHtcblx0XHRcdC8vIFZOb2RlIGlzIGFscmVhZHkgaW4gdXNlLCBjbG9uZSBpdC4gVGhpcyBjYW4gaGFwcGVuIGluIHRoZSBmb2xsb3dpbmdcblx0XHRcdC8vIHNjZW5hcmlvOlxuXHRcdFx0Ly8gICBjb25zdCByZXVzZSA9IDxkaXYgLz5cblx0XHRcdC8vICAgPGRpdj57cmV1c2V9PHNwYW4gLz57cmV1c2V9PC9kaXY+XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdGNoaWxkVk5vZGUudHlwZSxcblx0XHRcdFx0Y2hpbGRWTm9kZS5wcm9wcyxcblx0XHRcdFx0Y2hpbGRWTm9kZS5rZXksXG5cdFx0XHRcdGNoaWxkVk5vZGUucmVmID8gY2hpbGRWTm9kZS5yZWYgOiBudWxsLFxuXHRcdFx0XHRjaGlsZFZOb2RlLl9vcmlnaW5hbFxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2hpbGRWTm9kZSA9IG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbltpXSA9IGNoaWxkVk5vZGU7XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIHVubW91bnRpbmcgbnVsbCBwbGFjZWhvbGRlcnMsIGkuZS4gVk5vZGUgPT4gbnVsbCBpbiB1bmtleWVkIGNoaWxkcmVuXG5cdFx0aWYgKGNoaWxkVk5vZGUgPT0gbnVsbCkge1xuXHRcdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlbltpXTtcblx0XHRcdGlmIChvbGRWTm9kZSAmJiBvbGRWTm9kZS5rZXkgPT0gbnVsbCAmJiBvbGRWTm9kZS5fZG9tKSB7XG5cdFx0XHRcdGlmIChvbGRWTm9kZS5fZG9tID09IG5ld1BhcmVudFZOb2RlLl9uZXh0RG9tKSB7XG5cdFx0XHRcdFx0bmV3UGFyZW50Vk5vZGUuX25leHREb20gPSBnZXREb21TaWJsaW5nKG9sZFZOb2RlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHVubW91bnQob2xkVk5vZGUsIG9sZFZOb2RlLCBmYWxzZSk7XG5cblx0XHRcdFx0Ly8gRXhwbGljaXRseSBudWxsaWZ5IHRoaXMgcG9zaXRpb24gaW4gb2xkQ2hpbGRyZW4gaW5zdGVhZCBvZiBqdXN0XG5cdFx0XHRcdC8vIHNldHRpbmcgYF9tYXRjaD10cnVlYCB0byBwcmV2ZW50IG90aGVyIHJvdXRpbmVzIChlLmcuXG5cdFx0XHRcdC8vIGBmaW5kTWF0Y2hpbmdJbmRleGAgb3IgYGdldERvbVNpYmxpbmdgKSBmcm9tIHRoaW5raW5nIFZOb2RlcyBvciBET01cblx0XHRcdFx0Ly8gbm9kZXMgaW4gdGhpcyBwb3NpdGlvbiBhcmUgc3RpbGwgYXZhaWxhYmxlIHRvIGJlIHVzZWQgaW4gZGlmZmluZyB3aGVuXG5cdFx0XHRcdC8vIHRoZXkgaGF2ZSBhY3R1YWxseSBhbHJlYWR5IGJlZW4gdW5tb3VudGVkLiBGb3IgZXhhbXBsZSwgYnkgb25seVxuXHRcdFx0XHQvLyBzZXR0aW5nIGBfbWF0Y2g9dHJ1ZWAgaGVyZSwgdGhlIHVubW91bnRpbmcgbG9vcCBsYXRlciB3b3VsZCBhdHRlbXB0XG5cdFx0XHRcdC8vIHRvIHVubW91bnQgdGhpcyBWTm9kZSBhZ2FpbiBzZWVpbmcgYF9tYXRjaD09dHJ1ZWAuICBGdXJ0aGVyLFxuXHRcdFx0XHQvLyBnZXREb21TaWJsaW5nIGRvZXNuJ3Qga25vdyBhYm91dCBfbWF0Y2ggYW5kIHNvIHdvdWxkIGluY29ycmVjdGx5XG5cdFx0XHRcdC8vIGFzc3VtZSBET00gbm9kZXMgaW4gdGhpcyBzdWJ0cmVlIGFyZSBtb3VudGVkIGFuZCB1c2FibGUuXG5cdFx0XHRcdG9sZENoaWxkcmVuW2ldID0gbnVsbDtcblx0XHRcdFx0cmVtYWluaW5nT2xkQ2hpbGRyZW4tLTtcblx0XHRcdH1cblxuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0Y2hpbGRWTm9kZS5fcGFyZW50ID0gbmV3UGFyZW50Vk5vZGU7XG5cdFx0Y2hpbGRWTm9kZS5fZGVwdGggPSBuZXdQYXJlbnRWTm9kZS5fZGVwdGggKyAxO1xuXG5cdFx0Y29uc3Qgc2tld2VkSW5kZXggPSBpICsgc2tldztcblx0XHRjb25zdCBtYXRjaGluZ0luZGV4ID0gZmluZE1hdGNoaW5nSW5kZXgoXG5cdFx0XHRjaGlsZFZOb2RlLFxuXHRcdFx0b2xkQ2hpbGRyZW4sXG5cdFx0XHRza2V3ZWRJbmRleCxcblx0XHRcdHJlbWFpbmluZ09sZENoaWxkcmVuXG5cdFx0KTtcblxuXHRcdC8vIFRlbXBvcmFyaWx5IHN0b3JlIHRoZSBtYXRjaGluZ0luZGV4IG9uIHRoZSBfaW5kZXggcHJvcGVydHkgc28gd2UgY2FuIHB1bGxcblx0XHQvLyBvdXQgdGhlIG9sZFZOb2RlIGluIGRpZmZDaGlsZHJlbi4gV2UnbGwgb3ZlcnJpZGUgdGhpcyB0byB0aGUgVk5vZGUnc1xuXHRcdC8vIGZpbmFsIGluZGV4IGFmdGVyIHVzaW5nIHRoaXMgcHJvcGVydHkgdG8gZ2V0IHRoZSBvbGRWTm9kZVxuXHRcdGNoaWxkVk5vZGUuX2luZGV4ID0gbWF0Y2hpbmdJbmRleDtcblxuXHRcdG9sZFZOb2RlID0gbnVsbDtcblx0XHRpZiAobWF0Y2hpbmdJbmRleCAhPT0gLTEpIHtcblx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5bbWF0Y2hpbmdJbmRleF07XG5cdFx0XHRyZW1haW5pbmdPbGRDaGlsZHJlbi0tO1xuXHRcdFx0aWYgKG9sZFZOb2RlKSB7XG5cdFx0XHRcdG9sZFZOb2RlLl9mbGFncyB8PSBNQVRDSEVEO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEhlcmUsIHdlIGRlZmluZSBpc01vdW50aW5nIGZvciB0aGUgcHVycG9zZXMgb2YgdGhlIHNrZXcgZGlmZmluZ1xuXHRcdC8vIGFsZ29yaXRobS4gTm9kZXMgdGhhdCBhcmUgdW5zdXNwZW5kaW5nIGFyZSBjb25zaWRlcmVkIG1vdW50aW5nIGFuZCB3ZSBkZXRlY3Rcblx0XHQvLyB0aGlzIGJ5IGNoZWNraW5nIGlmIG9sZFZOb2RlLl9vcmlnaW5hbCA9PT0gbnVsbFxuXHRcdGNvbnN0IGlzTW91bnRpbmcgPSBvbGRWTm9kZSA9PSBudWxsIHx8IG9sZFZOb2RlLl9vcmlnaW5hbCA9PT0gbnVsbDtcblxuXHRcdGlmIChpc01vdW50aW5nKSB7XG5cdFx0XHRpZiAobWF0Y2hpbmdJbmRleCA9PSAtMSkge1xuXHRcdFx0XHRza2V3LS07XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHdlIGFyZSBtb3VudGluZyBhIERPTSBWTm9kZSwgbWFyayBpdCBmb3IgaW5zZXJ0aW9uXG5cdFx0XHRpZiAodHlwZW9mIGNoaWxkVk5vZGUudHlwZSAhPSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGNoaWxkVk5vZGUuX2ZsYWdzIHw9IElOU0VSVF9WTk9ERTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKG1hdGNoaW5nSW5kZXggIT09IHNrZXdlZEluZGV4KSB7XG5cdFx0XHRpZiAobWF0Y2hpbmdJbmRleCA9PT0gc2tld2VkSW5kZXggKyAxKSB7XG5cdFx0XHRcdHNrZXcrKztcblx0XHRcdH0gZWxzZSBpZiAobWF0Y2hpbmdJbmRleCA+IHNrZXdlZEluZGV4KSB7XG5cdFx0XHRcdGlmIChyZW1haW5pbmdPbGRDaGlsZHJlbiA+IG5ld0NoaWxkcmVuTGVuZ3RoIC0gc2tld2VkSW5kZXgpIHtcblx0XHRcdFx0XHRza2V3ICs9IG1hdGNoaW5nSW5kZXggLSBza2V3ZWRJbmRleDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyAjIyMgQ2hhbmdlIGZyb20ga2V5ZWQ6IEkgdGhpbmsgdGhpcyB3YXMgbWlzc2luZyBmcm9tIHRoZSBhbGdvLi4uXG5cdFx0XHRcdFx0c2tldy0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKG1hdGNoaW5nSW5kZXggPCBza2V3ZWRJbmRleCkge1xuXHRcdFx0XHRpZiAobWF0Y2hpbmdJbmRleCA9PSBza2V3ZWRJbmRleCAtIDEpIHtcblx0XHRcdFx0XHRza2V3ID0gbWF0Y2hpbmdJbmRleCAtIHNrZXdlZEluZGV4O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNrZXcgPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRza2V3ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTW92ZSB0aGlzIFZOb2RlJ3MgRE9NIGlmIHRoZSBvcmlnaW5hbCBpbmRleCAobWF0Y2hpbmdJbmRleCkgZG9lc24ndFxuXHRcdFx0Ly8gbWF0Y2ggdGhlIG5ldyBza2V3IGluZGV4IChpICsgbmV3IHNrZXcpXG5cdFx0XHRpZiAobWF0Y2hpbmdJbmRleCAhPT0gaSArIHNrZXcpIHtcblx0XHRcdFx0Y2hpbGRWTm9kZS5fZmxhZ3MgfD0gSU5TRVJUX1ZOT0RFO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSByZW1haW5pbmcgb2xkQ2hpbGRyZW4gaWYgdGhlcmUgYXJlIGFueS4gTG9vcCBmb3J3YXJkcyBzbyB0aGF0IGFzIHdlXG5cdC8vIHVubW91bnQgRE9NIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgb2xkQ2hpbGRyZW4sIHdlIGNhbiBhZGp1c3Qgb2xkRG9tIHRvXG5cdC8vIHBvaW50IHRvIHRoZSBuZXh0IGNoaWxkLCB3aGljaCBuZWVkcyB0byBiZSB0aGUgZmlyc3QgRE9NIG5vZGUgdGhhdCB3b24ndCBiZVxuXHQvLyB1bm1vdW50ZWQuXG5cdGlmIChyZW1haW5pbmdPbGRDaGlsZHJlbikge1xuXHRcdGZvciAoaSA9IDA7IGkgPCBvbGRDaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG5cdFx0XHRvbGRWTm9kZSA9IG9sZENoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKG9sZFZOb2RlICE9IG51bGwgJiYgKG9sZFZOb2RlLl9mbGFncyAmIE1BVENIRUQpID09PSAwKSB7XG5cdFx0XHRcdGlmIChvbGRWTm9kZS5fZG9tID09IG5ld1BhcmVudFZOb2RlLl9uZXh0RG9tKSB7XG5cdFx0XHRcdFx0bmV3UGFyZW50Vk5vZGUuX25leHREb20gPSBnZXREb21TaWJsaW5nKG9sZFZOb2RlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHVubW91bnQob2xkVk5vZGUsIG9sZFZOb2RlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZOb2RlfSBwYXJlbnRWTm9kZVxuICogQHBhcmFtIHtQcmVhY3RFbGVtZW50fSBvbGREb21cbiAqIEBwYXJhbSB7UHJlYWN0RWxlbWVudH0gcGFyZW50RG9tXG4gKiBAcmV0dXJucyB7UHJlYWN0RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gaW5zZXJ0KHBhcmVudFZOb2RlLCBvbGREb20sIHBhcmVudERvbSkge1xuXHQvLyBOb3RlOiBWTm9kZXMgaW4gbmVzdGVkIHN1c3BlbmRlZCB0cmVlcyBtYXkgYmUgbWlzc2luZyBfY2hpbGRyZW4uXG5cblx0aWYgKHR5cGVvZiBwYXJlbnRWTm9kZS50eXBlID09ICdmdW5jdGlvbicpIHtcblx0XHRsZXQgY2hpbGRyZW4gPSBwYXJlbnRWTm9kZS5fY2hpbGRyZW47XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGNoaWxkcmVuICYmIGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKGNoaWxkcmVuW2ldKSB7XG5cdFx0XHRcdC8vIElmIHdlIGVudGVyIHRoaXMgY29kZSBwYXRoIG9uIHNDVSBiYWlsb3V0LCB3aGVyZSB3ZSBjb3B5XG5cdFx0XHRcdC8vIG9sZFZOb2RlLl9jaGlsZHJlbiB0byBuZXdWTm9kZS5fY2hpbGRyZW4sIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBvbGRcblx0XHRcdFx0Ly8gY2hpbGRyZW4ncyBfcGFyZW50IHBvaW50ZXIgdG8gcG9pbnQgdG8gdGhlIG5ld1ZOb2RlIChwYXJlbnRWTm9kZVxuXHRcdFx0XHQvLyBoZXJlKS5cblx0XHRcdFx0Y2hpbGRyZW5baV0uX3BhcmVudCA9IHBhcmVudFZOb2RlO1xuXHRcdFx0XHRvbGREb20gPSBpbnNlcnQoY2hpbGRyZW5baV0sIG9sZERvbSwgcGFyZW50RG9tKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2xkRG9tO1xuXHR9IGVsc2UgaWYgKHBhcmVudFZOb2RlLl9kb20gIT0gb2xkRG9tKSB7XG5cdFx0cGFyZW50RG9tLmluc2VydEJlZm9yZShwYXJlbnRWTm9kZS5fZG9tLCBvbGREb20gfHwgbnVsbCk7XG5cdFx0b2xkRG9tID0gcGFyZW50Vk5vZGUuX2RvbTtcblx0fVxuXG5cdHJldHVybiBvbGREb20gJiYgb2xkRG9tLm5leHRTaWJsaW5nO1xufVxuXG4vKipcbiAqIEZsYXR0ZW4gYW5kIGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7Q29tcG9uZW50Q2hpbGRyZW59IGNoaWxkcmVuIFRoZSB1bmZsYXR0ZW5lZCBjaGlsZHJlbiBvZiBhIHZpcnR1YWxcbiAqIG5vZGVcbiAqIEByZXR1cm5zIHtWTm9kZVtdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9DaGlsZEFycmF5KGNoaWxkcmVuLCBvdXQpIHtcblx0b3V0ID0gb3V0IHx8IFtdO1xuXHRpZiAoY2hpbGRyZW4gPT0gbnVsbCB8fCB0eXBlb2YgY2hpbGRyZW4gPT0gJ2Jvb2xlYW4nKSB7XG5cdH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcblx0XHRjaGlsZHJlbi5zb21lKGNoaWxkID0+IHtcblx0XHRcdHRvQ2hpbGRBcnJheShjaGlsZCwgb3V0KTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRvdXQucHVzaChjaGlsZHJlbik7XG5cdH1cblx0cmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1ZOb2RlfSBjaGlsZFZOb2RlXG4gKiBAcGFyYW0ge1ZOb2RlW119IG9sZENoaWxkcmVuXG4gKiBAcGFyYW0ge251bWJlcn0gc2tld2VkSW5kZXhcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1haW5pbmdPbGRDaGlsZHJlblxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZmluZE1hdGNoaW5nSW5kZXgoXG5cdGNoaWxkVk5vZGUsXG5cdG9sZENoaWxkcmVuLFxuXHRza2V3ZWRJbmRleCxcblx0cmVtYWluaW5nT2xkQ2hpbGRyZW5cbikge1xuXHRjb25zdCBrZXkgPSBjaGlsZFZOb2RlLmtleTtcblx0Y29uc3QgdHlwZSA9IGNoaWxkVk5vZGUudHlwZTtcblx0bGV0IHggPSBza2V3ZWRJbmRleCAtIDE7XG5cdGxldCB5ID0gc2tld2VkSW5kZXggKyAxO1xuXHRsZXQgb2xkVk5vZGUgPSBvbGRDaGlsZHJlbltza2V3ZWRJbmRleF07XG5cblx0Ly8gV2Ugb25seSBuZWVkIHRvIHBlcmZvcm0gYSBzZWFyY2ggaWYgdGhlcmUgYXJlIG1vcmUgY2hpbGRyZW5cblx0Ly8gKHJlbWFpbmluZ09sZENoaWxkcmVuKSB0byBzZWFyY2guIEhvd2V2ZXIsIGlmIHRoZSBvbGRWTm9kZSB3ZSBqdXN0IGxvb2tlZFxuXHQvLyBhdCBza2V3ZWRJbmRleCB3YXMgbm90IGFscmVhZHkgdXNlZCBpbiB0aGlzIGRpZmYsIHRoZW4gdGhlcmUgbXVzdCBiZSBhdFxuXHQvLyBsZWFzdCAxIG90aGVyIChzbyBncmVhdGVyIHRoYW4gMSkgcmVtYWluaW5nT2xkQ2hpbGRyZW4gdG8gYXR0ZW1wdCB0byBtYXRjaFxuXHQvLyBhZ2FpbnN0LiBTbyB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbiBjaGVja3MgdGhhdCBlbnN1cmluZ1xuXHQvLyByZW1haW5pbmdPbGRDaGlsZHJlbiA+IDEgaWYgdGhlIG9sZFZOb2RlIGlzIG5vdCBhbHJlYWR5IHVzZWQvbWF0Y2hlZC4gRWxzZVxuXHQvLyBpZiB0aGUgb2xkVk5vZGUgd2FzIG51bGwgb3IgbWF0Y2hlZCwgdGhlbiB0aGVyZSBjb3VsZCBuZWVkcyB0byBiZSBhdCBsZWFzdFxuXHQvLyAxIChha2EgYHJlbWFpbmluZ09sZENoaWxkcmVuID4gMGApIGNoaWxkcmVuIHRvIGZpbmQgYW5kIGNvbXBhcmUgYWdhaW5zdC5cblx0bGV0IHNob3VsZFNlYXJjaCA9XG5cdFx0cmVtYWluaW5nT2xkQ2hpbGRyZW4gPlxuXHRcdChvbGRWTm9kZSAhPSBudWxsICYmIChvbGRWTm9kZS5fZmxhZ3MgJiBNQVRDSEVEKSA9PT0gMCA/IDEgOiAwKTtcblxuXHRpZiAoXG5cdFx0b2xkVk5vZGUgPT09IG51bGwgfHxcblx0XHQob2xkVk5vZGUgJiYga2V5ID09IG9sZFZOb2RlLmtleSAmJiB0eXBlID09PSBvbGRWTm9kZS50eXBlKVxuXHQpIHtcblx0XHRyZXR1cm4gc2tld2VkSW5kZXg7XG5cdH0gZWxzZSBpZiAoc2hvdWxkU2VhcmNoKSB7XG5cdFx0d2hpbGUgKHggPj0gMCB8fCB5IDwgb2xkQ2hpbGRyZW4ubGVuZ3RoKSB7XG5cdFx0XHRpZiAoeCA+PSAwKSB7XG5cdFx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5beF07XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRvbGRWTm9kZSAmJlxuXHRcdFx0XHRcdChvbGRWTm9kZS5fZmxhZ3MgJiBNQVRDSEVEKSA9PT0gMCAmJlxuXHRcdFx0XHRcdGtleSA9PSBvbGRWTm9kZS5rZXkgJiZcblx0XHRcdFx0XHR0eXBlID09PSBvbGRWTm9kZS50eXBlXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiB4O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHgtLTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHkgPCBvbGRDaGlsZHJlbi5sZW5ndGgpIHtcblx0XHRcdFx0b2xkVk5vZGUgPSBvbGRDaGlsZHJlblt5XTtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG9sZFZOb2RlICYmXG5cdFx0XHRcdFx0KG9sZFZOb2RlLl9mbGFncyAmIE1BVENIRUQpID09PSAwICYmXG5cdFx0XHRcdFx0a2V5ID09IG9sZFZOb2RlLmtleSAmJlxuXHRcdFx0XHRcdHR5cGUgPT09IG9sZFZOb2RlLnR5cGVcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHk7XG5cdFx0XHRcdH1cblx0XHRcdFx0eSsrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiAtMTtcbn1cbiIsICJpbXBvcnQgeyBJU19OT05fRElNRU5TSU9OQUwgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucyc7XG5cbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBrZXksIHZhbHVlKSB7XG5cdGlmIChrZXlbMF0gPT09ICctJykge1xuXHRcdHN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWUpO1xuXHR9IGVsc2UgaWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRzdHlsZVtrZXldID0gJyc7XG5cdH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlICE9ICdudW1iZXInIHx8IElTX05PTl9ESU1FTlNJT05BTC50ZXN0KGtleSkpIHtcblx0XHRzdHlsZVtrZXldID0gdmFsdWU7XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGVba2V5XSA9IHZhbHVlICsgJ3B4Jztcblx0fVxufVxuXG4vKipcbiAqIFNldCBhIHByb3BlcnR5IHZhbHVlIG9uIGEgRE9NIG5vZGVcbiAqIEBwYXJhbSB7UHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gbm9kZSB0byBtb2RpZnlcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXRcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldCB0aGUgcHJvcGVydHkgdG9cbiAqIEBwYXJhbSB7Kn0gb2xkVmFsdWUgVGhlIG9sZCB2YWx1ZSB0aGUgcHJvcGVydHkgaGFkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgRE9NIG5vZGUgaXMgYW4gU1ZHIG5vZGUgb3Igbm90XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcm9wZXJ0eShkb20sIG5hbWUsIHZhbHVlLCBvbGRWYWx1ZSwgaXNTdmcpIHtcblx0bGV0IHVzZUNhcHR1cmU7XG5cblx0bzogaWYgKG5hbWUgPT09ICdzdHlsZScpIHtcblx0XHRpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG5cdFx0XHRkb20uc3R5bGUuY3NzVGV4dCA9IHZhbHVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodHlwZW9mIG9sZFZhbHVlID09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGRvbS5zdHlsZS5jc3NUZXh0ID0gb2xkVmFsdWUgPSAnJztcblx0XHRcdH1cblxuXHRcdFx0aWYgKG9sZFZhbHVlKSB7XG5cdFx0XHRcdGZvciAobmFtZSBpbiBvbGRWYWx1ZSkge1xuXHRcdFx0XHRcdGlmICghKHZhbHVlICYmIG5hbWUgaW4gdmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRzZXRTdHlsZShkb20uc3R5bGUsIG5hbWUsICcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRcdGZvciAobmFtZSBpbiB2YWx1ZSkge1xuXHRcdFx0XHRcdGlmICghb2xkVmFsdWUgfHwgdmFsdWVbbmFtZV0gIT09IG9sZFZhbHVlW25hbWVdKSB7XG5cdFx0XHRcdFx0XHRzZXRTdHlsZShkb20uc3R5bGUsIG5hbWUsIHZhbHVlW25hbWVdKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0Ly8gQmVuY2htYXJrIGZvciBjb21wYXJpc29uOiBodHRwczovL2VzYmVuY2guY29tL2JlbmNoLzU3NGM5NTRiZGI5NjViOWEwMDk2NWFjNlxuXHRlbHNlIGlmIChuYW1lWzBdID09PSAnbycgJiYgbmFtZVsxXSA9PT0gJ24nKSB7XG5cdFx0dXNlQ2FwdHVyZSA9XG5cdFx0XHRuYW1lICE9PSAobmFtZSA9IG5hbWUucmVwbGFjZSgvKFBvaW50ZXJDYXB0dXJlKSR8Q2FwdHVyZSQvLCAnJDEnKSk7XG5cblx0XHQvLyBJbmZlciBjb3JyZWN0IGNhc2luZyBmb3IgRE9NIGJ1aWx0LWluIGV2ZW50czpcblx0XHRpZiAobmFtZS50b0xvd2VyQ2FzZSgpIGluIGRvbSkgbmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS5zbGljZSgyKTtcblx0XHRlbHNlIG5hbWUgPSBuYW1lLnNsaWNlKDIpO1xuXG5cdFx0aWYgKCFkb20uX2xpc3RlbmVycykgZG9tLl9saXN0ZW5lcnMgPSB7fTtcblx0XHRkb20uX2xpc3RlbmVyc1tuYW1lICsgdXNlQ2FwdHVyZV0gPSB2YWx1ZTtcblxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0aWYgKCFvbGRWYWx1ZSkge1xuXHRcdFx0XHR2YWx1ZS5fYXR0YWNoZWQgPSBEYXRlLm5vdygpO1xuXHRcdFx0XHRjb25zdCBoYW5kbGVyID0gdXNlQ2FwdHVyZSA/IGV2ZW50UHJveHlDYXB0dXJlIDogZXZlbnRQcm94eTtcblx0XHRcdFx0ZG9tLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlciwgdXNlQ2FwdHVyZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWx1ZS5fYXR0YWNoZWQgPSBvbGRWYWx1ZS5fYXR0YWNoZWQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGhhbmRsZXIgPSB1c2VDYXB0dXJlID8gZXZlbnRQcm94eUNhcHR1cmUgOiBldmVudFByb3h5O1xuXHRcdFx0ZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlciwgdXNlQ2FwdHVyZSk7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmIChpc1N2Zykge1xuXHRcdFx0Ly8gTm9ybWFsaXplIGluY29ycmVjdCBwcm9wIHVzYWdlIGZvciBTVkc6XG5cdFx0XHQvLyAtIHhsaW5rOmhyZWYgLyB4bGlua0hyZWYgLS0+IGhyZWYgKHhsaW5rOmhyZWYgd2FzIHJlbW92ZWQgZnJvbSBTVkcgYW5kIGlzbid0IG5lZWRlZClcblx0XHRcdC8vIC0gY2xhc3NOYW1lIC0tPiBjbGFzc1xuXHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZSgveGxpbmsoSHw6aCkvLCAnaCcpLnJlcGxhY2UoL3NOYW1lJC8sICdzJyk7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdG5hbWUgIT09ICd3aWR0aCcgJiZcblx0XHRcdG5hbWUgIT09ICdoZWlnaHQnICYmXG5cdFx0XHRuYW1lICE9PSAnaHJlZicgJiZcblx0XHRcdG5hbWUgIT09ICdsaXN0JyAmJlxuXHRcdFx0bmFtZSAhPT0gJ2Zvcm0nICYmXG5cdFx0XHQvLyBEZWZhdWx0IHZhbHVlIGluIGJyb3dzZXJzIGlzIGAtMWAgYW5kIGFuIGVtcHR5IHN0cmluZyBpc1xuXHRcdFx0Ly8gY2FzdCB0byBgMGAgaW5zdGVhZFxuXHRcdFx0bmFtZSAhPT0gJ3RhYkluZGV4JyAmJlxuXHRcdFx0bmFtZSAhPT0gJ2Rvd25sb2FkJyAmJlxuXHRcdFx0bmFtZSAhPT0gJ3Jvd1NwYW4nICYmXG5cdFx0XHRuYW1lICE9PSAnY29sU3BhbicgJiZcblx0XHRcdG5hbWUgIT09ICdyb2xlJyAmJlxuXHRcdFx0bmFtZSBpbiBkb21cblx0XHQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRvbVtuYW1lXSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuXHRcdFx0XHQvLyBsYWJlbGxlZCBicmVhayBpcyAxYiBzbWFsbGVyIGhlcmUgdGhhbiBhIHJldHVybiBzdGF0ZW1lbnQgKHNvcnJ5KVxuXHRcdFx0XHRicmVhayBvO1xuXHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHR9XG5cblx0XHQvLyBhcmlhLSBhbmQgZGF0YS0gYXR0cmlidXRlcyBoYXZlIG5vIGJvb2xlYW4gcmVwcmVzZW50YXRpb24uXG5cdFx0Ly8gQSBgZmFsc2VgIHZhbHVlIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBhdHRyaWJ1dGUgbm90IGJlaW5nXG5cdFx0Ly8gcHJlc2VudCwgc28gd2UgY2FuJ3QgcmVtb3ZlIGl0LiBGb3Igbm9uLWJvb2xlYW4gYXJpYVxuXHRcdC8vIGF0dHJpYnV0ZXMgd2UgY291bGQgdHJlYXQgZmFsc2UgYXMgYSByZW1vdmFsLCBidXQgdGhlXG5cdFx0Ly8gYW1vdW50IG9mIGV4Y2VwdGlvbnMgd291bGQgY29zdCB0b28gbWFueSBieXRlcy4gT24gdG9wIG9mXG5cdFx0Ly8gdGhhdCBvdGhlciBmcmFtZXdvcmtzIGdlbmVyYWxseSBzdHJpbmdpZnkgYGZhbHNlYC5cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Ly8gbmV2ZXIgc2VyaWFsaXplIGZ1bmN0aW9ucyBhcyBhdHRyaWJ1dGUgdmFsdWVzXG5cdFx0fSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsICYmICh2YWx1ZSAhPT0gZmFsc2UgfHwgbmFtZVs0XSA9PT0gJy0nKSkge1xuXHRcdFx0ZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogUHJveHkgYW4gZXZlbnQgdG8gaG9va2VkIGV2ZW50IGhhbmRsZXJzXG4gKiBAcGFyYW0ge1ByZWFjdEV2ZW50fSBlIFRoZSBldmVudCBvYmplY3QgZnJvbSB0aGUgYnJvd3NlclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXZlbnRQcm94eShlKSB7XG5cdGNvbnN0IGV2ZW50SGFuZGxlciA9IHRoaXMuX2xpc3RlbmVyc1tlLnR5cGUgKyBmYWxzZV07XG5cdC8qKlxuXHQgKiBUaGlzIHRyaWNrIGlzIGluc3BpcmVkIGJ5IFZ1ZSBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvY29yZS9ibG9iL21haW4vcGFja2FnZXMvcnVudGltZS1kb20vc3JjL21vZHVsZXMvZXZlbnRzLnRzI0w5MC1MMTAxXG5cdCAqIHdoZW4gdGhlIGRvbSBwZXJmb3JtcyBhbiBldmVudCBpdCBsZWF2ZXMgbWljcm8tdGlja3MgaW4gYmV0d2VlbiBidWJibGluZyB1cCB3aGljaCBtZWFucyB0aGF0IGFuIGV2ZW50IGNhbiB0cmlnZ2VyIG9uIGEgbmV3bHlcblx0ICogY3JlYXRlZCBET00tbm9kZSB3aGlsZSB0aGUgZXZlbnQgYnViYmxlcyB1cCwgdGhpcyBjYW4gY2F1c2UgcXVpcmt5IGJlaGF2aW9yIGFzIHNlZW4gaW4gaHR0cHM6Ly9naXRodWIuY29tL3ByZWFjdGpzL3ByZWFjdC9pc3N1ZXMvMzkyN1xuXHQgKi9cblx0aWYgKCFlLl9kaXNwYXRjaGVkKSB7XG5cdFx0Ly8gV2hlbiBhbiBldmVudCBoYXMgbm8gX2Rpc3BhdGNoZWQgd2Uga25vdyB0aGlzIGlzIHRoZSBmaXJzdCBldmVudC10YXJnZXQgaW4gdGhlIGNoYWluXG5cdFx0Ly8gc28gd2Ugc2V0IHRoZSBpbml0aWFsIGRpc3BhdGNoZWQgdGltZS5cblx0XHRlLl9kaXNwYXRjaGVkID0gRGF0ZS5ub3coKTtcblx0XHQvLyBXaGVuIHRoZSBfZGlzcGF0Y2hlZCBpcyBzbWFsbGVyIHRoYW4gdGhlIHRpbWUgd2hlbiB0aGUgdGFyZ2V0dGVkIGV2ZW50IGhhbmRsZXIgd2FzIGF0dGFjaGVkXG5cdFx0Ly8gd2Uga25vdyB3ZSBoYXZlIGJ1YmJsZWQgdXAgdG8gYW4gZWxlbWVudCB0aGF0IHdhcyBhZGRlZCBkdXJpbmcgcGF0Y2hpbmcgdGhlIGRvbS5cblx0fSBlbHNlIGlmIChlLl9kaXNwYXRjaGVkIDw9IGV2ZW50SGFuZGxlci5fYXR0YWNoZWQpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0cmV0dXJuIGV2ZW50SGFuZGxlcihvcHRpb25zLmV2ZW50ID8gb3B0aW9ucy5ldmVudChlKSA6IGUpO1xufVxuXG4vKipcbiAqIFByb3h5IGFuIGV2ZW50IHRvIGhvb2tlZCBldmVudCBoYW5kbGVyc1xuICogQHBhcmFtIHtQcmVhY3RFdmVudH0gZSBUaGUgZXZlbnQgb2JqZWN0IGZyb20gdGhlIGJyb3dzZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV2ZW50UHJveHlDYXB0dXJlKGUpIHtcblx0cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGUgKyB0cnVlXShvcHRpb25zLmV2ZW50ID8gb3B0aW9ucy5ldmVudChlKSA6IGUpO1xufVxuIiwgImltcG9ydCB7XG5cdEVNUFRZX09CSixcblx0TU9ERV9IWURSQVRFLFxuXHRNT0RFX1NVU1BFTkRFRCxcblx0UkVTRVRfTU9ERVxufSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCwgZ2V0RG9tU2libGluZyB9IGZyb20gJy4uL2NvbXBvbmVudCc7XG5pbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJy4uL2NyZWF0ZS1lbGVtZW50JztcbmltcG9ydCB7IGRpZmZDaGlsZHJlbiB9IGZyb20gJy4vY2hpbGRyZW4nO1xuaW1wb3J0IHsgc2V0UHJvcGVydHkgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IGFzc2lnbiwgaXNBcnJheSwgcmVtb3ZlTm9kZSwgc2xpY2UgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuXG4vKipcbiAqIERpZmYgdHdvIHZpcnR1YWwgbm9kZXMgYW5kIGFwcGx5IHByb3BlciBjaGFuZ2VzIHRvIHRoZSBET01cbiAqIEBwYXJhbSB7UHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBwYXJlbnQgb2YgdGhlIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge1ZOb2RlfSBuZXdWTm9kZSBUaGUgbmV3IHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtWTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBnbG9iYWxDb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0LiBNb2RpZmllZCBieVxuICogZ2V0Q2hpbGRDb250ZXh0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgZWxlbWVudCBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtBcnJheTxQcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8Q29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzIHdoaWNoIGhhdmUgY2FsbGJhY2tzXG4gKiB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtQcmVhY3RFbGVtZW50fSBvbGREb20gVGhlIGN1cnJlbnQgYXR0YWNoZWQgRE9NIGVsZW1lbnQgYW55IG5ldyBkb21cbiAqIGVsZW1lbnRzIHNob3VsZCBiZSBwbGFjZWQgYXJvdW5kLiBMaWtlbHkgYG51bGxgIG9uIGZpcnN0IHJlbmRlciAoZXhjZXB0IHdoZW5cbiAqIGh5ZHJhdGluZykuIENhbiBiZSBhIHNpYmxpbmcgRE9NIGVsZW1lbnQgd2hlbiBkaWZmaW5nIEZyYWdtZW50cyB0aGF0IGhhdmVcbiAqIHNpYmxpbmdzLiBJbiBtb3N0IGNhc2VzLCBpdCBzdGFydHMgb3V0IGFzIGBvbGRDaGlsZHJlblswXS5fZG9tYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICogQHBhcmFtIHthbnlbXX0gcmVmUXVldWUgYW4gYXJyYXkgb2YgZWxlbWVudHMgbmVlZGVkIHRvIGludm9rZSByZWZzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaWZmKFxuXHRwYXJlbnREb20sXG5cdG5ld1ZOb2RlLFxuXHRvbGRWTm9kZSxcblx0Z2xvYmFsQ29udGV4dCxcblx0aXNTdmcsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0b2xkRG9tLFxuXHRpc0h5ZHJhdGluZyxcblx0cmVmUXVldWVcbikge1xuXHQvKiogQHR5cGUge2FueX0gKi9cblx0bGV0IHRtcCxcblx0XHRuZXdUeXBlID0gbmV3Vk5vZGUudHlwZTtcblxuXHQvLyBXaGVuIHBhc3NpbmcgdGhyb3VnaCBjcmVhdGVFbGVtZW50IGl0IGFzc2lnbnMgdGhlIG9iamVjdFxuXHQvLyBjb25zdHJ1Y3RvciBhcyB1bmRlZmluZWQuIFRoaXMgdG8gcHJldmVudCBKU09OLWluamVjdGlvbi5cblx0aWYgKG5ld1ZOb2RlLmNvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG5cdC8vIElmIHRoZSBwcmV2aW91cyBkaWZmIGJhaWxlZCBvdXQsIHJlc3VtZSBjcmVhdGluZy9oeWRyYXRpbmcuXG5cdGlmIChvbGRWTm9kZS5fZmxhZ3MgJiBNT0RFX1NVU1BFTkRFRCkge1xuXHRcdGlzSHlkcmF0aW5nID0gISEob2xkVk5vZGUuX2ZsYWdzICYgTU9ERV9IWURSQVRFKTtcblx0XHRvbGREb20gPSBuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHRleGNlc3NEb21DaGlsZHJlbiA9IFtvbGREb21dO1xuXHR9XG5cblx0aWYgKCh0bXAgPSBvcHRpb25zLl9kaWZmKSkgdG1wKG5ld1ZOb2RlKTtcblxuXHRvdXRlcjogaWYgKHR5cGVvZiBuZXdUeXBlID09ICdmdW5jdGlvbicpIHtcblx0XHR0cnkge1xuXHRcdFx0bGV0IGMsIGlzTmV3LCBvbGRQcm9wcywgb2xkU3RhdGUsIHNuYXBzaG90LCBjbGVhclByb2Nlc3NpbmdFeGNlcHRpb247XG5cdFx0XHRsZXQgbmV3UHJvcHMgPSBuZXdWTm9kZS5wcm9wcztcblxuXHRcdFx0Ly8gTmVjZXNzYXJ5IGZvciBjcmVhdGVDb250ZXh0IGFwaS4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHdpbGwgcGFzc1xuXHRcdFx0Ly8gdGhlIGNvbnRleHQgdmFsdWUgYXMgYHRoaXMuY29udGV4dGAganVzdCBmb3IgdGhpcyBjb21wb25lbnQuXG5cdFx0XHR0bXAgPSBuZXdUeXBlLmNvbnRleHRUeXBlO1xuXHRcdFx0bGV0IHByb3ZpZGVyID0gdG1wICYmIGdsb2JhbENvbnRleHRbdG1wLl9pZF07XG5cdFx0XHRsZXQgY29tcG9uZW50Q29udGV4dCA9IHRtcFxuXHRcdFx0XHQ/IHByb3ZpZGVyXG5cdFx0XHRcdFx0PyBwcm92aWRlci5wcm9wcy52YWx1ZVxuXHRcdFx0XHRcdDogdG1wLl9kZWZhdWx0VmFsdWVcblx0XHRcdFx0OiBnbG9iYWxDb250ZXh0O1xuXG5cdFx0XHQvLyBHZXQgY29tcG9uZW50IGFuZCBzZXQgaXQgdG8gYGNgXG5cdFx0XHRpZiAob2xkVk5vZGUuX2NvbXBvbmVudCkge1xuXHRcdFx0XHRjID0gbmV3Vk5vZGUuX2NvbXBvbmVudCA9IG9sZFZOb2RlLl9jb21wb25lbnQ7XG5cdFx0XHRcdGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IGMuX3Byb2Nlc3NpbmdFeGNlcHRpb24gPSBjLl9wZW5kaW5nRXJyb3I7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBJbnN0YW50aWF0ZSB0aGUgbmV3IGNvbXBvbmVudFxuXHRcdFx0XHRpZiAoJ3Byb3RvdHlwZScgaW4gbmV3VHlwZSAmJiBuZXdUeXBlLnByb3RvdHlwZS5yZW5kZXIpIHtcblx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRoZSBjaGVjayBhYm92ZSB2ZXJpZmllcyB0aGF0IG5ld1R5cGUgaXMgc3VwcG9zZSB0byBiZSBjb25zdHJ1Y3RlZFxuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jb21wb25lbnQgPSBjID0gbmV3IG5ld1R5cGUobmV3UHJvcHMsIGNvbXBvbmVudENvbnRleHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5ldy1jYXBcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFRydXN0IG1lLCBDb21wb25lbnQgaW1wbGVtZW50cyB0aGUgaW50ZXJmYWNlIHdlIHdhbnRcblx0XHRcdFx0XHRuZXdWTm9kZS5fY29tcG9uZW50ID0gYyA9IG5ldyBCYXNlQ29tcG9uZW50KFxuXHRcdFx0XHRcdFx0bmV3UHJvcHMsXG5cdFx0XHRcdFx0XHRjb21wb25lbnRDb250ZXh0XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjLmNvbnN0cnVjdG9yID0gbmV3VHlwZTtcblx0XHRcdFx0XHRjLnJlbmRlciA9IGRvUmVuZGVyO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChwcm92aWRlcikgcHJvdmlkZXIuc3ViKGMpO1xuXG5cdFx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdFx0aWYgKCFjLnN0YXRlKSBjLnN0YXRlID0ge307XG5cdFx0XHRcdGMuY29udGV4dCA9IGNvbXBvbmVudENvbnRleHQ7XG5cdFx0XHRcdGMuX2dsb2JhbENvbnRleHQgPSBnbG9iYWxDb250ZXh0O1xuXHRcdFx0XHRpc05ldyA9IGMuX2RpcnR5ID0gdHJ1ZTtcblx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzID0gW107XG5cdFx0XHRcdGMuX3N0YXRlQ2FsbGJhY2tzID0gW107XG5cdFx0XHR9XG5cblx0XHRcdC8vIEludm9rZSBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcblx0XHRcdGlmIChjLl9uZXh0U3RhdGUgPT0gbnVsbCkge1xuXHRcdFx0XHRjLl9uZXh0U3RhdGUgPSBjLnN0YXRlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgIT0gbnVsbCkge1xuXHRcdFx0XHRpZiAoYy5fbmV4dFN0YXRlID09IGMuc3RhdGUpIHtcblx0XHRcdFx0XHRjLl9uZXh0U3RhdGUgPSBhc3NpZ24oe30sIGMuX25leHRTdGF0ZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhc3NpZ24oXG5cdFx0XHRcdFx0Yy5fbmV4dFN0YXRlLFxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzLCBjLl9uZXh0U3RhdGUpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdG9sZFByb3BzID0gYy5wcm9wcztcblx0XHRcdG9sZFN0YXRlID0gYy5zdGF0ZTtcblx0XHRcdGMuX3Zub2RlID0gbmV3Vk5vZGU7XG5cblx0XHRcdC8vIEludm9rZSBwcmUtcmVuZGVyIGxpZmVjeWNsZSBtZXRob2RzXG5cdFx0XHRpZiAoaXNOZXcpIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09IG51bGwgJiZcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxNb3VudCAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbE1vdW50KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYy5jb21wb25lbnREaWRNb3VudCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goYy5jb21wb25lbnREaWRNb3VudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PSBudWxsICYmXG5cdFx0XHRcdFx0bmV3UHJvcHMgIT09IG9sZFByb3BzICYmXG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICE9IG51bGxcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBjb21wb25lbnRDb250ZXh0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQhYy5fZm9yY2UgJiZcblx0XHRcdFx0XHQoKGMuc2hvdWxkQ29tcG9uZW50VXBkYXRlICE9IG51bGwgJiZcblx0XHRcdFx0XHRcdGMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuXHRcdFx0XHRcdFx0XHRuZXdQcm9wcyxcblx0XHRcdFx0XHRcdFx0Yy5fbmV4dFN0YXRlLFxuXHRcdFx0XHRcdFx0XHRjb21wb25lbnRDb250ZXh0XG5cdFx0XHRcdFx0XHQpID09PSBmYWxzZSkgfHxcblx0XHRcdFx0XHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9PT0gb2xkVk5vZGUuX29yaWdpbmFsKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHQvLyBNb3JlIGluZm8gYWJvdXQgdGhpcyBoZXJlOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9Kb3ZpRGVDcm9vY2svYmVjNWYyY2U5MzU0NGQyZTYwNzBlZjhlMDAzNmU0ZThcblx0XHRcdFx0XHRpZiAobmV3Vk5vZGUuX29yaWdpbmFsICE9PSBvbGRWTm9kZS5fb3JpZ2luYWwpIHtcblx0XHRcdFx0XHRcdC8vIFdoZW4gd2UgYXJlIGRlYWxpbmcgd2l0aCBhIGJhaWwgYmVjYXVzZSBvZiBzQ1Ugd2UgaGF2ZSB0byB1cGRhdGVcblx0XHRcdFx0XHRcdC8vIHRoZSBwcm9wcywgc3RhdGUgYW5kIGRpcnR5LXN0YXRlLlxuXHRcdFx0XHRcdFx0Ly8gd2hlbiB3ZSBhcmUgZGVhbGluZyB3aXRoIHN0cmljdC1lcXVhbGl0eSB3ZSBkb24ndCBhcyB0aGUgY2hpbGQgY291bGQgc3RpbGxcblx0XHRcdFx0XHRcdC8vIGJlIGRpcnRpZWQgc2VlICMzODgzXG5cdFx0XHRcdFx0XHRjLnByb3BzID0gbmV3UHJvcHM7XG5cdFx0XHRcdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlO1xuXHRcdFx0XHRcdFx0Yy5fZGlydHkgPSBmYWxzZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBvbGRWTm9kZS5fY2hpbGRyZW47XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuLmZvckVhY2godm5vZGUgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHZub2RlKSB2bm9kZS5fcGFyZW50ID0gbmV3Vk5vZGU7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGMuX3N0YXRlQ2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MucHVzaChjLl9zdGF0ZUNhbGxiYWNrc1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGMuX3N0YXRlQ2FsbGJhY2tzID0gW107XG5cblx0XHRcdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudFdpbGxVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgYy5fbmV4dFN0YXRlLCBjb21wb25lbnRDb250ZXh0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudERpZFVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRcdFx0Yy5jb21wb25lbnREaWRVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Yy5jb250ZXh0ID0gY29tcG9uZW50Q29udGV4dDtcblx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdGMuX3BhcmVudERvbSA9IHBhcmVudERvbTtcblx0XHRcdGMuX2ZvcmNlID0gZmFsc2U7XG5cblx0XHRcdGxldCByZW5kZXJIb29rID0gb3B0aW9ucy5fcmVuZGVyLFxuXHRcdFx0XHRjb3VudCA9IDA7XG5cdFx0XHRpZiAoJ3Byb3RvdHlwZScgaW4gbmV3VHlwZSAmJiBuZXdUeXBlLnByb3RvdHlwZS5yZW5kZXIpIHtcblx0XHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblx0XHRcdFx0Yy5fZGlydHkgPSBmYWxzZTtcblxuXHRcdFx0XHRpZiAocmVuZGVySG9vaykgcmVuZGVySG9vayhuZXdWTm9kZSk7XG5cblx0XHRcdFx0dG1wID0gYy5yZW5kZXIoYy5wcm9wcywgYy5zdGF0ZSwgYy5jb250ZXh0KTtcblxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGMuX3N0YXRlQ2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goYy5fc3RhdGVDYWxsYmFja3NbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGMuX3N0YXRlQ2FsbGJhY2tzID0gW107XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0Yy5fZGlydHkgPSBmYWxzZTtcblx0XHRcdFx0XHRpZiAocmVuZGVySG9vaykgcmVuZGVySG9vayhuZXdWTm9kZSk7XG5cblx0XHRcdFx0XHR0bXAgPSBjLnJlbmRlcihjLnByb3BzLCBjLnN0YXRlLCBjLmNvbnRleHQpO1xuXG5cdFx0XHRcdFx0Ly8gSGFuZGxlIHNldFN0YXRlIGNhbGxlZCBpbiByZW5kZXIsIHNlZSAjMjU1M1xuXHRcdFx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cdFx0XHRcdH0gd2hpbGUgKGMuX2RpcnR5ICYmICsrY291bnQgPCAyNSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhhbmRsZSBzZXRTdGF0ZSBjYWxsZWQgaW4gcmVuZGVyLCBzZWUgIzI1NTNcblx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cblx0XHRcdGlmIChjLmdldENoaWxkQ29udGV4dCAhPSBudWxsKSB7XG5cdFx0XHRcdGdsb2JhbENvbnRleHQgPSBhc3NpZ24oYXNzaWduKHt9LCBnbG9iYWxDb250ZXh0KSwgYy5nZXRDaGlsZENvbnRleHQoKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghaXNOZXcgJiYgYy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdHNuYXBzaG90ID0gYy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShvbGRQcm9wcywgb2xkU3RhdGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgaXNUb3BMZXZlbEZyYWdtZW50ID1cblx0XHRcdFx0dG1wICE9IG51bGwgJiYgdG1wLnR5cGUgPT09IEZyYWdtZW50ICYmIHRtcC5rZXkgPT0gbnVsbDtcblx0XHRcdGxldCByZW5kZXJSZXN1bHQgPSBpc1RvcExldmVsRnJhZ21lbnQgPyB0bXAucHJvcHMuY2hpbGRyZW4gOiB0bXA7XG5cblx0XHRcdGRpZmZDaGlsZHJlbihcblx0XHRcdFx0cGFyZW50RG9tLFxuXHRcdFx0XHRpc0FycmF5KHJlbmRlclJlc3VsdCkgPyByZW5kZXJSZXN1bHQgOiBbcmVuZGVyUmVzdWx0XSxcblx0XHRcdFx0bmV3Vk5vZGUsXG5cdFx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0XHRnbG9iYWxDb250ZXh0LFxuXHRcdFx0XHRpc1N2Zyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRvbGREb20sXG5cdFx0XHRcdGlzSHlkcmF0aW5nLFxuXHRcdFx0XHRyZWZRdWV1ZVxuXHRcdFx0KTtcblxuXHRcdFx0Yy5iYXNlID0gbmV3Vk5vZGUuX2RvbTtcblxuXHRcdFx0Ly8gV2Ugc3VjY2Vzc2Z1bGx5IHJlbmRlcmVkIHRoaXMgVk5vZGUsIHVuc2V0IGFueSBzdG9yZWQgaHlkcmF0aW9uL2JhaWxvdXQgc3RhdGU6XG5cdFx0XHRuZXdWTm9kZS5fZmxhZ3MgJj0gUkVTRVRfTU9ERTtcblxuXHRcdFx0aWYgKGMuX3JlbmRlckNhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbikge1xuXHRcdFx0XHRjLl9wZW5kaW5nRXJyb3IgPSBjLl9wcm9jZXNzaW5nRXhjZXB0aW9uID0gbnVsbDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRuZXdWTm9kZS5fb3JpZ2luYWwgPSBudWxsO1xuXHRcdFx0Ly8gaWYgaHlkcmF0aW5nIG9yIGNyZWF0aW5nIGluaXRpYWwgdHJlZSwgYmFpbG91dCBwcmVzZXJ2ZXMgRE9NOlxuXHRcdFx0aWYgKGlzSHlkcmF0aW5nIHx8IGV4Y2Vzc0RvbUNoaWxkcmVuICE9IG51bGwpIHtcblx0XHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZERvbTtcblx0XHRcdFx0bmV3Vk5vZGUuX2ZsYWdzIHw9IGlzSHlkcmF0aW5nXG5cdFx0XHRcdFx0PyBNT0RFX0hZRFJBVEUgfCBNT0RFX1NVU1BFTkRFRFxuXHRcdFx0XHRcdDogTU9ERV9IWURSQVRFO1xuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbltleGNlc3NEb21DaGlsZHJlbi5pbmRleE9mKG9sZERvbSldID0gbnVsbDtcblx0XHRcdFx0Ly8gXiBjb3VsZCBwb3NzaWJseSBiZSBzaW1wbGlmaWVkIHRvOlxuXHRcdFx0XHQvLyBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGggPSAwO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG9sZFZOb2RlLl9jaGlsZHJlbjtcblx0XHRcdH1cblx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgbmV3Vk5vZGUsIG9sZFZOb2RlKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAoXG5cdFx0ZXhjZXNzRG9tQ2hpbGRyZW4gPT0gbnVsbCAmJlxuXHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9PT0gb2xkVk5vZGUuX29yaWdpbmFsXG5cdCkge1xuXHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IG9sZFZOb2RlLl9jaGlsZHJlbjtcblx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0fSBlbHNlIHtcblx0XHRuZXdWTm9kZS5fZG9tID0gZGlmZkVsZW1lbnROb2Rlcyhcblx0XHRcdG9sZFZOb2RlLl9kb20sXG5cdFx0XHRuZXdWTm9kZSxcblx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdGlzU3ZnLFxuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdGlzSHlkcmF0aW5nLFxuXHRcdFx0cmVmUXVldWVcblx0XHQpO1xuXHR9XG5cblx0aWYgKCh0bXAgPSBvcHRpb25zLmRpZmZlZCkpIHRtcChuZXdWTm9kZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxDb21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge1ZOb2RlfSByb290XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21taXRSb290KGNvbW1pdFF1ZXVlLCByb290LCByZWZRdWV1ZSkge1xuXHRyb290Ll9uZXh0RG9tID0gdW5kZWZpbmVkO1xuXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmVmUXVldWUubGVuZ3RoOyBpKyspIHtcblx0XHRhcHBseVJlZihyZWZRdWV1ZVtpXSwgcmVmUXVldWVbKytpXSwgcmVmUXVldWVbKytpXSk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5fY29tbWl0KSBvcHRpb25zLl9jb21taXQocm9vdCwgY29tbWl0UXVldWUpO1xuXG5cdGNvbW1pdFF1ZXVlLnNvbWUoYyA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgUmV1c2UgdGhlIGNvbW1pdFF1ZXVlIHZhcmlhYmxlIGhlcmUgc28gdGhlIHR5cGUgY2hhbmdlc1xuXHRcdFx0Y29tbWl0UXVldWUgPSBjLl9yZW5kZXJDYWxsYmFja3M7XG5cdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoY2IgPT4ge1xuXHRcdFx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIFNlZSBhYm92ZSBjb21tZW50IG9uIGNvbW1pdFF1ZXVlXG5cdFx0XHRcdGNiLmNhbGwoYyk7XG5cdFx0XHR9KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIGMuX3Zub2RlKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vKipcbiAqIERpZmYgdHdvIHZpcnR1YWwgbm9kZXMgcmVwcmVzZW50aW5nIERPTSBlbGVtZW50XG4gKiBAcGFyYW0ge1ByZWFjdEVsZW1lbnR9IGRvbSBUaGUgRE9NIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSB2aXJ0dWFsIG5vZGVzXG4gKiBiZWluZyBkaWZmZWRcbiAqIEBwYXJhbSB7Vk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge1ZOb2RlfSBvbGRWTm9kZSBUaGUgb2xkIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGdsb2JhbENvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtBcnJheTxQcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8Q29tcG9uZW50Pn0gY29tbWl0UXVldWUgTGlzdCBvZiBjb21wb25lbnRzIHdoaWNoIGhhdmUgY2FsbGJhY2tzXG4gKiB0byBpbnZva2UgaW4gY29tbWl0Um9vdFxuICogQHBhcmFtIHtib29sZWFufSBpc0h5ZHJhdGluZyBXaGV0aGVyIG9yIG5vdCB3ZSBhcmUgaW4gaHlkcmF0aW9uXG4gKiBAcGFyYW0ge2FueVtdfSByZWZRdWV1ZSBhbiBhcnJheSBvZiBlbGVtZW50cyBuZWVkZWQgdG8gaW52b2tlIHJlZnNcbiAqIEByZXR1cm5zIHtQcmVhY3RFbGVtZW50fVxuICovXG5mdW5jdGlvbiBkaWZmRWxlbWVudE5vZGVzKFxuXHRkb20sXG5cdG5ld1ZOb2RlLFxuXHRvbGRWTm9kZSxcblx0Z2xvYmFsQ29udGV4dCxcblx0aXNTdmcsXG5cdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRjb21taXRRdWV1ZSxcblx0aXNIeWRyYXRpbmcsXG5cdHJlZlF1ZXVlXG4pIHtcblx0bGV0IG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHM7XG5cdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXHRsZXQgbm9kZVR5cGUgPSAvKiogQHR5cGUge3N0cmluZ30gKi8gKG5ld1ZOb2RlLnR5cGUpO1xuXHQvKiogQHR5cGUge2FueX0gKi9cblx0bGV0IGk7XG5cdC8qKiBAdHlwZSB7eyBfX2h0bWw/OiBzdHJpbmcgfX0gKi9cblx0bGV0IG5ld0h0bWw7XG5cdC8qKiBAdHlwZSB7eyBfX2h0bWw/OiBzdHJpbmcgfX0gKi9cblx0bGV0IG9sZEh0bWw7XG5cdC8qKiBAdHlwZSB7Q29tcG9uZW50Q2hpbGRyZW59ICovXG5cdGxldCBuZXdDaGlsZHJlbjtcblx0bGV0IHZhbHVlO1xuXHRsZXQgaW5wdXRWYWx1ZTtcblx0bGV0IGNoZWNrZWQ7XG5cblx0Ly8gVHJhY2tzIGVudGVyaW5nIGFuZCBleGl0aW5nIFNWRyBuYW1lc3BhY2Ugd2hlbiBkZXNjZW5kaW5nIHRocm91Z2ggdGhlIHRyZWUuXG5cdGlmIChub2RlVHlwZSA9PT0gJ3N2ZycpIGlzU3ZnID0gdHJ1ZTtcblxuXHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdGZvciAoaSA9IDA7IGkgPCBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFsdWUgPSBleGNlc3NEb21DaGlsZHJlbltpXTtcblxuXHRcdFx0Ly8gaWYgbmV3Vk5vZGUgbWF0Y2hlcyBhbiBlbGVtZW50IGluIGV4Y2Vzc0RvbUNoaWxkcmVuIG9yIHRoZSBgZG9tYFxuXHRcdFx0Ly8gYXJndW1lbnQgbWF0Y2hlcyBhbiBlbGVtZW50IGluIGV4Y2Vzc0RvbUNoaWxkcmVuLCByZW1vdmUgaXQgZnJvbVxuXHRcdFx0Ly8gZXhjZXNzRG9tQ2hpbGRyZW4gc28gaXQgaXNuJ3QgbGF0ZXIgcmVtb3ZlZCBpbiBkaWZmQ2hpbGRyZW5cblx0XHRcdGlmIChcblx0XHRcdFx0dmFsdWUgJiZcblx0XHRcdFx0J3NldEF0dHJpYnV0ZScgaW4gdmFsdWUgPT09ICEhbm9kZVR5cGUgJiZcblx0XHRcdFx0KG5vZGVUeXBlID8gdmFsdWUubG9jYWxOYW1lID09PSBub2RlVHlwZSA6IHZhbHVlLm5vZGVUeXBlID09PSAzKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGRvbSA9IHZhbHVlO1xuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbltpXSA9IG51bGw7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChkb20gPT0gbnVsbCkge1xuXHRcdGlmIChub2RlVHlwZSA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld1Byb3BzKTtcblx0XHR9XG5cblx0XHRpZiAoaXNTdmcpIHtcblx0XHRcdGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBub2RlVHlwZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZVR5cGUsIG5ld1Byb3BzLmlzICYmIG5ld1Byb3BzKTtcblx0XHR9XG5cblx0XHQvLyB3ZSBjcmVhdGVkIGEgbmV3IHBhcmVudCwgc28gbm9uZSBvZiB0aGUgcHJldmlvdXNseSBhdHRhY2hlZCBjaGlsZHJlbiBjYW4gYmUgcmV1c2VkOlxuXHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gbnVsbDtcblx0XHQvLyB3ZSBhcmUgY3JlYXRpbmcgYSBuZXcgbm9kZSwgc28gd2UgY2FuIGFzc3VtZSB0aGlzIGlzIGEgbmV3IHN1YnRyZWUgKGluXG5cdFx0Ly8gY2FzZSB3ZSBhcmUgaHlkcmF0aW5nKSwgdGhpcyBkZW9wdHMgdGhlIGh5ZHJhdGVcblx0XHRpc0h5ZHJhdGluZyA9IGZhbHNlO1xuXHR9XG5cblx0aWYgKG5vZGVUeXBlID09PSBudWxsKSB7XG5cdFx0Ly8gRHVyaW5nIGh5ZHJhdGlvbiwgd2Ugc3RpbGwgaGF2ZSB0byBzcGxpdCBtZXJnZWQgdGV4dCBmcm9tIFNTUidkIEhUTUwuXG5cdFx0aWYgKG9sZFByb3BzICE9PSBuZXdQcm9wcyAmJiAoIWlzSHlkcmF0aW5nIHx8IGRvbS5kYXRhICE9PSBuZXdQcm9wcykpIHtcblx0XHRcdGRvbS5kYXRhID0gbmV3UHJvcHM7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIElmIGV4Y2Vzc0RvbUNoaWxkcmVuIHdhcyBub3QgbnVsbCwgcmVwb3B1bGF0ZSBpdCB3aXRoIHRoZSBjdXJyZW50IGVsZW1lbnQncyBjaGlsZHJlbjpcblx0XHRleGNlc3NEb21DaGlsZHJlbiA9IGV4Y2Vzc0RvbUNoaWxkcmVuICYmIHNsaWNlLmNhbGwoZG9tLmNoaWxkTm9kZXMpO1xuXG5cdFx0b2xkUHJvcHMgPSBvbGRWTm9kZS5wcm9wcyB8fCBFTVBUWV9PQko7XG5cblx0XHQvLyBJZiB3ZSBhcmUgaW4gYSBzaXR1YXRpb24gd2hlcmUgd2UgYXJlIG5vdCBoeWRyYXRpbmcgYnV0IGFyZSB1c2luZ1xuXHRcdC8vIGV4aXN0aW5nIERPTSAoZS5nLiByZXBsYWNlTm9kZSkgd2Ugc2hvdWxkIHJlYWQgdGhlIGV4aXN0aW5nIERPTVxuXHRcdC8vIGF0dHJpYnV0ZXMgdG8gZGlmZiB0aGVtXG5cdFx0aWYgKCFpc0h5ZHJhdGluZyAmJiBleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0XHRvbGRQcm9wcyA9IHt9O1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGRvbS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhbHVlID0gZG9tLmF0dHJpYnV0ZXNbaV07XG5cdFx0XHRcdG9sZFByb3BzW3ZhbHVlLm5hbWVdID0gdmFsdWUudmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChpIGluIG9sZFByb3BzKSB7XG5cdFx0XHR2YWx1ZSA9IG9sZFByb3BzW2ldO1xuXHRcdFx0aWYgKGkgPT0gJ2NoaWxkcmVuJykge1xuXHRcdFx0fSBlbHNlIGlmIChpID09ICdkYW5nZXJvdXNseVNldElubmVySFRNTCcpIHtcblx0XHRcdFx0b2xkSHRtbCA9IHZhbHVlO1xuXHRcdFx0fSBlbHNlIGlmIChpICE9PSAna2V5JyAmJiAhKGkgaW4gbmV3UHJvcHMpKSB7XG5cdFx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgbnVsbCwgdmFsdWUsIGlzU3ZnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBEdXJpbmcgaHlkcmF0aW9uLCBwcm9wcyBhcmUgbm90IGRpZmZlZCBhdCBhbGwgKGluY2x1ZGluZyBkYW5nZXJvdXNseVNldElubmVySFRNTClcblx0XHQvLyBAVE9ETyB3ZSBzaG91bGQgd2FybiBpbiBkZWJ1ZyBtb2RlIHdoZW4gcHJvcHMgZG9uJ3QgbWF0Y2ggaGVyZS5cblx0XHRmb3IgKGkgaW4gbmV3UHJvcHMpIHtcblx0XHRcdHZhbHVlID0gbmV3UHJvcHNbaV07XG5cdFx0XHRpZiAoaSA9PSAnY2hpbGRyZW4nKSB7XG5cdFx0XHRcdG5ld0NoaWxkcmVuID0gdmFsdWU7XG5cdFx0XHR9IGVsc2UgaWYgKGkgPT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xuXHRcdFx0XHRuZXdIdG1sID0gdmFsdWU7XG5cdFx0XHR9IGVsc2UgaWYgKGkgPT0gJ3ZhbHVlJykge1xuXHRcdFx0XHRpbnB1dFZhbHVlID0gdmFsdWU7XG5cdFx0XHR9IGVsc2UgaWYgKGkgPT0gJ2NoZWNrZWQnKSB7XG5cdFx0XHRcdGNoZWNrZWQgPSB2YWx1ZTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdGkgIT09ICdrZXknICYmXG5cdFx0XHRcdCghaXNIeWRyYXRpbmcgfHwgdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpICYmXG5cdFx0XHRcdG9sZFByb3BzW2ldICE9PSB2YWx1ZVxuXHRcdFx0KSB7XG5cdFx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgdmFsdWUsIG9sZFByb3BzW2ldLCBpc1N2Zyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlIG5ldyB2bm9kZSBkaWRuJ3QgaGF2ZSBkYW5nZXJvdXNseVNldElubmVySFRNTCwgZGlmZiBpdHMgY2hpbGRyZW5cblx0XHRpZiAobmV3SHRtbCkge1xuXHRcdFx0Ly8gQXZvaWQgcmUtYXBwbHlpbmcgdGhlIHNhbWUgJ19faHRtbCcgaWYgaXQgZGlkIG5vdCBjaGFuZ2VkIGJldHdlZW4gcmUtcmVuZGVyXG5cdFx0XHRpZiAoXG5cdFx0XHRcdCFpc0h5ZHJhdGluZyAmJlxuXHRcdFx0XHQoIW9sZEh0bWwgfHxcblx0XHRcdFx0XHQobmV3SHRtbC5fX2h0bWwgIT09IG9sZEh0bWwuX19odG1sICYmXG5cdFx0XHRcdFx0XHRuZXdIdG1sLl9faHRtbCAhPT0gZG9tLmlubmVySFRNTCkpXG5cdFx0XHQpIHtcblx0XHRcdFx0ZG9tLmlubmVySFRNTCA9IG5ld0h0bWwuX19odG1sO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBbXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKG9sZEh0bWwpIGRvbS5pbm5lckhUTUwgPSAnJztcblxuXHRcdFx0ZGlmZkNoaWxkcmVuKFxuXHRcdFx0XHRkb20sXG5cdFx0XHRcdGlzQXJyYXkobmV3Q2hpbGRyZW4pID8gbmV3Q2hpbGRyZW4gOiBbbmV3Q2hpbGRyZW5dLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRcdGlzU3ZnICYmIG5vZGVUeXBlICE9PSAnZm9yZWlnbk9iamVjdCcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5cblx0XHRcdFx0XHQ/IGV4Y2Vzc0RvbUNoaWxkcmVuWzBdXG5cdFx0XHRcdFx0OiBvbGRWTm9kZS5fY2hpbGRyZW4gJiYgZ2V0RG9tU2libGluZyhvbGRWTm9kZSwgMCksXG5cdFx0XHRcdGlzSHlkcmF0aW5nLFxuXHRcdFx0XHRyZWZRdWV1ZVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gUmVtb3ZlIGNoaWxkcmVuIHRoYXQgYXJlIG5vdCBwYXJ0IG9mIGFueSB2bm9kZS5cblx0XHRcdGlmIChleGNlc3NEb21DaGlsZHJlbiAhPSBudWxsKSB7XG5cdFx0XHRcdGZvciAoaSA9IGV4Y2Vzc0RvbUNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0XHRcdFx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW5baV0gIT0gbnVsbCkgcmVtb3ZlTm9kZShleGNlc3NEb21DaGlsZHJlbltpXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBcyBhYm92ZSwgZG9uJ3QgZGlmZiBwcm9wcyBkdXJpbmcgaHlkcmF0aW9uXG5cdFx0aWYgKCFpc0h5ZHJhdGluZykge1xuXHRcdFx0aSA9ICd2YWx1ZSc7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdGlucHV0VmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHQvLyAjMjc1NiBGb3IgdGhlIDxwcm9ncmVzcz4tZWxlbWVudCB0aGUgaW5pdGlhbCB2YWx1ZSBpcyAwLFxuXHRcdFx0XHQvLyBkZXNwaXRlIHRoZSBhdHRyaWJ1dGUgbm90IGJlaW5nIHByZXNlbnQuIFdoZW4gdGhlIGF0dHJpYnV0ZVxuXHRcdFx0XHQvLyBpcyBtaXNzaW5nIHRoZSBwcm9ncmVzcyBiYXIgaXMgdHJlYXRlZCBhcyBpbmRldGVybWluYXRlLlxuXHRcdFx0XHQvLyBUbyBmaXggdGhhdCB3ZSdsbCBhbHdheXMgdXBkYXRlIGl0IHdoZW4gaXQgaXMgMCBmb3IgcHJvZ3Jlc3MgZWxlbWVudHNcblx0XHRcdFx0KGlucHV0VmFsdWUgIT09IGRvbVtpXSB8fFxuXHRcdFx0XHRcdChub2RlVHlwZSA9PT0gJ3Byb2dyZXNzJyAmJiAhaW5wdXRWYWx1ZSkgfHxcblx0XHRcdFx0XHQvLyBUaGlzIGlzIG9ubHkgZm9yIElFIDExIHRvIGZpeCA8c2VsZWN0PiB2YWx1ZSBub3QgYmVpbmcgdXBkYXRlZC5cblx0XHRcdFx0XHQvLyBUbyBhdm9pZCBhIHN0YWxlIHNlbGVjdCB2YWx1ZSB3ZSBuZWVkIHRvIHNldCB0aGUgb3B0aW9uLnZhbHVlXG5cdFx0XHRcdFx0Ly8gYWdhaW4sIHdoaWNoIHRyaWdnZXJzIElFMTEgdG8gcmUtZXZhbHVhdGUgdGhlIHNlbGVjdCB2YWx1ZVxuXHRcdFx0XHRcdChub2RlVHlwZSA9PT0gJ29wdGlvbicgJiYgaW5wdXRWYWx1ZSAhPT0gb2xkUHJvcHNbaV0pKVxuXHRcdFx0KSB7XG5cdFx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgaW5wdXRWYWx1ZSwgb2xkUHJvcHNbaV0sIGZhbHNlKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9ICdjaGVja2VkJztcblx0XHRcdGlmIChjaGVja2VkICE9PSB1bmRlZmluZWQgJiYgY2hlY2tlZCAhPT0gZG9tW2ldKSB7XG5cdFx0XHRcdHNldFByb3BlcnR5KGRvbSwgaSwgY2hlY2tlZCwgb2xkUHJvcHNbaV0sIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZG9tO1xufVxuXG4vKipcbiAqIEludm9rZSBvciB1cGRhdGUgYSByZWYsIGRlcGVuZGluZyBvbiB3aGV0aGVyIGl0IGlzIGEgZnVuY3Rpb24gb3Igb2JqZWN0IHJlZi5cbiAqIEBwYXJhbSB7UmVmPGFueT59IHJlZlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge1ZOb2RlfSB2bm9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlSZWYocmVmLCB2YWx1ZSwgdm5vZGUpIHtcblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIHJlZiA9PSAnZnVuY3Rpb24nKSByZWYodmFsdWUpO1xuXHRcdGVsc2UgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgdm5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogVW5tb3VudCBhIHZpcnR1YWwgbm9kZSBmcm9tIHRoZSB0cmVlIGFuZCBhcHBseSBET00gY2hhbmdlc1xuICogQHBhcmFtIHtWTm9kZX0gdm5vZGUgVGhlIHZpcnR1YWwgbm9kZSB0byB1bm1vdW50XG4gKiBAcGFyYW0ge1ZOb2RlfSBwYXJlbnRWTm9kZSBUaGUgcGFyZW50IG9mIHRoZSBWTm9kZSB0aGF0IGluaXRpYXRlZCB0aGUgdW5tb3VudFxuICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZV0gRmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IGEgcGFyZW50IG5vZGUgb2YgdGhlXG4gKiBjdXJyZW50IGVsZW1lbnQgaXMgYWxyZWFkeSBkZXRhY2hlZCBmcm9tIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bm1vdW50KHZub2RlLCBwYXJlbnRWTm9kZSwgc2tpcFJlbW92ZSkge1xuXHRsZXQgcjtcblx0aWYgKG9wdGlvbnMudW5tb3VudCkgb3B0aW9ucy51bm1vdW50KHZub2RlKTtcblxuXHRpZiAoKHIgPSB2bm9kZS5yZWYpKSB7XG5cdFx0aWYgKCFyLmN1cnJlbnQgfHwgci5jdXJyZW50ID09PSB2bm9kZS5fZG9tKSB7XG5cdFx0XHRhcHBseVJlZihyLCBudWxsLCBwYXJlbnRWTm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKChyID0gdm5vZGUuX2NvbXBvbmVudCkgIT0gbnVsbCkge1xuXHRcdGlmIChyLmNvbXBvbmVudFdpbGxVbm1vdW50KSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgcGFyZW50Vk5vZGUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHIuYmFzZSA9IHIuX3BhcmVudERvbSA9IG51bGw7XG5cdFx0dm5vZGUuX2NvbXBvbmVudCA9IHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmICgociA9IHZub2RlLl9jaGlsZHJlbikpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHIubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChyW2ldKSB7XG5cdFx0XHRcdHVubW91bnQoXG5cdFx0XHRcdFx0cltpXSxcblx0XHRcdFx0XHRwYXJlbnRWTm9kZSxcblx0XHRcdFx0XHRza2lwUmVtb3ZlIHx8IHR5cGVvZiB2bm9kZS50eXBlICE9PSAnZnVuY3Rpb24nXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFza2lwUmVtb3ZlICYmIHZub2RlLl9kb20gIT0gbnVsbCkge1xuXHRcdHJlbW92ZU5vZGUodm5vZGUuX2RvbSk7XG5cdH1cblxuXHQvLyBNdXN0IGJlIHNldCB0byBgdW5kZWZpbmVkYCB0byBwcm9wZXJseSBjbGVhbiB1cCBgX25leHREb21gXG5cdC8vIGZvciB3aGljaCBgbnVsbGAgaXMgYSB2YWxpZCB2YWx1ZS4gU2VlIGNvbW1lbnQgaW4gYGNyZWF0ZS1lbGVtZW50LmpzYFxuXHR2bm9kZS5fcGFyZW50ID0gdm5vZGUuX2RvbSA9IHZub2RlLl9uZXh0RG9tID0gdW5kZWZpbmVkO1xufVxuXG4vKiogVGhlIGAucmVuZGVyKClgIG1ldGhvZCBmb3IgYSBQRkMgYmFja2luZyBpbnN0YW5jZS4gKi9cbmZ1bmN0aW9uIGRvUmVuZGVyKHByb3BzLCBzdGF0ZSwgY29udGV4dCkge1xuXHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvcihwcm9wcywgY29udGV4dCk7XG59XG4iLCAiaW1wb3J0IHsgRU1QVFlfT0JKIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29tbWl0Um9vdCwgZGlmZiB9IGZyb20gJy4vZGlmZi9pbmRleCc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBGcmFnbWVudCB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHNsaWNlIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBSZW5kZXIgYSBQcmVhY3QgdmlydHVhbCBub2RlIGludG8gYSBET00gZWxlbWVudFxuICogQHBhcmFtIHtDb21wb25lbnRDaGlsZH0gdm5vZGUgVGhlIHZpcnR1YWwgbm9kZSB0byByZW5kZXJcbiAqIEBwYXJhbSB7UHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBET00gZWxlbWVudCB0byByZW5kZXIgaW50b1xuICogQHBhcmFtIHtQcmVhY3RFbGVtZW50IHwgb2JqZWN0fSBbcmVwbGFjZU5vZGVdIE9wdGlvbmFsOiBBdHRlbXB0IHRvIHJlLXVzZSBhblxuICogZXhpc3RpbmcgRE9NIHRyZWUgcm9vdGVkIGF0IGByZXBsYWNlTm9kZWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcih2bm9kZSwgcGFyZW50RG9tLCByZXBsYWNlTm9kZSkge1xuXHRpZiAob3B0aW9ucy5fcm9vdCkgb3B0aW9ucy5fcm9vdCh2bm9kZSwgcGFyZW50RG9tKTtcblxuXHQvLyBXZSBhYnVzZSB0aGUgYHJlcGxhY2VOb2RlYCBwYXJhbWV0ZXIgaW4gYGh5ZHJhdGUoKWAgdG8gc2lnbmFsIGlmIHdlIGFyZSBpblxuXHQvLyBoeWRyYXRpb24gbW9kZSBvciBub3QgYnkgcGFzc2luZyB0aGUgYGh5ZHJhdGVgIGZ1bmN0aW9uIGluc3RlYWQgb2YgYSBET01cblx0Ly8gZWxlbWVudC4uXG5cdGxldCBpc0h5ZHJhdGluZyA9IHR5cGVvZiByZXBsYWNlTm9kZSA9PSAnZnVuY3Rpb24nO1xuXG5cdC8vIFRvIGJlIGFibGUgdG8gc3VwcG9ydCBjYWxsaW5nIGByZW5kZXIoKWAgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWVcblx0Ly8gRE9NIG5vZGUsIHdlIG5lZWQgdG8gb2J0YWluIGEgcmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91cyB0cmVlLiBXZSBkb1xuXHQvLyB0aGlzIGJ5IGFzc2lnbmluZyBhIG5ldyBgX2NoaWxkcmVuYCBwcm9wZXJ0eSB0byBET00gbm9kZXMgd2hpY2ggcG9pbnRzXG5cdC8vIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHRyZWUuIEJ5IGRlZmF1bHQgdGhpcyBwcm9wZXJ0eSBpcyBub3QgcHJlc2VudCwgd2hpY2hcblx0Ly8gbWVhbnMgdGhhdCB3ZSBhcmUgbW91bnRpbmcgYSBuZXcgdHJlZSBmb3IgdGhlIGZpcnN0IHRpbWUuXG5cdGxldCBvbGRWTm9kZSA9IGlzSHlkcmF0aW5nXG5cdFx0PyBudWxsXG5cdFx0OiAocmVwbGFjZU5vZGUgJiYgcmVwbGFjZU5vZGUuX2NoaWxkcmVuKSB8fCBwYXJlbnREb20uX2NoaWxkcmVuO1xuXG5cdHZub2RlID0gKCghaXNIeWRyYXRpbmcgJiYgcmVwbGFjZU5vZGUpIHx8IHBhcmVudERvbSkuX2NoaWxkcmVuID1cblx0XHRjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBbdm5vZGVdKTtcblxuXHQvLyBMaXN0IG9mIGVmZmVjdHMgdGhhdCBuZWVkIHRvIGJlIGNhbGxlZCBhZnRlciBkaWZmaW5nLlxuXHRsZXQgY29tbWl0UXVldWUgPSBbXSxcblx0XHRyZWZRdWV1ZSA9IFtdO1xuXHRkaWZmKFxuXHRcdHBhcmVudERvbSxcblx0XHQvLyBEZXRlcm1pbmUgdGhlIG5ldyB2bm9kZSB0cmVlIGFuZCBzdG9yZSBpdCBvbiB0aGUgRE9NIGVsZW1lbnQgb25cblx0XHQvLyBvdXIgY3VzdG9tIGBfY2hpbGRyZW5gIHByb3BlcnR5LlxuXHRcdHZub2RlLFxuXHRcdG9sZFZOb2RlIHx8IEVNUFRZX09CSixcblx0XHRFTVBUWV9PQkosXG5cdFx0cGFyZW50RG9tLm93bmVyU1ZHRWxlbWVudCAhPT0gdW5kZWZpbmVkLFxuXHRcdCFpc0h5ZHJhdGluZyAmJiByZXBsYWNlTm9kZVxuXHRcdFx0PyBbcmVwbGFjZU5vZGVdXG5cdFx0XHQ6IG9sZFZOb2RlXG5cdFx0XHQ/IG51bGxcblx0XHRcdDogcGFyZW50RG9tLmZpcnN0Q2hpbGRcblx0XHRcdD8gc2xpY2UuY2FsbChwYXJlbnREb20uY2hpbGROb2Rlcylcblx0XHRcdDogbnVsbCxcblx0XHRjb21taXRRdWV1ZSxcblx0XHQhaXNIeWRyYXRpbmcgJiYgcmVwbGFjZU5vZGVcblx0XHRcdD8gcmVwbGFjZU5vZGVcblx0XHRcdDogb2xkVk5vZGVcblx0XHRcdD8gb2xkVk5vZGUuX2RvbVxuXHRcdFx0OiBwYXJlbnREb20uZmlyc3RDaGlsZCxcblx0XHRpc0h5ZHJhdGluZyxcblx0XHRyZWZRdWV1ZVxuXHQpO1xuXG5cdC8vIEZsdXNoIGFsbCBxdWV1ZWQgZWZmZWN0c1xuXHRjb21taXRSb290KGNvbW1pdFF1ZXVlLCB2bm9kZSwgcmVmUXVldWUpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBhbiBleGlzdGluZyBET00gZWxlbWVudCB3aXRoIGRhdGEgZnJvbSBhIFByZWFjdCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7Q29tcG9uZW50Q2hpbGR9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge1ByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgdG8gdXBkYXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoeWRyYXRlKHZub2RlLCBwYXJlbnREb20pIHtcblx0cmVuZGVyKHZub2RlLCBwYXJlbnREb20sIGh5ZHJhdGUpO1xufVxuIiwgImltcG9ydCB7IGFzc2lnbiwgc2xpY2UgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcblxuLyoqXG4gKiBDbG9uZXMgdGhlIGdpdmVuIFZOb2RlLCBvcHRpb25hbGx5IGFkZGluZyBhdHRyaWJ1dGVzL3Byb3BzIGFuZCByZXBsYWNpbmcgaXRzXG4gKiBjaGlsZHJlbi5cbiAqIEBwYXJhbSB7Vk5vZGV9IHZub2RlIFRoZSB2aXJ0dWFsIERPTSBlbGVtZW50IHRvIGNsb25lXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHMgQXR0cmlidXRlcy9wcm9wcyB0byBhZGQgd2hlbiBjbG9uaW5nXG4gKiBAcGFyYW0ge0FycmF5PENvbXBvbmVudENoaWxkcmVuPn0gcmVzdCBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSB1c2VkXG4gKiBhcyByZXBsYWNlbWVudCBjaGlsZHJlbi5cbiAqIEByZXR1cm5zIHtWTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRWxlbWVudCh2bm9kZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSBhc3NpZ24oe30sIHZub2RlLnByb3BzKSxcblx0XHRrZXksXG5cdFx0cmVmLFxuXHRcdGk7XG5cblx0bGV0IGRlZmF1bHRQcm9wcztcblxuXHRpZiAodm5vZGUudHlwZSAmJiB2bm9kZS50eXBlLmRlZmF1bHRQcm9wcykge1xuXHRcdGRlZmF1bHRQcm9wcyA9IHZub2RlLnR5cGUuZGVmYXVsdFByb3BzO1xuXHR9XG5cblx0Zm9yIChpIGluIHByb3BzKSB7XG5cdFx0aWYgKGkgPT0gJ2tleScpIGtleSA9IHByb3BzW2ldO1xuXHRcdGVsc2UgaWYgKGkgPT0gJ3JlZicpIHJlZiA9IHByb3BzW2ldO1xuXHRcdGVsc2UgaWYgKHByb3BzW2ldID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdFByb3BzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IGRlZmF1bHRQcm9wc1tpXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gcHJvcHNbaV07XG5cdFx0fVxuXHR9XG5cblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XG5cdFx0bm9ybWFsaXplZFByb3BzLmNoaWxkcmVuID1cblx0XHRcdGFyZ3VtZW50cy5sZW5ndGggPiAzID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpIDogY2hpbGRyZW47XG5cdH1cblxuXHRyZXR1cm4gY3JlYXRlVk5vZGUoXG5cdFx0dm5vZGUudHlwZSxcblx0XHRub3JtYWxpemVkUHJvcHMsXG5cdFx0a2V5IHx8IHZub2RlLmtleSxcblx0XHRyZWYgfHwgdm5vZGUucmVmLFxuXHRcdG51bGxcblx0KTtcbn1cbiIsICIvKipcbiAqIEZpbmQgdGhlIGNsb3Nlc3QgZXJyb3IgYm91bmRhcnkgdG8gYSB0aHJvd24gZXJyb3IgYW5kIGNhbGwgaXRcbiAqIEBwYXJhbSB7b2JqZWN0fSBlcnJvciBUaGUgdGhyb3duIHZhbHVlXG4gKiBAcGFyYW0ge1ZOb2RlfSB2bm9kZSBUaGUgdm5vZGUgdGhhdCB0aHJldyB0aGUgZXJyb3IgdGhhdCB3YXMgY2F1Z2h0IChleGNlcHRcbiAqIGZvciB1bm1vdW50aW5nIHdoZW4gdGhpcyBwYXJhbWV0ZXIgaXMgdGhlIGhpZ2hlc3QgcGFyZW50IHRoYXQgd2FzIGJlaW5nXG4gKiB1bm1vdW50ZWQpXG4gKiBAcGFyYW0ge1ZOb2RlfSBbb2xkVk5vZGVdXG4gKiBAcGFyYW0ge0Vycm9ySW5mb30gW2Vycm9ySW5mb11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jYXRjaEVycm9yKGVycm9yLCB2bm9kZSwgb2xkVk5vZGUsIGVycm9ySW5mbykge1xuXHQvKiogQHR5cGUge0NvbXBvbmVudH0gKi9cblx0bGV0IGNvbXBvbmVudCxcblx0XHQvKiogQHR5cGUge0NvbXBvbmVudFR5cGV9ICovXG5cdFx0Y3Rvcixcblx0XHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdFx0aGFuZGxlZDtcblxuXHRmb3IgKDsgKHZub2RlID0gdm5vZGUuX3BhcmVudCk7ICkge1xuXHRcdGlmICgoY29tcG9uZW50ID0gdm5vZGUuX2NvbXBvbmVudCkgJiYgIWNvbXBvbmVudC5fcHJvY2Vzc2luZ0V4Y2VwdGlvbikge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y3RvciA9IGNvbXBvbmVudC5jb25zdHJ1Y3RvcjtcblxuXHRcdFx0XHRpZiAoY3RvciAmJiBjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50LnNldFN0YXRlKGN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSk7XG5cdFx0XHRcdFx0aGFuZGxlZCA9IGNvbXBvbmVudC5fZGlydHk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoICE9IG51bGwpIHtcblx0XHRcdFx0XHRjb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGVycm9ySW5mbyB8fCB7fSk7XG5cdFx0XHRcdFx0aGFuZGxlZCA9IGNvbXBvbmVudC5fZGlydHk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUaGlzIGlzIGFuIGVycm9yIGJvdW5kYXJ5LiBNYXJrIGl0IGFzIGhhdmluZyBiYWlsZWQgb3V0LCBhbmQgd2hldGhlciBpdCB3YXMgbWlkLWh5ZHJhdGlvbi5cblx0XHRcdFx0aWYgKGhhbmRsZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gKGNvbXBvbmVudC5fcGVuZGluZ0Vycm9yID0gY29tcG9uZW50KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dGhyb3cgZXJyb3I7XG59XG4iLCAiaW1wb3J0IHR5cGUgSGVscE1hdGVQbHVnaW4gZnJvbSAnLi9tYWluJztcbmltcG9ydCB0eXBlIHsgSGVscE1hdGVTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHR5cGUgeyBIZWxwRm9yUGx1Z2luIH0gZnJvbSAnLi9yZXNvdXJjZXMnO1xuaW1wb3J0IHsgZ2V0UGx1Z2luSGVscExpc3QgfSBmcm9tICcuL3Jlc291cmNlcyc7XG5cbmV4cG9ydCBlbnVtIEJyb3dzZXJNb2RlIHtcbiAgd2ViVmlldyA9ICdXZWJWaWV3JyxcbiAgaUZyYW1lID0gJ0lGcmFtZScsXG59XG5cbi8qKlxuICogUHJvdmlkZSBhIHNpbXBsZSBBUEkgZm9yIHVzZSB3aXRoIFRlbXBsYXRlciwgRGF0YXZpZXcgYW5kIGRlYnVnZ2luZyB0aGUgY29tcGxleGl0aWVzIG9mIHZhcmlvdXMgcGFnZXMuXG4gKiBtYWluLnRzIHdpbGwgYXR0YWNoIHRoaXMgdG8gd2luZG93LmhlbHBNYXRlQVBJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlbHBNYXRlQVBJIHtcbiAgcHJpdmF0ZSBwbHVnaW46IEhlbHBNYXRlUGx1Z2luO1xuICBzZXR0aW5nczogSGVscE1hdGVTZXR0aW5ncztcbiAgZW5hYmxlRGVidWdnaW5nID0ge1xuICAgIHdlYlZpZXdCcm93c2VyOiBmYWxzZSxcbiAgICBpRnJhbWVCcm93c2VyOiB0cnVlLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHBsdWdpbjogSGVscE1hdGVQbHVnaW4pIHtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB0aGlzLnNldHRpbmdzID0gcGx1Z2luLnNldHRpbmdzO1xuICB9XG5cbiAgbG9nID0gKGxvZ0Rlc2NyaXB0aW9uOiBzdHJpbmcsIC4uLm91dHB1dHM6IHVua25vd25bXSk6IHZvaWQgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdIZWxwTWF0ZTogJyArIGxvZ0Rlc2NyaXB0aW9uLCBvdXRwdXRzKTtcbiAgfTtcblxuICBhY3RpdmF0ZVNpZGVQYW5lID0gYXN5bmMgKHVybD86IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHVybCA/IGF3YWl0IHRoaXMucGx1Z2luLmFjdGl2YXRlVmlldyh1cmwpIDogYXdhaXQgdGhpcy5wbHVnaW4uYWN0aXZhdGVWaWV3KCk7XG4gIH07XG5cbiAgZ2V0UGx1Z2luSGVscExpc3QgPSAoKTogSGVscEZvclBsdWdpbltdID0+IHtcbiAgICByZXR1cm4gZ2V0UGx1Z2luSGVscExpc3QodGhpcy5wbHVnaW4pO1xuICB9O1xufVxuIiwgImltcG9ydCB7IG9wdGlvbnMgfSBmcm9tICdwcmVhY3QnO1xuXG4vKiogQHR5cGUge251bWJlcn0gKi9cbmxldCBjdXJyZW50SW5kZXg7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xubGV0IGN1cnJlbnRDb21wb25lbnQ7XG5cbi8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fSAqL1xubGV0IHByZXZpb3VzQ29tcG9uZW50O1xuXG4vKiogQHR5cGUge251bWJlcn0gKi9cbmxldCBjdXJyZW50SG9vayA9IDA7XG5cbi8qKiBAdHlwZSB7QXJyYXk8aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Pn0gKi9cbmxldCBhZnRlclBhaW50RWZmZWN0cyA9IFtdO1xuXG5sZXQgRU1QVFkgPSBbXTtcblxubGV0IG9sZEJlZm9yZURpZmYgPSBvcHRpb25zLl9kaWZmO1xubGV0IG9sZEJlZm9yZVJlbmRlciA9IG9wdGlvbnMuX3JlbmRlcjtcbmxldCBvbGRBZnRlckRpZmYgPSBvcHRpb25zLmRpZmZlZDtcbmxldCBvbGRDb21taXQgPSBvcHRpb25zLl9jb21taXQ7XG5sZXQgb2xkQmVmb3JlVW5tb3VudCA9IG9wdGlvbnMudW5tb3VudDtcblxuY29uc3QgUkFGX1RJTUVPVVQgPSAxMDA7XG5sZXQgcHJldlJhZjtcblxub3B0aW9ucy5fZGlmZiA9IHZub2RlID0+IHtcblx0Y3VycmVudENvbXBvbmVudCA9IG51bGw7XG5cdGlmIChvbGRCZWZvcmVEaWZmKSBvbGRCZWZvcmVEaWZmKHZub2RlKTtcbn07XG5cbm9wdGlvbnMuX3JlbmRlciA9IHZub2RlID0+IHtcblx0aWYgKG9sZEJlZm9yZVJlbmRlcikgb2xkQmVmb3JlUmVuZGVyKHZub2RlKTtcblxuXHRjdXJyZW50Q29tcG9uZW50ID0gdm5vZGUuX2NvbXBvbmVudDtcblx0Y3VycmVudEluZGV4ID0gMDtcblxuXHRjb25zdCBob29rcyA9IGN1cnJlbnRDb21wb25lbnQuX19ob29rcztcblx0aWYgKGhvb2tzKSB7XG5cdFx0aWYgKHByZXZpb3VzQ29tcG9uZW50ID09PSBjdXJyZW50Q29tcG9uZW50KSB7XG5cdFx0XHRob29rcy5fcGVuZGluZ0VmZmVjdHMgPSBbXTtcblx0XHRcdGN1cnJlbnRDb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0aG9va3MuX2xpc3QuZm9yRWFjaChob29rSXRlbSA9PiB7XG5cdFx0XHRcdGlmIChob29rSXRlbS5fbmV4dFZhbHVlKSB7XG5cdFx0XHRcdFx0aG9va0l0ZW0uX3ZhbHVlID0gaG9va0l0ZW0uX25leHRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRob29rSXRlbS5fcGVuZGluZ1ZhbHVlID0gRU1QVFk7XG5cdFx0XHRcdGhvb2tJdGVtLl9uZXh0VmFsdWUgPSBob29rSXRlbS5fcGVuZGluZ0FyZ3MgPSB1bmRlZmluZWQ7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aG9va3MuX3BlbmRpbmdFZmZlY3RzLmZvckVhY2goaW52b2tlQ2xlYW51cCk7XG5cdFx0XHRob29rcy5fcGVuZGluZ0VmZmVjdHMuZm9yRWFjaChpbnZva2VFZmZlY3QpO1xuXHRcdFx0aG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0XHRjdXJyZW50SW5kZXggPSAwO1xuXHRcdH1cblx0fVxuXHRwcmV2aW91c0NvbXBvbmVudCA9IGN1cnJlbnRDb21wb25lbnQ7XG59O1xuXG5vcHRpb25zLmRpZmZlZCA9IHZub2RlID0+IHtcblx0aWYgKG9sZEFmdGVyRGlmZikgb2xkQWZ0ZXJEaWZmKHZub2RlKTtcblxuXHRjb25zdCBjID0gdm5vZGUuX2NvbXBvbmVudDtcblx0aWYgKGMgJiYgYy5fX2hvb2tzKSB7XG5cdFx0aWYgKGMuX19ob29rcy5fcGVuZGluZ0VmZmVjdHMubGVuZ3RoKSBhZnRlclBhaW50KGFmdGVyUGFpbnRFZmZlY3RzLnB1c2goYykpO1xuXHRcdGMuX19ob29rcy5fbGlzdC5mb3JFYWNoKGhvb2tJdGVtID0+IHtcblx0XHRcdGlmIChob29rSXRlbS5fcGVuZGluZ0FyZ3MpIHtcblx0XHRcdFx0aG9va0l0ZW0uX2FyZ3MgPSBob29rSXRlbS5fcGVuZGluZ0FyZ3M7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaG9va0l0ZW0uX3BlbmRpbmdWYWx1ZSAhPT0gRU1QVFkpIHtcblx0XHRcdFx0aG9va0l0ZW0uX3ZhbHVlID0gaG9va0l0ZW0uX3BlbmRpbmdWYWx1ZTtcblx0XHRcdH1cblx0XHRcdGhvb2tJdGVtLl9wZW5kaW5nQXJncyA9IHVuZGVmaW5lZDtcblx0XHRcdGhvb2tJdGVtLl9wZW5kaW5nVmFsdWUgPSBFTVBUWTtcblx0XHR9KTtcblx0fVxuXHRwcmV2aW91c0NvbXBvbmVudCA9IGN1cnJlbnRDb21wb25lbnQgPSBudWxsO1xufTtcblxub3B0aW9ucy5fY29tbWl0ID0gKHZub2RlLCBjb21taXRRdWV1ZSkgPT4ge1xuXHRjb21taXRRdWV1ZS5zb21lKGNvbXBvbmVudCA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLmZvckVhY2goaW52b2tlQ2xlYW51cCk7XG5cdFx0XHRjb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcyA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLmZpbHRlcihjYiA9PlxuXHRcdFx0XHRjYi5fdmFsdWUgPyBpbnZva2VFZmZlY3QoY2IpIDogdHJ1ZVxuXHRcdFx0KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb21taXRRdWV1ZS5zb21lKGMgPT4ge1xuXHRcdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzKSBjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdH0pO1xuXHRcdFx0Y29tbWl0UXVldWUgPSBbXTtcblx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgY29tcG9uZW50Ll92bm9kZSk7XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAob2xkQ29tbWl0KSBvbGRDb21taXQodm5vZGUsIGNvbW1pdFF1ZXVlKTtcbn07XG5cbm9wdGlvbnMudW5tb3VudCA9IHZub2RlID0+IHtcblx0aWYgKG9sZEJlZm9yZVVubW91bnQpIG9sZEJlZm9yZVVubW91bnQodm5vZGUpO1xuXG5cdGNvbnN0IGMgPSB2bm9kZS5fY29tcG9uZW50O1xuXHRpZiAoYyAmJiBjLl9faG9va3MpIHtcblx0XHRsZXQgaGFzRXJyb3JlZDtcblx0XHRjLl9faG9va3MuX2xpc3QuZm9yRWFjaChzID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGludm9rZUNsZWFudXAocyk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGhhc0Vycm9yZWQgPSBlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGMuX19ob29rcyA9IHVuZGVmaW5lZDtcblx0XHRpZiAoaGFzRXJyb3JlZCkgb3B0aW9ucy5fY2F0Y2hFcnJvcihoYXNFcnJvcmVkLCBjLl92bm9kZSk7XG5cdH1cbn07XG5cbi8qKlxuICogR2V0IGEgaG9vaydzIHN0YXRlIGZyb20gdGhlIGN1cnJlbnRDb21wb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGhvb2sgdG8gZ2V0XG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZSBUaGUgaW5kZXggb2YgdGhlIGhvb2sgdG8gZ2V0XG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBnZXRIb29rU3RhdGUoaW5kZXgsIHR5cGUpIHtcblx0aWYgKG9wdGlvbnMuX2hvb2spIHtcblx0XHRvcHRpb25zLl9ob29rKGN1cnJlbnRDb21wb25lbnQsIGluZGV4LCBjdXJyZW50SG9vayB8fCB0eXBlKTtcblx0fVxuXHRjdXJyZW50SG9vayA9IDA7XG5cblx0Ly8gTGFyZ2VseSBpbnNwaXJlZCBieTpcblx0Ly8gKiBodHRwczovL2dpdGh1Yi5jb20vbWljaGFlbC1rbGVpbi9mdW5jeS5qcy9ibG9iL2Y2YmU3MzQ2OGU2ZWM0NmIwZmY1YWEzY2M0YzliYWY3MmEyOTAyNWEvc3JjL2hvb2tzL2NvcmVfaG9va3MubWpzXG5cdC8vICogaHR0cHM6Ly9naXRodWIuY29tL21pY2hhZWwta2xlaW4vZnVuY3kuanMvYmxvYi82NTBiZWFhNThjNDNjMzNhNzQ4MjBhM2M5OGIzYzcwNzljZjJlMzMzL3NyYy9yZW5kZXJlci5tanNcblx0Ly8gT3RoZXIgaW1wbGVtZW50YXRpb25zIHRvIGxvb2sgYXQ6XG5cdC8vICogaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL21ub3gwNXFwOFxuXHRjb25zdCBob29rcyA9XG5cdFx0Y3VycmVudENvbXBvbmVudC5fX2hvb2tzIHx8XG5cdFx0KGN1cnJlbnRDb21wb25lbnQuX19ob29rcyA9IHtcblx0XHRcdF9saXN0OiBbXSxcblx0XHRcdF9wZW5kaW5nRWZmZWN0czogW11cblx0XHR9KTtcblxuXHRpZiAoaW5kZXggPj0gaG9va3MuX2xpc3QubGVuZ3RoKSB7XG5cdFx0aG9va3MuX2xpc3QucHVzaCh7IF9wZW5kaW5nVmFsdWU6IEVNUFRZIH0pO1xuXHR9XG5cdHJldHVybiBob29rcy5fbGlzdFtpbmRleF07XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW5kZXgnKS5TdGF0ZVVwZGF0ZXI8YW55Pn0gW2luaXRpYWxTdGF0ZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0YXRlKGluaXRpYWxTdGF0ZSkge1xuXHRjdXJyZW50SG9vayA9IDE7XG5cdHJldHVybiB1c2VSZWR1Y2VyKGludm9rZU9yUmV0dXJuLCBpbml0aWFsU3RhdGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuUmVkdWNlcjxhbnksIGFueT59IHJlZHVjZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuU3RhdGVVcGRhdGVyPGFueT59IGluaXRpYWxTdGF0ZVxuICogQHBhcmFtIHsoaW5pdGlhbFN0YXRlOiBhbnkpID0+IHZvaWR9IFtpbml0XVxuICogQHJldHVybnMge1sgYW55LCAoc3RhdGU6IGFueSkgPT4gdm9pZCBdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGluaXQpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5SZWR1Y2VySG9va1N0YXRlfSAqL1xuXHRjb25zdCBob29rU3RhdGUgPSBnZXRIb29rU3RhdGUoY3VycmVudEluZGV4KyssIDIpO1xuXHRob29rU3RhdGUuX3JlZHVjZXIgPSByZWR1Y2VyO1xuXHRpZiAoIWhvb2tTdGF0ZS5fY29tcG9uZW50KSB7XG5cdFx0aG9va1N0YXRlLl92YWx1ZSA9IFtcblx0XHRcdCFpbml0ID8gaW52b2tlT3JSZXR1cm4odW5kZWZpbmVkLCBpbml0aWFsU3RhdGUpIDogaW5pdChpbml0aWFsU3RhdGUpLFxuXG5cdFx0XHRhY3Rpb24gPT4ge1xuXHRcdFx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBob29rU3RhdGUuX25leHRWYWx1ZVxuXHRcdFx0XHRcdD8gaG9va1N0YXRlLl9uZXh0VmFsdWVbMF1cblx0XHRcdFx0XHQ6IGhvb2tTdGF0ZS5fdmFsdWVbMF07XG5cdFx0XHRcdGNvbnN0IG5leHRWYWx1ZSA9IGhvb2tTdGF0ZS5fcmVkdWNlcihjdXJyZW50VmFsdWUsIGFjdGlvbik7XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XG5cdFx0XHRcdFx0aG9va1N0YXRlLl9uZXh0VmFsdWUgPSBbbmV4dFZhbHVlLCBob29rU3RhdGUuX3ZhbHVlWzFdXTtcblx0XHRcdFx0XHRob29rU3RhdGUuX2NvbXBvbmVudC5zZXRTdGF0ZSh7fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRdO1xuXG5cdFx0aG9va1N0YXRlLl9jb21wb25lbnQgPSBjdXJyZW50Q29tcG9uZW50O1xuXG5cdFx0aWYgKCFjdXJyZW50Q29tcG9uZW50Ll9oYXNTY3VGcm9tSG9va3MpIHtcblx0XHRcdGN1cnJlbnRDb21wb25lbnQuX2hhc1NjdUZyb21Ib29rcyA9IHRydWU7XG5cdFx0XHRsZXQgcHJldlNjdSA9IGN1cnJlbnRDb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlO1xuXHRcdFx0Y29uc3QgcHJldkNXVSA9IGN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZTtcblxuXHRcdFx0Ly8gSWYgd2UncmUgZGVhbGluZyB3aXRoIGEgZm9yY2VkIHVwZGF0ZSBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCB3aWxsXG5cdFx0XHQvLyBub3QgYmUgY2FsbGVkLiBCdXQgd2UgdXNlIHRoYXQgdG8gdXBkYXRlIHRoZSBob29rIHZhbHVlcywgc28gd2Vcblx0XHRcdC8vIG5lZWQgdG8gY2FsbCBpdC5cblx0XHRcdGN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIChwLCBzLCBjKSB7XG5cdFx0XHRcdGlmICh0aGlzLl9mb3JjZSkge1xuXHRcdFx0XHRcdGxldCB0bXAgPSBwcmV2U2N1O1xuXHRcdFx0XHRcdC8vIENsZWFyIHRvIGF2b2lkIG90aGVyIHNDVSBob29rcyBmcm9tIGJlaW5nIGNhbGxlZFxuXHRcdFx0XHRcdHByZXZTY3UgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0dXBkYXRlSG9va1N0YXRlKHAsIHMsIGMpO1xuXHRcdFx0XHRcdHByZXZTY3UgPSB0bXA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAocHJldkNXVSkgcHJldkNXVS5jYWxsKHRoaXMsIHAsIHMsIGMpO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gVGhpcyBTQ1UgaGFzIHRoZSBwdXJwb3NlIG9mIGJhaWxpbmcgb3V0IGFmdGVyIHJlcGVhdGVkIHVwZGF0ZXNcblx0XHRcdC8vIHRvIHN0YXRlZnVsIGhvb2tzLlxuXHRcdFx0Ly8gd2Ugc3RvcmUgdGhlIG5leHQgdmFsdWUgaW4gX25leHRWYWx1ZVswXSBhbmQga2VlcCBkb2luZyB0aGF0IGZvciBhbGxcblx0XHRcdC8vIHN0YXRlIHNldHRlcnMsIGlmIHdlIGhhdmUgbmV4dCBzdGF0ZXMgYW5kXG5cdFx0XHQvLyBhbGwgbmV4dCBzdGF0ZXMgd2l0aGluIGEgY29tcG9uZW50IGVuZCB1cCBiZWluZyBlcXVhbCB0byB0aGVpciBvcmlnaW5hbCBzdGF0ZVxuXHRcdFx0Ly8gd2UgYXJlIHNhZmUgdG8gYmFpbCBvdXQgZm9yIHRoaXMgc3BlY2lmaWMgY29tcG9uZW50LlxuXHRcdFx0LyoqXG5cdFx0XHQgKlxuXHRcdFx0ICogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudFtcInNob3VsZENvbXBvbmVudFVwZGF0ZVwiXX1cblx0XHRcdCAqL1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSAtIFdlIGRvbid0IHVzZSBUUyB0byBkb3dudHJhbnNwaWxlXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW5uZXItZGVjbGFyYXRpb25zXG5cdFx0XHRmdW5jdGlvbiB1cGRhdGVIb29rU3RhdGUocCwgcywgYykge1xuXHRcdFx0XHRpZiAoIWhvb2tTdGF0ZS5fY29tcG9uZW50Ll9faG9va3MpIHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdGNvbnN0IHN0YXRlSG9va3MgPSBob29rU3RhdGUuX2NvbXBvbmVudC5fX2hvb2tzLl9saXN0LmZpbHRlcihcblx0XHRcdFx0XHR4ID0+IHguX2NvbXBvbmVudFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjb25zdCBhbGxIb29rc0VtcHR5ID0gc3RhdGVIb29rcy5ldmVyeSh4ID0+ICF4Ll9uZXh0VmFsdWUpO1xuXHRcdFx0XHQvLyBXaGVuIHdlIGhhdmUgbm8gdXBkYXRlZCBob29rcyBpbiB0aGUgY29tcG9uZW50IHdlIGludm9rZSB0aGUgcHJldmlvdXMgU0NVIG9yXG5cdFx0XHRcdC8vIHRyYXZlcnNlIHRoZSBWRE9NIHRyZWUgZnVydGhlci5cblx0XHRcdFx0aWYgKGFsbEhvb2tzRW1wdHkpIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJldlNjdSA/IHByZXZTY3UuY2FsbCh0aGlzLCBwLCBzLCBjKSA6IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSBjaGVjayB3aGV0aGVyIHdlIGhhdmUgY29tcG9uZW50cyB3aXRoIGEgbmV4dFZhbHVlIHNldCB0aGF0XG5cdFx0XHRcdC8vIGhhdmUgdmFsdWVzIHRoYXQgYXJlbid0IGVxdWFsIHRvIG9uZSBhbm90aGVyIHRoaXMgcHVzaGVzXG5cdFx0XHRcdC8vIHVzIHRvIHVwZGF0ZSBmdXJ0aGVyIGRvd24gdGhlIHRyZWVcblx0XHRcdFx0bGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuXHRcdFx0XHRzdGF0ZUhvb2tzLmZvckVhY2goaG9va0l0ZW0gPT4ge1xuXHRcdFx0XHRcdGlmIChob29rSXRlbS5fbmV4dFZhbHVlKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBob29rSXRlbS5fdmFsdWVbMF07XG5cdFx0XHRcdFx0XHRob29rSXRlbS5fdmFsdWUgPSBob29rSXRlbS5fbmV4dFZhbHVlO1xuXHRcdFx0XHRcdFx0aG9va0l0ZW0uX25leHRWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgIT09IGhvb2tJdGVtLl92YWx1ZVswXSkgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiBzaG91bGRVcGRhdGUgfHwgaG9va1N0YXRlLl9jb21wb25lbnQucHJvcHMgIT09IHBcblx0XHRcdFx0XHQ/IHByZXZTY3Vcblx0XHRcdFx0XHRcdD8gcHJldlNjdS5jYWxsKHRoaXMsIHAsIHMsIGMpXG5cdFx0XHRcdFx0XHQ6IHRydWVcblx0XHRcdFx0XHQ6IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50Q29tcG9uZW50LnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHVwZGF0ZUhvb2tTdGF0ZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gaG9va1N0YXRlLl9uZXh0VmFsdWUgfHwgaG9va1N0YXRlLl92YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkVmZmVjdH0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUVmZmVjdChjYWxsYmFjaywgYXJncykge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkVmZmVjdEhvb2tTdGF0ZX0gKi9cblx0Y29uc3Qgc3RhdGUgPSBnZXRIb29rU3RhdGUoY3VycmVudEluZGV4KyssIDMpO1xuXHRpZiAoIW9wdGlvbnMuX3NraXBFZmZlY3RzICYmIGFyZ3NDaGFuZ2VkKHN0YXRlLl9hcmdzLCBhcmdzKSkge1xuXHRcdHN0YXRlLl92YWx1ZSA9IGNhbGxiYWNrO1xuXHRcdHN0YXRlLl9wZW5kaW5nQXJncyA9IGFyZ3M7XG5cblx0XHRjdXJyZW50Q29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzLnB1c2goc3RhdGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3R9IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VMYXlvdXRFZmZlY3QoY2FsbGJhY2ssIGFyZ3MpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3RIb29rU3RhdGV9ICovXG5cdGNvbnN0IHN0YXRlID0gZ2V0SG9va1N0YXRlKGN1cnJlbnRJbmRleCsrLCA0KTtcblx0aWYgKCFvcHRpb25zLl9za2lwRWZmZWN0cyAmJiBhcmdzQ2hhbmdlZChzdGF0ZS5fYXJncywgYXJncykpIHtcblx0XHRzdGF0ZS5fdmFsdWUgPSBjYWxsYmFjaztcblx0XHRzdGF0ZS5fcGVuZGluZ0FyZ3MgPSBhcmdzO1xuXG5cdFx0Y3VycmVudENvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goc3RhdGUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWYoaW5pdGlhbFZhbHVlKSB7XG5cdGN1cnJlbnRIb29rID0gNTtcblx0cmV0dXJuIHVzZU1lbW8oKCkgPT4gKHsgY3VycmVudDogaW5pdGlhbFZhbHVlIH0pLCBbXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHJlZlxuICogQHBhcmFtIHsoKSA9PiBvYmplY3R9IGNyZWF0ZUhhbmRsZVxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZUhhbmRsZSwgYXJncykge1xuXHRjdXJyZW50SG9vayA9IDY7XG5cdHVzZUxheW91dEVmZmVjdChcblx0XHQoKSA9PiB7XG5cdFx0XHRpZiAodHlwZW9mIHJlZiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHJlZihjcmVhdGVIYW5kbGUoKSk7XG5cdFx0XHRcdHJldHVybiAoKSA9PiByZWYobnVsbCk7XG5cdFx0XHR9IGVsc2UgaWYgKHJlZikge1xuXHRcdFx0XHRyZWYuY3VycmVudCA9IGNyZWF0ZUhhbmRsZSgpO1xuXHRcdFx0XHRyZXR1cm4gKCkgPT4gKHJlZi5jdXJyZW50ID0gbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcmdzID09IG51bGwgPyBhcmdzIDogYXJncy5jb25jYXQocmVmKVxuXHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmYWN0b3J5XG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZW1vKGZhY3RvcnksIGFyZ3MpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5NZW1vSG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgNyk7XG5cdGlmIChhcmdzQ2hhbmdlZChzdGF0ZS5fYXJncywgYXJncykpIHtcblx0XHRzdGF0ZS5fcGVuZGluZ1ZhbHVlID0gZmFjdG9yeSgpO1xuXHRcdHN0YXRlLl9wZW5kaW5nQXJncyA9IGFyZ3M7XG5cdFx0c3RhdGUuX2ZhY3RvcnkgPSBmYWN0b3J5O1xuXHRcdHJldHVybiBzdGF0ZS5fcGVuZGluZ1ZhbHVlO1xuXHR9XG5cblx0cmV0dXJuIHN0YXRlLl92YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDYWxsYmFjayhjYWxsYmFjaywgYXJncykge1xuXHRjdXJyZW50SG9vayA9IDg7XG5cdHJldHVybiB1c2VNZW1vKCgpID0+IGNhbGxiYWNrLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdENvbnRleHR9IGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRleHQoY29udGV4dCkge1xuXHRjb25zdCBwcm92aWRlciA9IGN1cnJlbnRDb21wb25lbnQuY29udGV4dFtjb250ZXh0Ll9pZF07XG5cdC8vIFdlIGNvdWxkIHNraXAgdGhpcyBjYWxsIGhlcmUsIGJ1dCB0aGFuIHdlJ2Qgbm90IGNhbGxcblx0Ly8gYG9wdGlvbnMuX2hvb2tgLiBXZSBuZWVkIHRvIGRvIHRoYXQgaW4gb3JkZXIgdG8gbWFrZVxuXHQvLyB0aGUgZGV2dG9vbHMgYXdhcmUgb2YgdGhpcyBob29rLlxuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbnRleHRIb29rU3RhdGV9ICovXG5cdGNvbnN0IHN0YXRlID0gZ2V0SG9va1N0YXRlKGN1cnJlbnRJbmRleCsrLCA5KTtcblx0Ly8gVGhlIGRldnRvb2xzIG5lZWRzIGFjY2VzcyB0byB0aGUgY29udGV4dCBvYmplY3QgdG9cblx0Ly8gYmUgYWJsZSB0byBwdWxsIG9mIHRoZSBkZWZhdWx0IHZhbHVlIHdoZW4gbm8gcHJvdmlkZXJcblx0Ly8gaXMgcHJlc2VudCBpbiB0aGUgdHJlZS5cblx0c3RhdGUuX2NvbnRleHQgPSBjb250ZXh0O1xuXHRpZiAoIXByb3ZpZGVyKSByZXR1cm4gY29udGV4dC5fZGVmYXVsdFZhbHVlO1xuXHQvLyBUaGlzIGlzIHByb2JhYmx5IG5vdCBzYWZlIHRvIGNvbnZlcnQgdG8gXCIhXCJcblx0aWYgKHN0YXRlLl92YWx1ZSA9PSBudWxsKSB7XG5cdFx0c3RhdGUuX3ZhbHVlID0gdHJ1ZTtcblx0XHRwcm92aWRlci5zdWIoY3VycmVudENvbXBvbmVudCk7XG5cdH1cblx0cmV0dXJuIHByb3ZpZGVyLnByb3BzLnZhbHVlO1xufVxuXG4vKipcbiAqIERpc3BsYXkgYSBjdXN0b20gbGFiZWwgZm9yIGEgY3VzdG9tIGhvb2sgZm9yIHRoZSBkZXZ0b29scyBwYW5lbFxuICogQHR5cGUgezxUPih2YWx1ZTogVCwgY2I/OiAodmFsdWU6IFQpID0+IHN0cmluZyB8IG51bWJlcikgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlcikge1xuXHRpZiAob3B0aW9ucy51c2VEZWJ1Z1ZhbHVlKSB7XG5cdFx0b3B0aW9ucy51c2VEZWJ1Z1ZhbHVlKGZvcm1hdHRlciA/IGZvcm1hdHRlcih2YWx1ZSkgOiB2YWx1ZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyhlcnJvcjogYW55LCBlcnJvckluZm86IGltcG9ydCgncHJlYWN0JykuRXJyb3JJbmZvKSA9PiB2b2lkfSBjYlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRXJyb3JCb3VuZGFyeShjYikge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkVycm9yQm91bmRhcnlIb29rU3RhdGV9ICovXG5cdGNvbnN0IHN0YXRlID0gZ2V0SG9va1N0YXRlKGN1cnJlbnRJbmRleCsrLCAxMCk7XG5cdGNvbnN0IGVyclN0YXRlID0gdXNlU3RhdGUoKTtcblx0c3RhdGUuX3ZhbHVlID0gY2I7XG5cdGlmICghY3VycmVudENvbXBvbmVudC5jb21wb25lbnREaWRDYXRjaCkge1xuXHRcdGN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2ggPSAoZXJyLCBlcnJvckluZm8pID0+IHtcblx0XHRcdGlmIChzdGF0ZS5fdmFsdWUpIHN0YXRlLl92YWx1ZShlcnIsIGVycm9ySW5mbyk7XG5cdFx0XHRlcnJTdGF0ZVsxXShlcnIpO1xuXHRcdH07XG5cdH1cblx0cmV0dXJuIFtcblx0XHRlcnJTdGF0ZVswXSxcblx0XHQoKSA9PiB7XG5cdFx0XHRlcnJTdGF0ZVsxXSh1bmRlZmluZWQpO1xuXHRcdH1cblx0XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUlkKCkge1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgMTEpO1xuXHRpZiAoIXN0YXRlLl92YWx1ZSkge1xuXHRcdC8vIEdyYWIgZWl0aGVyIHRoZSByb290IG5vZGUgb3IgdGhlIG5lYXJlc3QgYXN5bmMgYm91bmRhcnkgbm9kZS5cblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbC5kJykuVk5vZGV9ICovXG5cdFx0bGV0IHJvb3QgPSBjdXJyZW50Q29tcG9uZW50Ll92bm9kZTtcblx0XHR3aGlsZSAocm9vdCAhPT0gbnVsbCAmJiAhcm9vdC5fbWFzayAmJiByb290Ll9wYXJlbnQgIT09IG51bGwpIHtcblx0XHRcdHJvb3QgPSByb290Ll9wYXJlbnQ7XG5cdFx0fVxuXG5cdFx0bGV0IG1hc2sgPSByb290Ll9tYXNrIHx8IChyb290Ll9tYXNrID0gWzAsIDBdKTtcblx0XHRzdGF0ZS5fdmFsdWUgPSAnUCcgKyBtYXNrWzBdICsgJy0nICsgbWFza1sxXSsrO1xuXHR9XG5cblx0cmV0dXJuIHN0YXRlLl92YWx1ZTtcbn1cbi8qKlxuICogQWZ0ZXIgcGFpbnQgZWZmZWN0cyBjb25zdW1lci5cbiAqL1xuZnVuY3Rpb24gZmx1c2hBZnRlclBhaW50RWZmZWN0cygpIHtcblx0bGV0IGNvbXBvbmVudDtcblx0d2hpbGUgKChjb21wb25lbnQgPSBhZnRlclBhaW50RWZmZWN0cy5zaGlmdCgpKSkge1xuXHRcdGlmICghY29tcG9uZW50Ll9wYXJlbnREb20gfHwgIWNvbXBvbmVudC5fX2hvb2tzKSBjb250aW51ZTtcblx0XHR0cnkge1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzLmZvckVhY2goaW52b2tlQ2xlYW51cCk7XG5cdFx0XHRjb21wb25lbnQuX19ob29rcy5fcGVuZGluZ0VmZmVjdHMuZm9yRWFjaChpbnZva2VFZmZlY3QpO1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIGNvbXBvbmVudC5fdm5vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5sZXQgSEFTX1JBRiA9IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT0gJ2Z1bmN0aW9uJztcblxuLyoqXG4gKiBTY2hlZHVsZSBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgYWZ0ZXIgdGhlIGJyb3dzZXIgaGFzIGEgY2hhbmNlIHRvIHBhaW50IGEgbmV3IGZyYW1lLlxuICogRG8gdGhpcyBieSBjb21iaW5pbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIChyQUYpICsgc2V0VGltZW91dCB0byBpbnZva2UgYSBjYWxsYmFjayBhZnRlclxuICogdGhlIG5leHQgYnJvd3NlciBmcmFtZS5cbiAqXG4gKiBBbHNvLCBzY2hlZHVsZSBhIHRpbWVvdXQgaW4gcGFyYWxsZWwgdG8gdGhlIHRoZSByQUYgdG8gZW5zdXJlIHRoZSBjYWxsYmFjayBpcyBpbnZva2VkXG4gKiBldmVuIGlmIFJBRiBkb2Vzbid0IGZpcmUgKGZvciBleGFtcGxlIGlmIHRoZSBicm93c2VyIHRhYiBpcyBub3QgdmlzaWJsZSlcbiAqXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGNhbGxiYWNrXG4gKi9cbmZ1bmN0aW9uIGFmdGVyTmV4dEZyYW1lKGNhbGxiYWNrKSB7XG5cdGNvbnN0IGRvbmUgPSAoKSA9PiB7XG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdGlmIChIQVNfUkFGKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuXHRcdHNldFRpbWVvdXQoY2FsbGJhY2spO1xuXHR9O1xuXHRjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dChkb25lLCBSQUZfVElNRU9VVCk7XG5cblx0bGV0IHJhZjtcblx0aWYgKEhBU19SQUYpIHtcblx0XHRyYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZG9uZSk7XG5cdH1cbn1cblxuLy8gTm90ZTogaWYgc29tZW9uZSB1c2VkIG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsXG4vLyB0aGVuIGVmZmVjdHMgd2lsbCBBTFdBWVMgcnVuIG9uIHRoZSBORVhUIGZyYW1lIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgb25lLCBpbmN1cnJpbmcgYSB+MTZtcyBkZWxheS5cbi8vIFBlcmhhcHMgdGhpcyBpcyBub3Qgc3VjaCBhIGJpZyBkZWFsLlxuLyoqXG4gKiBTY2hlZHVsZSBhZnRlclBhaW50RWZmZWN0cyBmbHVzaCBhZnRlciB0aGUgYnJvd3NlciBwYWludHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdRdWV1ZUxlbmd0aFxuICovXG5mdW5jdGlvbiBhZnRlclBhaW50KG5ld1F1ZXVlTGVuZ3RoKSB7XG5cdGlmIChuZXdRdWV1ZUxlbmd0aCA9PT0gMSB8fCBwcmV2UmFmICE9PSBvcHRpb25zLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuXHRcdHByZXZSYWYgPSBvcHRpb25zLnJlcXVlc3RBbmltYXRpb25GcmFtZTtcblx0XHQocHJldlJhZiB8fCBhZnRlck5leHRGcmFtZSkoZmx1c2hBZnRlclBhaW50RWZmZWN0cyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkVmZmVjdEhvb2tTdGF0ZX0gaG9va1xuICovXG5mdW5jdGlvbiBpbnZva2VDbGVhbnVwKGhvb2spIHtcblx0Ly8gQSBob29rIGNsZWFudXAgY2FuIGludHJvZHVjZSBhIGNhbGwgdG8gcmVuZGVyIHdoaWNoIGNyZWF0ZXMgYSBuZXcgcm9vdCwgdGhpcyB3aWxsIGNhbGwgb3B0aW9ucy52bm9kZVxuXHQvLyBhbmQgbW92ZSB0aGUgY3VycmVudENvbXBvbmVudCBhd2F5LlxuXHRjb25zdCBjb21wID0gY3VycmVudENvbXBvbmVudDtcblx0bGV0IGNsZWFudXAgPSBob29rLl9jbGVhbnVwO1xuXHRpZiAodHlwZW9mIGNsZWFudXAgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdGhvb2suX2NsZWFudXAgPSB1bmRlZmluZWQ7XG5cdFx0Y2xlYW51cCgpO1xuXHR9XG5cblx0Y3VycmVudENvbXBvbmVudCA9IGNvbXA7XG59XG5cbi8qKlxuICogSW52b2tlIGEgSG9vaydzIGVmZmVjdFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3RIb29rU3RhdGV9IGhvb2tcbiAqL1xuZnVuY3Rpb24gaW52b2tlRWZmZWN0KGhvb2spIHtcblx0Ly8gQSBob29rIGNhbGwgY2FuIGludHJvZHVjZSBhIGNhbGwgdG8gcmVuZGVyIHdoaWNoIGNyZWF0ZXMgYSBuZXcgcm9vdCwgdGhpcyB3aWxsIGNhbGwgb3B0aW9ucy52bm9kZVxuXHQvLyBhbmQgbW92ZSB0aGUgY3VycmVudENvbXBvbmVudCBhd2F5LlxuXHRjb25zdCBjb21wID0gY3VycmVudENvbXBvbmVudDtcblx0aG9vay5fY2xlYW51cCA9IGhvb2suX3ZhbHVlKCk7XG5cdGN1cnJlbnRDb21wb25lbnQgPSBjb21wO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55W119IG9sZEFyZ3NcbiAqIEBwYXJhbSB7YW55W119IG5ld0FyZ3NcbiAqL1xuZnVuY3Rpb24gYXJnc0NoYW5nZWQob2xkQXJncywgbmV3QXJncykge1xuXHRyZXR1cm4gKFxuXHRcdCFvbGRBcmdzIHx8XG5cdFx0b2xkQXJncy5sZW5ndGggIT09IG5ld0FyZ3MubGVuZ3RoIHx8XG5cdFx0bmV3QXJncy5zb21lKChhcmcsIGluZGV4KSA9PiBhcmcgIT09IG9sZEFyZ3NbaW5kZXhdKVxuXHQpO1xufVxuXG5mdW5jdGlvbiBpbnZva2VPclJldHVybihhcmcsIGYpIHtcblx0cmV0dXJuIHR5cGVvZiBmID09ICdmdW5jdGlvbicgPyBmKGFyZykgOiBmO1xufVxuIiwgImNvbnN0IEVOQ09ERURfRU5USVRJRVMgPSAvW1wiJjxdLztcblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzdHIgKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVFbnRpdGllcyhzdHIpIHtcblx0Ly8gU2tpcCBhbGwgd29yayBmb3Igc3RyaW5ncyB3aXRoIG5vIGVudGl0aWVzIG5lZWRpbmcgZW5jb2Rpbmc6XG5cdGlmIChzdHIubGVuZ3RoID09PSAwIHx8IEVOQ09ERURfRU5USVRJRVMudGVzdChzdHIpID09PSBmYWxzZSkgcmV0dXJuIHN0cjtcblxuXHRsZXQgbGFzdCA9IDAsXG5cdFx0aSA9IDAsXG5cdFx0b3V0ID0gJycsXG5cdFx0Y2ggPSAnJztcblxuXHQvLyBTZWVrIGZvcndhcmQgaW4gc3RyIHVudGlsIHRoZSBuZXh0IGVudGl0eSBjaGFyOlxuXHRmb3IgKDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuXHRcdHN3aXRjaCAoc3RyLmNoYXJDb2RlQXQoaSkpIHtcblx0XHRcdGNhc2UgMzQ6XG5cdFx0XHRcdGNoID0gJyZxdW90Oyc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAzODpcblx0XHRcdFx0Y2ggPSAnJmFtcDsnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgNjA6XG5cdFx0XHRcdGNoID0gJyZsdDsnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHQvLyBBcHBlbmQgc2tpcHBlZC9idWZmZXJlZCBjaGFyYWN0ZXJzIGFuZCB0aGUgZW5jb2RlZCBlbnRpdHk6XG5cdFx0aWYgKGkgIT09IGxhc3QpIG91dCArPSBzdHIuc2xpY2UobGFzdCwgaSk7XG5cdFx0b3V0ICs9IGNoO1xuXHRcdC8vIFN0YXJ0IHRoZSBuZXh0IHNlZWsvYnVmZmVyIGFmdGVyIHRoZSBlbnRpdHkncyBvZmZzZXQ6XG5cdFx0bGFzdCA9IGkgKyAxO1xuXHR9XG5cdGlmIChpICE9PSBsYXN0KSBvdXQgKz0gc3RyLnNsaWNlKGxhc3QsIGkpO1xuXHRyZXR1cm4gb3V0O1xufVxuIiwgIi8qKiBOb3JtYWwgaHlkcmF0aW9uIHRoYXQgYXR0YWNoZXMgdG8gYSBET00gdHJlZSBidXQgZG9lcyBub3QgZGlmZiBpdC4gKi9cbmV4cG9ydCBjb25zdCBNT0RFX0hZRFJBVEUgPSAxIDw8IDU7XG4vKiogU2lnbmlmaWVzIHRoaXMgVk5vZGUgc3VzcGVuZGVkIG9uIHRoZSBwcmV2aW91cyByZW5kZXIgKi9cbmV4cG9ydCBjb25zdCBNT0RFX1NVU1BFTkRFRCA9IDEgPDwgNztcbi8qKiBJbmRpY2F0ZXMgdGhhdCB0aGlzIG5vZGUgbmVlZHMgdG8gYmUgaW5zZXJ0ZWQgd2hpbGUgcGF0Y2hpbmcgY2hpbGRyZW4gKi9cbmV4cG9ydCBjb25zdCBJTlNFUlRfVk5PREUgPSAxIDw8IDE2O1xuLyoqIEluZGljYXRlcyBhIFZOb2RlIGhhcyBiZWVuIG1hdGNoZWQgd2l0aCBhbm90aGVyIFZOb2RlIGluIHRoZSBkaWZmICovXG5leHBvcnQgY29uc3QgTUFUQ0hFRCA9IDEgPDwgMTc7XG5cbi8qKiBSZXNldCBhbGwgbW9kZSBmbGFncyAqL1xuZXhwb3J0IGNvbnN0IFJFU0VUX01PREUgPSB+KE1PREVfSFlEUkFURSB8IE1PREVfU1VTUEVOREVEKTtcblxuZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IC8qKiBAdHlwZSB7YW55fSAqLyAoe30pO1xuZXhwb3J0IGNvbnN0IEVNUFRZX0FSUiA9IFtdO1xuZXhwb3J0IGNvbnN0IElTX05PTl9ESU1FTlNJT05BTCA9XG5cdC9hY2l0fGV4KD86c3xnfG58cHwkKXxycGh8Z3JpZHxvd3N8bW5jfG50d3xpbmVbY2hdfHpvb3xeb3JkfGl0ZXJhL2k7XG4iLCAiaW1wb3J0IHsgb3B0aW9ucywgRnJhZ21lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgZW5jb2RlRW50aXRpZXMgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IElTX05PTl9ESU1FTlNJT05BTCB9IGZyb20gJy4uLy4uL3NyYy9jb25zdGFudHMnO1xuXG5sZXQgdm5vZGVJZCA9IDA7XG5cbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIFRoaXMgZmlsZSBleHBvcnRzIHZhcmlvdXMgbWV0aG9kcyB0aGF0IGltcGxlbWVudCBCYWJlbCdzIFwiYXV0b21hdGljXCIgSlNYIHJ1bnRpbWUgQVBJOlxuICogLSBqc3godHlwZSwgcHJvcHMsIGtleSlcbiAqIC0ganN4cyh0eXBlLCBwcm9wcywga2V5KVxuICogLSBqc3hERVYodHlwZSwgcHJvcHMsIGtleSwgX19zb3VyY2UsIF9fc2VsZilcbiAqXG4gKiBUaGUgaW1wbGVtZW50YXRpb24gb2YgY3JlYXRlVk5vZGUgaGVyZSBpcyBvcHRpbWl6ZWQgZm9yIHBlcmZvcm1hbmNlLlxuICogQmVuY2htYXJrczogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81ZjZiNTRhMGI0NjMyMTAwYTdkY2QyYjNcbiAqL1xuXG4vKipcbiAqIEpTWC5FbGVtZW50IGZhY3RvcnkgdXNlZCBieSBCYWJlbCdzIHtydW50aW1lOlwiYXV0b21hdGljXCJ9IEpTWCB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7Vk5vZGVbJ3R5cGUnXX0gdHlwZVxuICogQHBhcmFtIHtWTm9kZVsncHJvcHMnXX0gcHJvcHNcbiAqIEBwYXJhbSB7Vk5vZGVbJ2tleSddfSBba2V5XVxuICogQHBhcmFtIHt1bmtub3dufSBbaXNTdGF0aWNDaGlsZHJlbl1cbiAqIEBwYXJhbSB7dW5rbm93bn0gW19fc291cmNlXVxuICogQHBhcmFtIHt1bmtub3dufSBbX19zZWxmXVxuICovXG5mdW5jdGlvbiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wcywga2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBfX3NvdXJjZSwgX19zZWxmKSB7XG5cdC8vIFdlJ2xsIHdhbnQgdG8gcHJlc2VydmUgYHJlZmAgaW4gcHJvcHMgdG8gZ2V0IHJpZCBvZiB0aGUgbmVlZCBmb3Jcblx0Ly8gZm9yd2FyZFJlZiBjb21wb25lbnRzIGluIHRoZSBmdXR1cmUsIGJ1dCB0aGF0IHNob3VsZCBoYXBwZW4gdmlhXG5cdC8vIGEgc2VwYXJhdGUgUFIuXG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSB7fSxcblx0XHRyZWYsXG5cdFx0aTtcblx0Zm9yIChpIGluIHByb3BzKSB7XG5cdFx0aWYgKGkgPT0gJ3JlZicpIHtcblx0XHRcdHJlZiA9IHByb3BzW2ldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRub3JtYWxpemVkUHJvcHNbaV0gPSBwcm9wc1tpXTtcblx0XHR9XG5cdH1cblxuXHQvKiogQHR5cGUge1ZOb2RlICYgeyBfX3NvdXJjZTogYW55OyBfX3NlbGY6IGFueSB9fSAqL1xuXHRjb25zdCB2bm9kZSA9IHtcblx0XHR0eXBlLFxuXHRcdHByb3BzOiBub3JtYWxpemVkUHJvcHMsXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRfY2hpbGRyZW46IG51bGwsXG5cdFx0X3BhcmVudDogbnVsbCxcblx0XHRfZGVwdGg6IDAsXG5cdFx0X2RvbTogbnVsbCxcblx0XHRfbmV4dERvbTogdW5kZWZpbmVkLFxuXHRcdF9jb21wb25lbnQ6IG51bGwsXG5cdFx0Y29uc3RydWN0b3I6IHVuZGVmaW5lZCxcblx0XHRfb3JpZ2luYWw6IC0tdm5vZGVJZCxcblx0XHRfaW5kZXg6IC0xLFxuXHRcdF9mbGFnczogMCxcblx0XHRfX3NvdXJjZSxcblx0XHRfX3NlbGZcblx0fTtcblxuXHQvLyBJZiBhIENvbXBvbmVudCBWTm9kZSwgY2hlY2sgZm9yIGFuZCBhcHBseSBkZWZhdWx0UHJvcHMuXG5cdC8vIE5vdGU6IGB0eXBlYCBpcyBvZnRlbiBhIFN0cmluZywgYW5kIGNhbiBiZSBgdW5kZWZpbmVkYCBpbiBkZXZlbG9wbWVudC5cblx0aWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmIChyZWYgPSB0eXBlLmRlZmF1bHRQcm9wcykpIHtcblx0XHRmb3IgKGkgaW4gcmVmKVxuXHRcdFx0aWYgKHR5cGVvZiBub3JtYWxpemVkUHJvcHNbaV0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHJlZltpXTtcblx0XHRcdH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnZub2RlKSBvcHRpb25zLnZub2RlKHZub2RlKTtcblx0cmV0dXJuIHZub2RlO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIHRlbXBsYXRlIHZub2RlLiBUaGlzIGZ1bmN0aW9uIGlzIG5vdCBleHBlY3RlZCB0byBiZVxuICogdXNlZCBkaXJlY3RseSwgYnV0IHJhdGhlciB0aHJvdWdoIGEgcHJlY29tcGlsZSBKU1ggdHJhbnNmb3JtXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSB0ZW1wbGF0ZXNcbiAqIEBwYXJhbSAge0FycmF5PHN0cmluZyB8IG51bGwgfCBWTm9kZT59IGV4cHJzXG4gKiBAcmV0dXJucyB7Vk5vZGV9XG4gKi9cbmZ1bmN0aW9uIGpzeFRlbXBsYXRlKHRlbXBsYXRlcywgLi4uZXhwcnMpIHtcblx0Y29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShGcmFnbWVudCwgeyB0cGw6IHRlbXBsYXRlcywgZXhwcnMgfSk7XG5cdC8vIEJ5cGFzcyByZW5kZXIgdG8gc3RyaW5nIHRvcCBsZXZlbCBGcmFnbWVudCBvcHRpbWl6YXRpb25cblx0dm5vZGUua2V5ID0gdm5vZGUuX3Zub2RlO1xuXHRyZXR1cm4gdm5vZGU7XG59XG5cbmNvbnN0IEpTX1RPX0NTUyA9IHt9O1xuY29uc3QgQ1NTX1JFR0VYID0gL1tBLVpdL2c7XG5cbi8qKlxuICogU2VyaWFsaXplIGFuIEhUTUwgYXR0cmlidXRlIHRvIGEgc3RyaW5nLiBUaGlzIGZ1bmN0aW9uIGlzIG5vdFxuICogZXhwZWN0ZWQgdG8gYmUgdXNlZCBkaXJlY3RseSwgYnV0IHJhdGhlciB0aHJvdWdoIGEgcHJlY29tcGlsZVxuICogSlNYIHRyYW5zZm9ybVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGF0dHJpYnV0ZSBuYW1lXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBhdHRyaWJ1dGUgdmFsdWVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGpzeEF0dHIobmFtZSwgdmFsdWUpIHtcblx0aWYgKG9wdGlvbnMuYXR0cikge1xuXHRcdGNvbnN0IHJlc3VsdCA9IG9wdGlvbnMuYXR0cihuYW1lLCB2YWx1ZSk7XG5cdFx0aWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSByZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0aWYgKG5hbWUgPT09ICdyZWYnIHx8IG5hbWUgPT09ICdrZXknKSByZXR1cm4gJyc7XG5cdGlmIChuYW1lID09PSAnc3R5bGUnICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcblx0XHRsZXQgc3RyID0gJyc7XG5cdFx0Zm9yIChsZXQgcHJvcCBpbiB2YWx1ZSkge1xuXHRcdFx0bGV0IHZhbCA9IHZhbHVlW3Byb3BdO1xuXHRcdFx0aWYgKHZhbCAhPSBudWxsICYmIHZhbCAhPT0gJycpIHtcblx0XHRcdFx0Y29uc3QgbmFtZSA9XG5cdFx0XHRcdFx0cHJvcFswXSA9PSAnLSdcblx0XHRcdFx0XHRcdD8gcHJvcFxuXHRcdFx0XHRcdFx0OiBKU19UT19DU1NbcHJvcF0gfHxcblx0XHRcdFx0XHRcdCAgKEpTX1RPX0NTU1twcm9wXSA9IHByb3AucmVwbGFjZShDU1NfUkVHRVgsICctJCYnKS50b0xvd2VyQ2FzZSgpKTtcblxuXHRcdFx0XHRsZXQgc3VmZml4ID0gJzsnO1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0dHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiZcblx0XHRcdFx0XHQvLyBFeGNsdWRlIGN1c3RvbS1hdHRyaWJ1dGVzXG5cdFx0XHRcdFx0IW5hbWUuc3RhcnRzV2l0aCgnLS0nKSAmJlxuXHRcdFx0XHRcdCFJU19OT05fRElNRU5TSU9OQUwudGVzdChuYW1lKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRzdWZmaXggPSAncHg7Jztcblx0XHRcdFx0fVxuXHRcdFx0XHRzdHIgPSBzdHIgKyBuYW1lICsgJzonICsgdmFsICsgc3VmZml4O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbmFtZSArICc9XCInICsgc3RyICsgJ1wiJztcblx0fVxuXG5cdGlmIChcblx0XHR2YWx1ZSA9PSBudWxsIHx8XG5cdFx0dmFsdWUgPT09IGZhbHNlIHx8XG5cdFx0dHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nIHx8XG5cdFx0dHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xuXHQpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH0gZWxzZSBpZiAodmFsdWUgPT09IHRydWUpIHJldHVybiBuYW1lO1xuXG5cdHJldHVybiBuYW1lICsgJz1cIicgKyBlbmNvZGVFbnRpdGllcyh2YWx1ZSkgKyAnXCInO1xufVxuXG4vKipcbiAqIEVzY2FwZSBhIGR5bmFtaWMgY2hpbGQgcGFzc2VkIHRvIGBqc3hUZW1wbGF0ZWAuIFRoaXMgZnVuY3Rpb25cbiAqIGlzIG5vdCBleHBlY3RlZCB0byBiZSB1c2VkIGRpcmVjdGx5LCBidXQgcmF0aGVyIHRocm91Z2ggYVxuICogcHJlY29tcGlsZSBKU1ggdHJhbnNmb3JtXG4gKiBAcGFyYW0geyp9IHZhbHVlXG4gKiBAcmV0dXJucyB7c3RyaW5nIHwgbnVsbCB8IFZOb2RlIHwgQXJyYXk8c3RyaW5nIHwgbnVsbCB8IFZOb2RlPn1cbiAqL1xuZnVuY3Rpb24ganN4RXNjYXBlKHZhbHVlKSB7XG5cdGlmIChcblx0XHR2YWx1ZSA9PSBudWxsIHx8XG5cdFx0dHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfHxcblx0XHR0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcblx0KSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuXHRcdC8vIENoZWNrIGZvciBWTm9kZVxuXHRcdGlmICh2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdmFsdWU7XG5cblx0XHRpZiAoaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0dmFsdWVbaV0gPSBqc3hFc2NhcGUodmFsdWVbaV0pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbmNvZGVFbnRpdGllcygnJyArIHZhbHVlKTtcbn1cblxuZXhwb3J0IHtcblx0Y3JlYXRlVk5vZGUgYXMganN4LFxuXHRjcmVhdGVWTm9kZSBhcyBqc3hzLFxuXHRjcmVhdGVWTm9kZSBhcyBqc3hERVYsXG5cdEZyYWdtZW50LFxuXHQvLyBwcmVjb21waWxlZCBKU1ggdHJhbnNmb3JtXG5cdGpzeFRlbXBsYXRlLFxuXHRqc3hBdHRyLFxuXHRqc3hFc2NhcGVcbn07XG4iLCAiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHR5cGUgSGVscE1hdGVQbHVnaW4gZnJvbSAnc3JjL21haW4nO1xuaW1wb3J0IHR5cGUgeyBIZWxwRm9yUGx1Z2luIH0gZnJvbSAnc3JjL3Jlc291cmNlcyc7XG5pbXBvcnQgeyBnZXRQbHVnaW5IZWxwTGlzdCB9IGZyb20gJ3NyYy9yZXNvdXJjZXMnO1xuXG5pbnRlcmZhY2UgSGVscFNvdXJjZUJ1dHRvblByb3BzIHtcbiAgc2V0U2VsZWN0ZWRVcmw6ICh1cmw6IHN0cmluZykgPT4gdm9pZDtcbiAgcGx1Z2luOiBIZWxwTWF0ZVBsdWdpbjtcbn1cblxuY29uc3QgSGVscFNvdXJjZUJ1dHRvbjogRnVuY3Rpb25Db21wb25lbnQ8SGVscFNvdXJjZUJ1dHRvblByb3BzPiA9ICh7XG4gIHNldFNlbGVjdGVkVXJsLFxuICBwbHVnaW4sXG59KSA9PiB7XG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IG1lbnVSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBoZWxwVXJsczogSGVscEZvclBsdWdpbltdID0gZ2V0UGx1Z2luSGVscExpc3QocGx1Z2luKTtcblxuICBjb25zdCBoYW5kbGVCdXR0b25DbGljayA9ICgpID0+IHtcbiAgICBzZXRJc09wZW4oIWlzT3Blbik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlT3B0aW9uQ2xpY2sgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWRVcmwoaGVscFVybHNbaW5kZXhdLnVybCk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChtZW51UmVmLmN1cnJlbnQgJiYgIW1lbnVSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImhtLXNvdXJjZS1idXR0b25cIiByZWY9e21lbnVSZWZ9PlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVCdXR0b25DbGlja30gY2xhc3M9XCJobS12aWV3LWJyb3dzZXItdG9vbGJhci1idXR0b25cIj5cbiAgICAgICAgPHN2Z1xuICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgIHdpZHRoPVwiMjRcIlxuICAgICAgICAgIGhlaWdodD1cIjI0XCJcbiAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgY2xhc3M9XCJsdWNpZGUgbHVjaWRlLWJvb2ttYXJrLWNoZWNrXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxwYXRoIGQ9XCJtMTkgMjEtNy00LTcgNFY1YTIgMiAwIDAgMSAyLTJoMTBhMiAyIDAgMCAxIDIgMlpcIiAvPlxuICAgICAgICAgIDxwYXRoIGQ9XCJtOSAxMCAyIDIgNC00XCIgLz5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIHtpc09wZW4gJiYgKFxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiaG0tc291cmNlLWJ1dHRvbi1kcm9wZG93bi1tZW51IGhtLWJ1dHRvbi1kcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAge2hlbHBVcmxzLm1hcCgodXJsLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVPcHRpb25DbGljayhpbmRleCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzPVwiaG0tc291cmNlLWJ1dHRvbi1saXN0LWl0ZW1cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dXJsLm5hbWV9XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3VsPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEhlbHBTb3VyY2VCdXR0b247XG4iLCAiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHR5cGUgSGVscE1hdGVQbHVnaW4gZnJvbSAnc3JjL21haW4nO1xuXG5pbnRlcmZhY2UgSGVscE1vcmVCdXR0b25Qcm9wcyB7XG4gIGN1cnJlbnRVcmw6IHN0cmluZztcbiAgcGx1Z2luOiBIZWxwTWF0ZVBsdWdpbjtcbn1cblxuY29uc3QgSGVscE1vcmVCdXR0b246IEZ1bmN0aW9uQ29tcG9uZW50PEhlbHBNb3JlQnV0dG9uUHJvcHM+ID0gKHtcbiAgY3VycmVudFVybCxcbiAgcGx1Z2luLFxufSkgPT4ge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBtZW51UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgY29tbWFuZHMgPSBbXG4gICAge1xuICAgICAgbmFtZTogJ09wZW4gc2l0ZSBpbiBicm93c2VyJyxcbiAgICAgIGluZGV4OiAwLFxuICAgICAgY29tbWFuZDogKCkgPT4ge1xuICAgICAgICB3aW5kb3cub3BlbihjdXJyZW50VXJsKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnQ29kZSBibG9jayBmcm9tIHNpdGUnLFxuICAgICAgaW5kZXg6IDEsXG4gICAgICBjb21tYW5kOiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0ZpbGUgPVxuICAgICAgICAgICdgYGBoZWxwbWF0ZVxcbnVybDogJyArXG4gICAgICAgICAgY3VycmVudFVybCArXG4gICAgICAgICAgJ1xcbmhlaWdodDogODAwcHhcXG50b29sYmFyOiBmYWxzZVxcbmBgYFxcblxcblxcbic7XG4gICAgICAgIGNvbnN0IHJhbmRvbUludCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxMDAwMCAtIDEwMDAgKyAxKSkgKyAxMDA7XG4gICAgICAgIGNvbnN0IGZpbGVOYW1lID0gYGNvZGVibG9jayAke3JhbmRvbUludH0ubWRgO1xuICAgICAgICBhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShmaWxlTmFtZSwgbmV3RmlsZSkudGhlbihhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgIGF3YWl0IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYWYoKS5vcGVuRmlsZShmaWxlKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1BsdWdpbiBzZXR0aW5ncycsXG4gICAgICBpbmRleDogMixcbiAgICAgIGNvbW1hbmQ6ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBwbHVnaW4uYXBwLnNldHRpbmc7XG4gICAgICAgIHNldHRpbmdzLm9wZW4oKTtcbiAgICAgICAgc2V0dGluZ3Mub3BlblRhYkJ5SWQocGx1Z2luLkFQUF9JRCk7XG4gICAgICB9LFxuICAgIH0sXG4gIF07XG5cbiAgY29uc3QgaGFuZGxlT3B0aW9uQ2xpY2sgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIHNldElzT3BlbihmYWxzZSk7XG4gICAgY29tbWFuZHNbaW5kZXhdLmNvbW1hbmQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVCdXR0b25DbGljayA9ICgpID0+IHtcbiAgICBzZXRJc09wZW4oIWlzT3Blbik7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChtZW51UmVmLmN1cnJlbnQgJiYgIW1lbnVSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImhtLW1vcmUtYnV0dG9uXCIgcmVmPXttZW51UmVmfT5cbiAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQnV0dG9uQ2xpY2t9IGNsYXNzPVwiaG0tdmlldy1icm93c2VyLXRvb2xiYXItYnV0dG9uXCI+XG4gICAgICAgIDxzdmdcbiAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICB3aWR0aD1cIjI0XCJcbiAgICAgICAgICBoZWlnaHQ9XCIyNFwiXG4gICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMlwiXG4gICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgIGNsYXNzPVwibHVjaWRlIGx1Y2lkZS1jb2dcIlxuICAgICAgICA+XG4gICAgICAgICAgPHBhdGggZD1cIk0xMiAyMGE4IDggMCAxIDAgMC0xNiA4IDggMCAwIDAgMCAxNlpcIiAvPlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMTIgMTRhMiAyIDAgMSAwIDAtNCAyIDIgMCAwIDAgMCA0WlwiIC8+XG4gICAgICAgICAgPHBhdGggZD1cIk0xMiAydjJcIiAvPlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMTIgMjJ2LTJcIiAvPlxuICAgICAgICAgIDxwYXRoIGQ9XCJtMTcgMjAuNjYtMS0xLjczXCIgLz5cbiAgICAgICAgICA8cGF0aCBkPVwiTTExIDEwLjI3IDcgMy4zNFwiIC8+XG4gICAgICAgICAgPHBhdGggZD1cIm0yMC42NiAxNy0xLjczLTFcIiAvPlxuICAgICAgICAgIDxwYXRoIGQ9XCJtMy4zNCA3IDEuNzMgMVwiIC8+XG4gICAgICAgICAgPHBhdGggZD1cIk0xNCAxMmg4XCIgLz5cbiAgICAgICAgICA8cGF0aCBkPVwiTTIgMTJoMlwiIC8+XG4gICAgICAgICAgPHBhdGggZD1cIm0yMC42NiA3LTEuNzMgMVwiIC8+XG4gICAgICAgICAgPHBhdGggZD1cIm0zLjM0IDE3IDEuNzMtMVwiIC8+XG4gICAgICAgICAgPHBhdGggZD1cIm0xNyAzLjM0LTEgMS43M1wiIC8+XG4gICAgICAgICAgPHBhdGggZD1cIm0xMSAxMy43My00IDYuOTNcIiAvPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAge2lzT3BlbiAmJiAoXG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJobS1tb3JlLWJ1dHRvbi1kcm9wZG93bi1tZW51IGhtLWJ1dHRvbi1kcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAge2NvbW1hbmRzLm1hcCgoY29tbWFuZCkgPT4gKFxuICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgIGtleT17Y29tbWFuZC5pbmRleH1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZU9wdGlvbkNsaWNrKGNvbW1hbmQuaW5kZXgpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBjbGFzcz1cImhtLXNvdXJjZS1idXR0b24tbGlzdC1pdGVtXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NvbW1hbmQubmFtZX1cbiAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgKSl9XG4gICAgICAgIDwvdWw+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSGVscE1vcmVCdXR0b247XG4iLCAiLy8gVGhpcyBjb21wb25lbnQgaXMgdXNlZCB0byByZW5kZXIgYSB3ZWJ2aWV3IGJyb3dzZXIgaW4gdGhlIFVJLiBJdCBvbmx5IHdvcmtzIG9uXG4vLyBkZXNrdG9wIHBsYXRmb3JtcywgYXMgV2ViVmlldyBjb21wb25lbnQgaXMgc3BlY2lmaWMgdG8gRWxlY3Ryb24uXG4vLyBGb3IgbW9iaWxlIGJyb3dzZXIsIHNlZSB0aGUgZmlsZSBJRnJhbWVCcm93c2VyLnRzeFxuXG5pbXBvcnQgdHlwZSBIZWxwTWF0ZVBsdWdpbiBmcm9tICdzcmMvbWFpbic7XG5pbXBvcnQgdHlwZSBIZWxwTWF0ZUFQSSBmcm9tICdzcmMvSGVscE1hdGVBUEknO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCBIZWxwU291cmNlQnV0dG9uIGZyb20gJy4uL3NpZGVwYW5lL0hlbHBTb3VyY2VCdXR0b24nO1xuaW1wb3J0IEhlbHBNb3JlQnV0dG9uIGZyb20gJy4uL3NpZGVwYW5lL0hlbHBNb3JlQnV0dG9uJztcbmltcG9ydCB7IGlzVmFsaWRVcmwgfSBmcm9tICdzcmMvcmVzb3VyY2VzJztcbmltcG9ydCB7IE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcblxuaW50ZXJmYWNlIFdlYlZpZXdCcm93c2VyUHJvcHMge1xuICB1cmxBZGRyZXNzOiBzdHJpbmc7XG4gIHBsdWdpbjogSGVscE1hdGVQbHVnaW47XG4gIHNob3dUb29sYmFyPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEhUTUxXZWJWaWV3RWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgZ2V0VVJMOiAoKSA9PiBzdHJpbmc7XG4gIGdvQmFjazogKCkgPT4gdm9pZDtcbiAgZ29Gb3J3YXJkOiAoKSA9PiB2b2lkO1xuICByZWxvYWQ6ICgpID0+IHZvaWQ7XG4gIHVybDogc3RyaW5nO1xuICBsb2FkVVJMOiAodXJsOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmNvbnN0IGljb25IZWlnaHQgPSAxODtcblxuY29uc3QgV2ViVmlld0Jyb3dzZXIgPSAoe1xuICB1cmxBZGRyZXNzLFxuICBwbHVnaW4sXG4gIHNob3dUb29sYmFyID0gdHJ1ZSxcbn06IFdlYlZpZXdCcm93c2VyUHJvcHMpID0+IHtcbiAgY29uc3QgW3VybCwgc2V0VXJsXSA9IHVzZVN0YXRlPHN0cmluZz4odXJsQWRkcmVzcyB8fCAnJyk7XG4gIGNvbnN0IGFwaTogSGVscE1hdGVBUEkgPSBwbHVnaW4uSEVMUE1BVEVfQVBJO1xuICBjb25zdCBkZWJ1ZyA9IGFwaS5lbmFibGVEZWJ1Z2dpbmcud2ViVmlld0Jyb3dzZXI7XG4gIGNvbnN0IHdlYnZpZXdSZWYgPSB1c2VSZWY8SFRNTFdlYlZpZXdFbGVtZW50PihudWxsKTtcblxuICBjb25zdCBleGVjdXRlV2ViVmlld01ldGhvZCA9IChtZXRob2Q6IGtleW9mIEhUTUxXZWJWaWV3RWxlbWVudCwgbG9nTWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHdlYnZpZXdSZWYuY3VycmVudCkge1xuICAgICAgZGVidWcgJiYgYXBpLmxvZyhgV2ViVmlld0Jyb3dzZXI6ICR7bG9nTWVzc2FnZX1gLCB3ZWJ2aWV3UmVmLmN1cnJlbnQuZ2V0VVJMKCkpO1xuICAgICAgLyogQHRzLWV4cGVjdC1lcnJvciAtIG5vIHR5cGUgZGVmICovXG4gICAgICB3ZWJ2aWV3UmVmLmN1cnJlbnRbbWV0aG9kXSgpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnb0JhY2sgPSAoKSA9PiB7XG4gICAgZXhlY3V0ZVdlYlZpZXdNZXRob2QoJ2dvQmFjaycsICdnb0JhY2snKTtcbiAgfTtcbiAgY29uc3QgZ29Gb3J3YXJkID0gKCkgPT4ge1xuICAgIGV4ZWN1dGVXZWJWaWV3TWV0aG9kKCdnb0ZvcndhcmQnLCAnZ29Gb3J3YXJkJyk7XG4gIH07XG5cbiAgY29uc3QgbmF2aWdhdGVUbyA9ICgpID0+IHtcbiAgICBkZWJ1ZyAmJiBhcGkubG9nKCdXZWJWaWV3QnJvd3NlcjogbmF2aWdhdGVUbycsIHVybCk7XG4gICAgaWYgKCF1cmwudHJpbSgpLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSAmJiAhdXJsLnRyaW0oKS5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XG4gICAgICBjb25zdCBuZXdVcmwgPSBgaHR0cHM6Ly8ke3VybC50cmltKCl9YDtcbiAgICAgIGlmIChpc1ZhbGlkVXJsKG5ld1VybCkpIHNldFVybChuZXdVcmwpO1xuICAgIH1cbiAgICBpZiAoaXNWYWxpZFVybCh1cmwudHJpbSgpKSkgd2Vidmlld1JlZi5jdXJyZW50Py5sb2FkVVJMKHVybC50cmltKCkpO1xuICAgIGVsc2UgbmV3IE5vdGljZSgnSW52YWxpZCBVUkwgJyArIHVybCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICBuYXZpZ2F0ZVRvKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICBzZXRVcmwoKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVEb21SZWFkeSA9ICgpID0+IHtcbiAgICAgIGRlYnVnICYmIGFwaS5sb2coJ1dlYlZpZXdCcm93c2VyOiBkb20tcmVhZHknLCB3ZWJ2aWV3UmVmLmN1cnJlbnQpO1xuICAgICAgY29uc3QgYWRkRXZlbnRMaXN0ZW5lciA9IChldmVudE5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgICB3ZWJ2aWV3UmVmLmN1cnJlbnQ/LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCAoKSA9PiB7XG4gICAgICAgICAgZGVidWcgJiYgYXBpLmxvZyhgV2ViVmlld0Jyb3dzZXI6ICR7ZXZlbnROYW1lfWAsIHdlYnZpZXdSZWYuY3VycmVudD8uZ2V0VVJMKCkpO1xuICAgICAgICAgIHNldFVybCh3ZWJ2aWV3UmVmLmN1cnJlbnQ/LmdldFVSTCgpID8/ICcnKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBhZGRFdmVudExpc3RlbmVyKCdkaWQtbmF2aWdhdGUtaW4tcGFnZScpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcignZGlkLW5hdmlnYXRlJyk7XG4gICAgfTtcblxuICAgIHdlYnZpZXdSZWYuY3VycmVudD8uYWRkRXZlbnRMaXN0ZW5lcignZG9tLXJlYWR5JywgaGFuZGxlRG9tUmVhZHkpO1xuXG4gICAgcmV0dXJuICgpID0+IHdlYnZpZXdSZWYuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZG9tLXJlYWR5JywgaGFuZGxlRG9tUmVhZHkpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzPVwiaG0tdmlldy1icm93c2VyXCI+XG4gICAgICB7c2hvd1Rvb2xiYXIgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG0tdmlldy1icm93c2VyLXRvb2xiYXJcIj5cbiAgICAgICAgICA8SGVscFNvdXJjZUJ1dHRvbiBzZXRTZWxlY3RlZFVybD17c2V0VXJsfSBwbHVnaW49e3BsdWdpbn0gLz5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHZhbHVlPXt1cmx9XG4gICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgb25LZXlVcD17aGFuZGxlS2V5UHJlc3N9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIFVSTFwiXG4gICAgICAgICAgICBjbGFzcz1cImhtLXZpZXctYnJvd3Nlci10b29sYmFyLWlucHV0XCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e25hdmlnYXRlVG99XG4gICAgICAgICAgICBjbGFzcz1cImhtLXZpZXctYnJvd3Nlci10b29sYmFyLWJ1dHRvblwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiTmF2aWdhdGUgVG9cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgICAgICAgICAgIHdpZHRoPVwiMjRcIlxuICAgICAgICAgICAgICBoZWlnaHQ9XCIyNFwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjJcIlxuICAgICAgICAgICAgICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICBjbGFzcz1cImx1Y2lkZSBsdWNpZGUtYXJyb3ctcmlnaHQtc3F1YXJlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHJlY3Qgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgeD1cIjNcIiB5PVwiM1wiIHJ4PVwiMlwiIC8+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJNOCAxMmg4XCIgLz5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIm0xMiAxNiA0LTQtNC00XCIgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2dvQmFja31cbiAgICAgICAgICAgIGNsYXNzPVwiaG0tdmlldy1icm93c2VyLXRvb2xiYXItYnV0dG9uXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJHbyBCYWNrXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxuICAgICAgICAgICAgICB3aWR0aD17aWNvbkhlaWdodH1cbiAgICAgICAgICAgICAgaGVpZ2h0PXtpY29uSGVpZ2h0fVxuICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICBzdHJva2Utd2lkdGg9XCIyXCJcbiAgICAgICAgICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGVmdFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxwYXRoIGQ9XCJtMTUgMTgtNi02IDYtNlwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtnb0ZvcndhcmR9XG4gICAgICAgICAgICBjbGFzcz1cImhtLXZpZXctYnJvd3Nlci10b29sYmFyLWJ1dHRvblwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiR28gRm9yd2FyZFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgd2lkdGg9e2ljb25IZWlnaHR9XG4gICAgICAgICAgICAgIGhlaWdodD17aWNvbkhlaWdodH1cbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMlwiXG4gICAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwibHVjaWRlIGx1Y2lkZS1jaGV2cm9uLXJpZ2h0XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIm05IDE4IDYtNi02LTZcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPEhlbHBNb3JlQnV0dG9uIGN1cnJlbnRVcmw9e3VybH0gcGx1Z2luPXtwbHVnaW59IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIEB0cy1leHBlY3QtZXJyb3IgLSBlbGVjdHJvbiB0YWcgKi99XG4gICAgICA8d2Vidmlld1xuICAgICAgICByZWY9e3dlYnZpZXdSZWZ9XG4gICAgICAgIHNyYz17dXJsfVxuICAgICAgICBjbGFzcz1cImhtLXZpZXctYnJvd3Nlci13ZWJmcmFtZVwiXG4gICAgICAgIGVuYWJsZWJsaW5rZmVhdHVyZXM9XCJBdXRvRGFya01vZGVcIlxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdlYlZpZXdCcm93c2VyO1xuIiwgImltcG9ydCB0eXBlIEhlbHBNYXRlUGx1Z2luIGZyb20gJ3NyYy9tYWluJztcbmltcG9ydCB0eXBlIEhlbHBNYXRlQVBJIGZyb20gJ3NyYy9IZWxwTWF0ZUFQSSc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmIH0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCBIZWxwU291cmNlQnV0dG9uIGZyb20gJy4uL3NpZGVwYW5lL0hlbHBTb3VyY2VCdXR0b24nO1xuaW1wb3J0IEhlbHBNb3JlQnV0dG9uIGZyb20gJy4uL3NpZGVwYW5lL0hlbHBNb3JlQnV0dG9uJztcbmltcG9ydCB7IGlzVmFsaWRVcmwgfSBmcm9tICdzcmMvcmVzb3VyY2VzJztcbmltcG9ydCB7IE5vdGljZSB9IGZyb20gJ29ic2lkaWFuJztcblxuaW50ZXJmYWNlIElGcmFtZUJyb3dzZXJQcm9wcyB7XG4gIHVybEFkZHJlc3M6IHN0cmluZztcbiAgcGx1Z2luOiBIZWxwTWF0ZVBsdWdpbjtcbiAgc2hvd1Rvb2xiYXI/OiBib29sZWFuO1xufVxuXG5jb25zdCBJRnJhbWVCcm93c2VyID0gKHtcbiAgdXJsQWRkcmVzcyxcbiAgcGx1Z2luLFxuICBzaG93VG9vbGJhciA9IHRydWUsXG59OiBJRnJhbWVCcm93c2VyUHJvcHMpID0+IHtcbiAgY29uc3QgYXBpOiBIZWxwTWF0ZUFQSSA9IHBsdWdpbi5IRUxQTUFURV9BUEk7XG4gIGNvbnN0IGRlYnVnID0gYXBpLmVuYWJsZURlYnVnZ2luZy5pRnJhbWVCcm93c2VyO1xuICBjb25zdCBpZnJhbWVSZWYgPSB1c2VSZWY8SFRNTElGcmFtZUVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbaW5wdXRVcmwsIHNldElucHV0VXJsXSA9IHVzZVN0YXRlPHN0cmluZz4odXJsQWRkcmVzcyB8fCAnJyk7XG4gIGNvbnN0IFtpZnJhbWVVcmwsIHNldElmcmFtZVVybF0gPSB1c2VTdGF0ZTxzdHJpbmc+KHVybEFkZHJlc3MgfHwgJycpO1xuXG4gIGNvbnN0IHVwZGF0ZVVybCA9ICh1cmw6IHN0cmluZykgPT4ge1xuICAgIGxldCBuZXdVcmwgPSB1cmwudHJpbSgpO1xuICAgIGlmICghbmV3VXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSAmJiAhbmV3VXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcbiAgICAgIG5ld1VybCA9IGBodHRwczovLyR7dXJsfWA7XG4gICAgfVxuICAgIGlmIChpc1ZhbGlkVXJsKG5ld1VybCkpIHtcbiAgICAgIHNldElucHV0VXJsKG5ld1VybCk7XG4gICAgICBzZXRJZnJhbWVVcmwobmV3VXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IE5vdGljZSgnSW52YWxpZCBVUkwgJyArIG5ld1VybCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG5hdmlnYXRlVG8gPSAoKSA9PiB7XG4gICAgaWYgKGlmcmFtZVJlZi5jdXJyZW50KSB7XG4gICAgICBkZWJ1ZyAmJiBhcGkubG9nKCdJRnJhbWVCcm93c2VyOiBuYXZpZ2F0ZVRvJywgaW5wdXRVcmwpO1xuICAgICAgdXBkYXRlVXJsKGlucHV0VXJsKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgY29uc3QgbmV3VXJsID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgdXBkYXRlVXJsKG5ld1VybCk7XG4gICAgICAvLyBzZXRJbnB1dFVybChuZXdVcmwpO1xuICAgICAgLy8gc2V0SWZyYW1lVXJsKG5ld1VybCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzcz1cImhtLXZpZXctYnJvd3NlclwiPlxuICAgICAge3Nob3dUb29sYmFyICYmIChcbiAgICAgICAgPGRpdiBjbGFzcz1cImhtLXZpZXctYnJvd3Nlci10b29sYmFyXCI+XG4gICAgICAgICAgPEhlbHBTb3VyY2VCdXR0b24gc2V0U2VsZWN0ZWRVcmw9e3VwZGF0ZVVybH0gcGx1Z2luPXtwbHVnaW59IC8+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBjbGFzcz1cImhtLXZpZXctYnJvd3Nlci10b29sYmFyLWlucHV0XCJcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHZhbHVlPXtpbnB1dFVybH1cbiAgICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIHNldElucHV0VXJsKChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBVUkxcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17bmF2aWdhdGVUb31cbiAgICAgICAgICAgIGNsYXNzPVwiaG0tdmlldy1icm93c2VyLXRvb2xiYXItYnV0dG9uXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJOYXZpZ2F0ZSBUb1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICAgICAgICAgICAgd2lkdGg9XCIyNFwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjI0XCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMlwiXG4gICAgICAgICAgICAgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwibHVjaWRlIGx1Y2lkZS1hcnJvdy1yaWdodC1zcXVhcmVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8cmVjdCB3aWR0aD1cIjE4XCIgaGVpZ2h0PVwiMThcIiB4PVwiM1wiIHk9XCIzXCIgcng9XCIyXCIgLz5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk04IDEyaDhcIiAvPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwibTEyIDE2IDQtNC00LTRcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPEhlbHBNb3JlQnV0dG9uIGN1cnJlbnRVcmw9e2lmcmFtZVVybH0gcGx1Z2luPXtwbHVnaW59IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIDxpZnJhbWUgcmVmPXtpZnJhbWVSZWZ9IHNyYz17aWZyYW1lVXJsfSBjbGFzcz1cImhtLXZpZXctYnJvd3Nlci1pZnJhbWVcIiAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSUZyYW1lQnJvd3NlcjtcbiIsICIvLyBUaGlzIGlzIHRoZSBjb21tb24gZW50cnkgcG9pbnQgZm9yIHRoZSBcIkJyb3dzZXJcIi4gSXQgd2lsbCBkZWNpZGUgd2hpY2ggYnJvd3NlciB0byB1c2UgYmFzZWQgb24gdGhlIGVudmlyb25tZW50LlxuLy8gaWYgaXQgaXMgYW4gZWxlY3Ryb24gYXBwIHRoZW4gaXQgd2lsbCB1c2UgdGhlIFdlYlZpZXdCcm93c2VyLCBvdGhlcndpc2UgaXQgd2lsbCB1c2UgdGhlIElGcmFtZUJyb3dzZXIuXG5cbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25hbENvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgeyBCcm93c2VyTW9kZSB9IGZyb20gJ3NyYy9IZWxwTWF0ZUFQSSc7XG5pbXBvcnQgV2ViVmlld0Jyb3dzZXIgZnJvbSAnLi9XZWJWaWV3QnJvd3Nlcic7XG5pbXBvcnQgSUZyYW1lQnJvd3NlciBmcm9tICcuL0lGcmFtZUJyb3dzZXInO1xuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBIZWxwTWF0ZVBsdWdpbiBmcm9tICdzcmMvbWFpbic7XG5pbXBvcnQgQWNrbm93bGVkZ2VXZWJVc2UgZnJvbSAnLi4vc2lkZXBhbmUvQWNrbm93bGVkZ2VXZWJVc2UnO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xuXG5pbnRlcmZhY2UgRW1iZWRkZWRCcm93c2VyUHJvcHMge1xuICB1cmxBZGRyZXNzOiBzdHJpbmc7XG4gIHBsdWdpbjogSGVscE1hdGVQbHVnaW47XG4gIHNob3dUb29sYmFyPzogYm9vbGVhbjtcbn1cblxuY29uc3QgRW1iZWRkZWRCcm93c2VyOiBGdW5jdGlvbmFsQ29tcG9uZW50PEVtYmVkZGVkQnJvd3NlclByb3BzPiA9ICh7XG4gIHVybEFkZHJlc3MsXG4gIHBsdWdpbixcbiAgc2hvd1Rvb2xiYXIgPSB0cnVlLFxufTogRW1iZWRkZWRCcm93c2VyUHJvcHMpID0+IHtcbiAgY29uc3QgYnJvd3NlTW9kZTogQnJvd3Nlck1vZGUgPVxuICAgIHBsdWdpbi5zZXR0aW5ncy5mb3JjZUlmcmFtZSA/IEJyb3dzZXJNb2RlLmlGcmFtZVxuICAgIDogUGxhdGZvcm0uaXNEZXNrdG9wID8gQnJvd3Nlck1vZGUud2ViVmlld1xuICAgIDogQnJvd3Nlck1vZGUuaUZyYW1lO1xuXG4gIGNvbnN0IFtpc0Fja25vd2xlZGdlZCwgc2V0SXNBY2tub3dsZWRnZWRdID0gdXNlU3RhdGUoXG4gICAgcGx1Z2luLnNldHRpbmdzLmFja25vd2xlZGdlZFdlYlVzZVxuICApO1xuXG4gIGlmICghaXNBY2tub3dsZWRnZWQpIHtcbiAgICByZXR1cm4gPEFja25vd2xlZGdlV2ViVXNlIG9uQWNrbm93bGVkZ2U9e3NldElzQWNrbm93bGVkZ2VkfSBwbHVnaW49e3BsdWdpbn0gLz47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGJyb3dzZU1vZGUgPT09IEJyb3dzZXJNb2RlLndlYlZpZXcgP1xuICAgICAgICA8V2ViVmlld0Jyb3dzZXJcbiAgICAgICAgICB1cmxBZGRyZXNzPXt1cmxBZGRyZXNzfVxuICAgICAgICAgIHBsdWdpbj17cGx1Z2lufVxuICAgICAgICAgIHNob3dUb29sYmFyPXtzaG93VG9vbGJhcn1cbiAgICAgICAgLz5cbiAgICAgIDogPElGcmFtZUJyb3dzZXJcbiAgICAgICAgICB1cmxBZGRyZXNzPXt1cmxBZGRyZXNzfVxuICAgICAgICAgIHBsdWdpbj17cGx1Z2lufVxuICAgICAgICAgIHNob3dUb29sYmFyPXtzaG93VG9vbGJhcn1cbiAgICAgICAgLz47XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEVtYmVkZGVkQnJvd3NlcjtcbiIsICJpbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncHJlYWN0L2hvb2tzJztcbmltcG9ydCB0eXBlIEhlbHBNYXRlUGx1Z2luIGZyb20gJ3NyYy9tYWluJztcblxuaW50ZXJmYWNlIEFja25vd2xlZGdlUHJvcHMge1xuICBvbkFja25vd2xlZGdlOiAoYWNrbm93bGVkZ2VkOiBib29sZWFuKSA9PiB2b2lkO1xuICBwbHVnaW46IEhlbHBNYXRlUGx1Z2luO1xufVxuXG5jb25zdCBBY2tub3dsZWRnZVdlYlVzZTogRnVuY3Rpb25Db21wb25lbnQ8QWNrbm93bGVkZ2VQcm9wcz4gPSAoe1xuICBvbkFja25vd2xlZGdlLFxuICBwbHVnaW4sXG59KSA9PiB7XG4gIGNvbnN0IFtpc0NoZWNrZWQsIHNldElzQ2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaGFuZGxlQ2hlY2tib3hDaGFuZ2UgPSAoKSA9PiB7XG4gICAgc2V0SXNDaGVja2VkKCFpc0NoZWNrZWQpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUJ1dHRvbkNsaWNrID0gKCkgPT4ge1xuICAgIGlmIChpc0NoZWNrZWQpIHtcbiAgICAgIHBsdWdpbi5zZXR0aW5ncy5hY2tub3dsZWRnZWRXZWJVc2UgPSB0cnVlO1xuICAgICAgdm9pZCBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICBvbkFja25vd2xlZGdlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydCgnUGxlYXNlIGNoZWNrIHRoZSBBY2tub3dsZWRnZSBjaGVja2JveCB0byBwcm9jZWVkJyk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzcz1cImhtLWFja25vd2xlZGdlLW1lc3NhZ2VcIj5cbiAgICAgIDxwPlxuICAgICAgICB7JyAnfVxuICAgICAgICBIZWxwTWF0ZSBkaXNwbGF5cyB0aGUgaGVscCBjb250ZW50IGZyb20gd2Vic2l0ZXMgaW4gdGhlIHNpZGVwYW5lLiBQbGVhc2Uga2VlcCBpblxuICAgICAgICBtaW5kIHRoYXQgdGhpcyBoZWxwIGNvbnRlbnQgaXMgY29taW5nIGZyb20gdGhlIHdlYiBhbmQgeW91IGFyZSByZXNwb25zaWJsZSB0b1xuICAgICAgICB2ZXJpZnkgdGhhdCB0aGUgc2l0ZXMgYXJlIHNhZmUuXG4gICAgICA8L3A+XG4gICAgICA8cD5QbGVhc2UgY2hlY2sgdGhlIEFja25vd2xlZGdlIGNoZWNrYm94IHRvIHByb2NlZWQuPC9wPlxuICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9e2lzQ2hlY2tlZH0gb25DaGFuZ2U9e2hhbmRsZUNoZWNrYm94Q2hhbmdlfSAvPlxuICAgICAgPGxhYmVsPkFja25vd2xlZGdlIHRoaXMgbWVzc2FnZTwvbGFiZWw+XG4gICAgICA8YnIgLz5cbiAgICAgIDxiciAvPlxuICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVCdXR0b25DbGlja30+UHJvY2VlZDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQWNrbm93bGVkZ2VXZWJVc2U7XG4iLCAiaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgRW1iZWRkZWRCcm93c2VyIGZyb20gJy4uL2Jyb3dzZXJzL0VtYmVkZGVkQnJvd3Nlcic7XG5pbXBvcnQgdHlwZSBIZWxwTWF0ZVBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcbmltcG9ydCB0eXBlIHsgSGVscEZvclBsdWdpbiB9IGZyb20gJ3NyYy9yZXNvdXJjZXMnO1xuaW1wb3J0IHsgZ2V0UGx1Z2luSGVscExpc3QgfSBmcm9tICdzcmMvcmVzb3VyY2VzJztcbmludGVyZmFjZSBIZWxwTWF0ZVZpZXdDb250YWluZXJQcm9wcyB7XG4gIHBsdWdpbjogSGVscE1hdGVQbHVnaW47XG4gIC8vIG9wdGlvbmFsLiBpZiBub3QgaW5jbHVkZWQsIGxvYWRzIGZyb20gbGlzdCBvZiBoZWxwIHVybHNcbiAgaW5pdGlhbFVybEFkZHJlc3M/OiBzdHJpbmc7XG59XG5cbmNvbnN0IEhlbHBNYXRlVmlld0NvbnRhaW5lcjogRnVuY3Rpb25Db21wb25lbnQ8SGVscE1hdGVWaWV3Q29udGFpbmVyUHJvcHM+ID0gKHtcbiAgcGx1Z2luLFxuICBpbml0aWFsVXJsQWRkcmVzcyxcbn0pID0+IHtcbiAgY29uc3QgaGVscEZvclBsdWdpbnNMaXN0OiBIZWxwRm9yUGx1Z2luW10gPSBnZXRQbHVnaW5IZWxwTGlzdChwbHVnaW4pO1xuICBjb25zdCB1cmwgPVxuICAgIGluaXRpYWxVcmxBZGRyZXNzICYmIGluaXRpYWxVcmxBZGRyZXNzICE9PSAnJyA/XG4gICAgICBpbml0aWFsVXJsQWRkcmVzc1xuICAgIDogaGVscEZvclBsdWdpbnNMaXN0WzBdLnVybDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnMTAwJScgfX0gY2xhc3M9XCJobS12aWV3LWNvbnRhaW5lclwiPlxuICAgICAgPEVtYmVkZGVkQnJvd3NlciB1cmxBZGRyZXNzPXt1cmx9IHBsdWdpbj17cGx1Z2lufSAvPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgSGVscE1hdGVWaWV3Q29udGFpbmVyO1xuIiwgImltcG9ydCB7IHJlbmRlciB9IGZyb20gJ3ByZWFjdCc7XG5pbXBvcnQgdHlwZSBIZWxwTWF0ZVBsdWdpbiBmcm9tICdzcmMvbWFpbic7XG5pbXBvcnQgdHlwZSB7IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgRW1iZWRkZWRCcm93c2VyIGZyb20gJy4vYnJvd3NlcnMvRW1iZWRkZWRCcm93c2VyJztcbmltcG9ydCB7IGdldFBsdWdpbkhlbHBMaXN0IH0gZnJvbSAnc3JjL3Jlc291cmNlcyc7XG5cbi8vIGNvbnRlbnRzIG9mIHRoZSBjb2RlIGJsb2NrXG4vLyB1cmw6IHRoZSB1cmwgb2YgdGhlIGNvZGUgYmxvY2tcbi8vIGhlaWdodDogdGhlIGhlaWdodCBvZiB0aGUgY29kZSBibG9jayBjb250cm9sXG4vLyB0b29sYmFyOiB3aGV0aGVyIHRvIHNob3cgdGhlIHRvb2xiYXJcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvZGVCbG9jayhcbiAgcGx1Z2luOiBIZWxwTWF0ZVBsdWdpbixcbiAgc291cmNlOiBzdHJpbmcsXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBfOiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0XG4pIHtcbiAgbGV0IGNvbnRyb2xIZWlnaHQgPSA0MDA7XG4gIGxldCBjb250cm9sVXJsID0gZ2V0UGx1Z2luSGVscExpc3QocGx1Z2luKVswXS51cmw7XG4gIGxldCBjb250cm9sVG9vbGJhciA9IHRydWU7XG5cbiAgY29uc3QgbGluZXMgPSBzb3VyY2Uuc3BsaXQoJ1xcbicpO1xuXG4gIGxpbmVzLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBsaW5lLnNwbGl0KCc6ICcpO1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICd1cmwnOlxuICAgICAgICBjb250cm9sVXJsID0gdmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaGVpZ2h0JzpcbiAgICAgICAgY29udHJvbEhlaWdodCA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b29sYmFyJzpcbiAgICAgICAgY29udHJvbFRvb2xiYXIgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xuXG4gIHJlbmRlcihcbiAgICA8ZGl2IHN0eWxlPXt7IGhlaWdodDogY29udHJvbEhlaWdodCB9fT5cbiAgICAgIDxFbWJlZGRlZEJyb3dzZXJcbiAgICAgICAgcGx1Z2luPXtwbHVnaW59XG4gICAgICAgIHVybEFkZHJlc3M9e2NvbnRyb2xVcmx9XG4gICAgICAgIHNob3dUb29sYmFyPXtjb250cm9sVG9vbGJhcn1cbiAgICAgIC8+XG4gICAgPC9kaXY+LFxuICAgIGVsZW1lbnRcbiAgKTtcbn1cbiIsICIvLyBhZGRzIGEgYnV0dG9uIHRvIHRoZSBzZXR0aW5ncyB0YWIgb2YgYSBwbHVnaW5cbi8vIHRoYXQgb3BlbnMgdGhlIGhlbHBtYXRlIHZpZXcgd2l0aCB0aGUgdXJsIG9mIHRoZSBwbHVnaW4ncyBoZWxwIHBhZ2VcblxuaW1wb3J0IHR5cGUgeyBFeHRyYUJ1dHRvbkNvbXBvbmVudCwgUGx1Z2luTWFuaWZlc3QsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgdHlwZSBIZWxwTWF0ZVBsdWdpbiBmcm9tICdzcmMvbWFpbic7XG5cbmludGVyZmFjZSBFeHRlbmRlZFBsdWdpbk1hbmlmZXN0IGV4dGVuZHMgUGx1Z2luTWFuaWZlc3Qge1xuICBoZWxwVXJsPzogc3RyaW5nO1xufVxuXG5jb25zdCBpbnRlZ3JhdGVJbnRvU2V0dGluZ3NGb3JtID0gKFxuICBwbHVnaW46IEhlbHBNYXRlUGx1Z2luLFxuICBzZXR0aW5nOiBTZXR0aW5nLFxuICBtYW5pZmVzdDogUGx1Z2luTWFuaWZlc3QsXG4gIF86IGJvb2xlYW5cbikgPT4ge1xuICBjb25zdCBleHRlbmRlZE1hbmlmZXN0ID0gbWFuaWZlc3QgYXMgRXh0ZW5kZWRQbHVnaW5NYW5pZmVzdDtcblxuICBpZiAoZXh0ZW5kZWRNYW5pZmVzdC5oZWxwVXJsKSB7XG4gICAgc2V0dGluZy5hZGRFeHRyYUJ1dHRvbigoYnRuOiBFeHRyYUJ1dHRvbkNvbXBvbmVudCkgPT4ge1xuICAgICAgYnRuXG4gICAgICAgIC5zZXRJY29uKHBsdWdpbi5pY29uKVxuICAgICAgICAuc2V0VG9vbHRpcCgnSGVscE1hdGUnKVxuICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgLy8gZm9yY2UgaXQgb3BlbiB0byBpbnRpYWxpemVcbiAgICAgICAgICBhd2FpdCBwbHVnaW4uYWN0aXZhdGVWaWV3KCk7XG4gICAgICAgICAgLy8gdGhlbiBvcGVuIHByb3BlciB1cmxcbiAgICAgICAgICBhd2FpdCBwbHVnaW4uYWN0aXZhdGVWaWV3KGV4dGVuZGVkTWFuaWZlc3QuaGVscFVybCk7XG4gICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNsb3NlLWJ1dHRvbicpO1xuICAgICAgICAgIGlmIChkaXYpIChkaXYgYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpbnRlZ3JhdGVJbnRvU2V0dGluZ3NGb3JtO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0EsSUFBQUEsbUJBQXVCOzs7QUNBdkIsc0JBQTZEOzs7QUNVdEQsSUFBTSxtQkFBcUM7QUFBQSxFQUNoRCxvQkFBb0I7QUFBQSxFQUNwQixxQkFBcUI7QUFBQSxFQUNyQixpQkFBaUI7QUFBQSxFQUNqQix3QkFBd0I7QUFBQSxFQUN4QixvQkFBb0I7QUFBQSxFQUNwQixxQkFBcUI7QUFBQSxFQUNyQixlQUFlO0FBQUEsRUFDZixhQUFhO0FBQ2Y7OztBQ1RPLElBQU0sYUFB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YnNpZGlhbiIsICJwIiwgIl8iLCAiYSIsICJiIiwgImltcG9ydF9vYnNpZGlhbiIsICJNT0RFX0hZRFJBVEUiLCAic2xpY2UiLCAib3B0aW9ucyIsICJ2bm9kZUlkIiwgImlzVmFsaWRFbGVtZW50IiwgInJlcmVuZGVyUXVldWUiLCAicHJldkRlYm91bmNlIiwgImRlZmVyIiwgImRlcHRoU29ydCIsICJpIiwgIkVNUFRZX09CSiIsICJFTVBUWV9BUlIiLCAiSVNfTk9OX0RJTUVOU0lPTkFMIiwgImlzQXJyYXkiLCAiQXJyYXkiLCAiYXNzaWduIiwgIm9iaiIsICJwcm9wcyIsICJyZW1vdmVOb2RlIiwgIm5vZGUiLCAicGFyZW50Tm9kZSIsICJyZW1vdmVDaGlsZCIsICJjcmVhdGVFbGVtZW50IiwgInR5cGUiLCAiY2hpbGRyZW4iLCAia2V5IiwgInJlZiIsICJub3JtYWxpemVkUHJvcHMiLCAiYXJndW1lbnRzIiwgImxlbmd0aCIsICJjYWxsIiwgImRlZmF1bHRQcm9wcyIsICJjcmVhdGVWTm9kZSIsICJvcmlnaW5hbCIsICJ2bm9kZSIsICJfX2siLCAiX18iLCAiX19iIiwgIl9fZSIsICJfX2QiLCAiX19jIiwgImNvbnN0cnVjdG9yIiwgIl9fdiIsICJfX2kiLCAiX191IiwgIkZyYWdtZW50IiwgInByb3BzIiwgImNoaWxkcmVuIiwgIkJhc2VDb21wb25lbnQiLCAiY29udGV4dCIsICJ0aGlzIiwgImdldERvbVNpYmxpbmciLCAidm5vZGUiLCAiY2hpbGRJbmRleCIsICJfXyIsICJzaWJsaW5nIiwgIl9fayIsICJsZW5ndGgiLCAiX19lIiwgInR5cGUiLCAidXBkYXRlUGFyZW50RG9tUG9pbnRlcnMiLCAiaSIsICJjaGlsZCIsICJfX2MiLCAiYmFzZSIsICJlbnF1ZXVlUmVuZGVyIiwgImMiLCAiX19kIiwgInJlcmVuZGVyUXVldWUiLCAicHVzaCIsICJwcm9jZXNzIiwgInByZXZEZWJvdW5jZSIsICJvcHRpb25zIiwgImRlYm91bmNlUmVuZGVyaW5nIiwgImRlZmVyIiwgInJlbmRlclF1ZXVlTGVuZ3RoIiwgImNvbXBvbmVudCIsICJuZXdWTm9kZSIsICJvbGRWTm9kZSIsICJvbGREb20iLCAicGFyZW50RG9tIiwgImNvbW1pdFF1ZXVlIiwgInJlZlF1ZXVlIiwgInNvcnQiLCAiZGVwdGhTb3J0IiwgInNoaWZ0IiwgIl9fdiIsICJfX1AiLCAiYXNzaWduIiwgImRpZmYiLCAiX19uIiwgIm93bmVyU1ZHRWxlbWVudCIsICJfX3UiLCAiX19pIiwgImNvbW1pdFJvb3QiLCAiZGlmZkNoaWxkcmVuIiwgInJlbmRlclJlc3VsdCIsICJuZXdQYXJlbnRWTm9kZSIsICJvbGRQYXJlbnRWTm9kZSIsICJnbG9iYWxDb250ZXh0IiwgImlzU3ZnIiwgImV4Y2Vzc0RvbUNoaWxkcmVuIiwgImlzSHlkcmF0aW5nIiwgImNoaWxkVk5vZGUiLCAibmV3RG9tIiwgImZpcnN0Q2hpbGREb20iLCAib2xkQ2hpbGRyZW4iLCAiRU1QVFlfQVJSIiwgIm5ld0NoaWxkcmVuTGVuZ3RoIiwgImNvbnN0cnVjdE5ld0NoaWxkcmVuQXJyYXkiLCAiRU1QVFlfT0JKIiwgInJlZiIsICJhcHBseVJlZiIsICJpbnNlcnQiLCAibmV4dFNpYmxpbmciLCAic2tld2VkSW5kZXgiLCAibWF0Y2hpbmdJbmRleCIsICJvbGRDaGlsZHJlbkxlbmd0aCIsICJyZW1haW5pbmdPbGRDaGlsZHJlbiIsICJza2V3IiwgImNvbnN0cnVjdG9yIiwgIlN0cmluZyIsICJjcmVhdGVWTm9kZSIsICJpc0FycmF5IiwgImtleSIsICJfX2IiLCAiZmluZE1hdGNoaW5nSW5kZXgiLCAidW5tb3VudCIsICJwYXJlbnRWTm9kZSIsICJpbnNlcnRCZWZvcmUiLCAiZmluZE1hdGNoaW5nSW5kZXgiLCAiY2hpbGRWTm9kZSIsICJvbGRDaGlsZHJlbiIsICJza2V3ZWRJbmRleCIsICJyZW1haW5pbmdPbGRDaGlsZHJlbiIsICJrZXkiLCAidHlwZSIsICJ4IiwgInkiLCAib2xkVk5vZGUiLCAibGVuZ3RoIiwgIl9fdSIsICJzZXRTdHlsZSIsICJzdHlsZSIsICJ2YWx1ZSIsICJzZXRQcm9wZXJ0eSIsICJJU19OT05fRElNRU5TSU9OQUwiLCAidGVzdCIsICJkb20iLCAibmFtZSIsICJvbGRWYWx1ZSIsICJpc1N2ZyIsICJ1c2VDYXB0dXJlIiwgIm8iLCAiY3NzVGV4dCIsICJyZXBsYWNlIiwgInRvTG93ZXJDYXNlIiwgInNsaWNlIiwgImwiLCAiX2F0dGFjaGVkIiwgIkRhdGUiLCAibm93IiwgImFkZEV2ZW50TGlzdGVuZXIiLCAiZXZlbnRQcm94eUNhcHR1cmUiLCAiZXZlbnRQcm94eSIsICJyZW1vdmVFdmVudExpc3RlbmVyIiwgImUiLCAicmVtb3ZlQXR0cmlidXRlIiwgInNldEF0dHJpYnV0ZSIsICJldmVudEhhbmRsZXIiLCAidGhpcyIsICJfZGlzcGF0Y2hlZCIsICJvcHRpb25zIiwgImV2ZW50IiwgImRpZmYiLCAicGFyZW50RG9tIiwgIm5ld1ZOb2RlIiwgImdsb2JhbENvbnRleHQiLCAiZXhjZXNzRG9tQ2hpbGRyZW4iLCAiY29tbWl0UXVldWUiLCAib2xkRG9tIiwgImlzSHlkcmF0aW5nIiwgInJlZlF1ZXVlIiwgInRtcCIsICJjIiwgImlzTmV3IiwgIm9sZFByb3BzIiwgIm9sZFN0YXRlIiwgInNuYXBzaG90IiwgImNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbiIsICJuZXdQcm9wcyIsICJwcm92aWRlciIsICJjb21wb25lbnRDb250ZXh0IiwgImkiLCAicmVuZGVySG9vayIsICJjb3VudCIsICJyZW5kZXJSZXN1bHQiLCAibmV3VHlwZSIsICJjb25zdHJ1Y3RvciIsICJfX2UiLCAiX19iIiwgIm91dGVyIiwgInByb3BzIiwgImNvbnRleHRUeXBlIiwgIl9fYyIsICJfXyIsICJfX0UiLCAicHJvdG90eXBlIiwgInJlbmRlciIsICJCYXNlQ29tcG9uZW50IiwgImRvUmVuZGVyIiwgInN1YiIsICJzdGF0ZSIsICJjb250ZXh0IiwgIl9fbiIsICJfX2QiLCAiX19oIiwgIl9zYiIsICJfX3MiLCAiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwgImFzc2lnbiIsICJfX3YiLCAiY29tcG9uZW50V2lsbE1vdW50IiwgImNvbXBvbmVudERpZE1vdW50IiwgInB1c2giLCAiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsICJzaG91bGRDb21wb25lbnRVcGRhdGUiLCAiX19rIiwgImZvckVhY2giLCAidm5vZGUiLCAiY29tcG9uZW50V2lsbFVwZGF0ZSIsICJjb21wb25lbnREaWRVcGRhdGUiLCAiX19QIiwgIl9fciIsICJnZXRDaGlsZENvbnRleHQiLCAiZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUiLCAiZGlmZkNoaWxkcmVuIiwgImlzQXJyYXkiLCAiRnJhZ21lbnQiLCAiY2hpbGRyZW4iLCAiYmFzZSIsICJNT0RFX0hZRFJBVEUiLCAiaW5kZXhPZiIsICJkaWZmRWxlbWVudE5vZGVzIiwgImRpZmZlZCIsICJjb21taXRSb290IiwgInJvb3QiLCAiYXBwbHlSZWYiLCAic29tZSIsICJjYiIsICJjYWxsIiwgIm5ld0h0bWwiLCAib2xkSHRtbCIsICJuZXdDaGlsZHJlbiIsICJpbnB1dFZhbHVlIiwgImNoZWNrZWQiLCAibm9kZVR5cGUiLCAibG9jYWxOYW1lIiwgImRvY3VtZW50IiwgImNyZWF0ZVRleHROb2RlIiwgImNyZWF0ZUVsZW1lbnROUyIsICJjcmVhdGVFbGVtZW50IiwgImlzIiwgImRhdGEiLCAiY2hpbGROb2RlcyIsICJFTVBUWV9PQkoiLCAiYXR0cmlidXRlcyIsICJfX2h0bWwiLCAiaW5uZXJIVE1MIiwgImdldERvbVNpYmxpbmciLCAicmVtb3ZlTm9kZSIsICJyZWYiLCAiY3VycmVudCIsICJ1bm1vdW50IiwgInBhcmVudFZOb2RlIiwgInNraXBSZW1vdmUiLCAiciIsICJjb21wb25lbnRXaWxsVW5tb3VudCIsICJyZXBsYWNlTm9kZSIsICJvd25lclNWR0VsZW1lbnQiLCAiZmlyc3RDaGlsZCIsICJzbGljZSIsICJFTVBUWV9BUlIiLCAib3B0aW9ucyIsICJfX2UiLCAiZXJyb3IiLCAidm5vZGUiLCAib2xkVk5vZGUiLCAiZXJyb3JJbmZvIiwgImNvbXBvbmVudCIsICJjdG9yIiwgImhhbmRsZWQiLCAiX18iLCAiX19jIiwgImNvbnN0cnVjdG9yIiwgImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsICJzZXRTdGF0ZSIsICJfX2QiLCAiY29tcG9uZW50RGlkQ2F0Y2giLCAiX19FIiwgImUiLCAidm5vZGVJZCIsICJpc1ZhbGlkRWxlbWVudCIsICJ1bmRlZmluZWQiLCAiQmFzZUNvbXBvbmVudCIsICJwcm90b3R5cGUiLCAidXBkYXRlIiwgImNhbGxiYWNrIiwgInMiLCAidGhpcyIsICJfX3MiLCAic3RhdGUiLCAiYXNzaWduIiwgInByb3BzIiwgIl9fdiIsICJfc2IiLCAicHVzaCIsICJlbnF1ZXVlUmVuZGVyIiwgImZvcmNlVXBkYXRlIiwgIl9faCIsICJyZW5kZXIiLCAiRnJhZ21lbnQiLCAicmVyZW5kZXJRdWV1ZSIsICJkZWZlciIsICJQcm9taXNlIiwgInRoZW4iLCAiYmluZCIsICJyZXNvbHZlIiwgInNldFRpbWVvdXQiLCAiZGVwdGhTb3J0IiwgImEiLCAiYiIsICJfX2IiLCAicHJvY2VzcyIsICJfX3IiLCAiaSIsICJjdXJyZW50SW5kZXgiLCAiY3VycmVudENvbXBvbmVudCIsICJwcmV2aW91c0NvbXBvbmVudCIsICJwcmV2UmFmIiwgImN1cnJlbnRIb29rIiwgImFmdGVyUGFpbnRFZmZlY3RzIiwgIkVNUFRZIiwgIm9sZEJlZm9yZURpZmYiLCAib3B0aW9ucyIsICJfX2IiLCAib2xkQmVmb3JlUmVuZGVyIiwgIl9fciIsICJvbGRBZnRlckRpZmYiLCAiZGlmZmVkIiwgIm9sZENvbW1pdCIsICJfX2MiLCAib2xkQmVmb3JlVW5tb3VudCIsICJ1bm1vdW50IiwgImdldEhvb2tTdGF0ZSIsICJpbmRleCIsICJ0eXBlIiwgIl9faCIsICJob29rcyIsICJfX0giLCAiX18iLCAibGVuZ3RoIiwgInB1c2giLCAiX19WIiwgInVzZVN0YXRlIiwgImluaXRpYWxTdGF0ZSIsICJ1c2VSZWR1Y2VyIiwgImludm9rZU9yUmV0dXJuIiwgInJlZHVjZXIiLCAiaW5pdCIsICJob29rU3RhdGUiLCAiX3JlZHVjZXIiLCAiYWN0aW9uIiwgImN1cnJlbnRWYWx1ZSIsICJfX04iLCAibmV4dFZhbHVlIiwgInNldFN0YXRlIiwgIl9oYXNTY3VGcm9tSG9va3MiLCAidXBkYXRlSG9va1N0YXRlIiwgInAiLCAicyIsICJjIiwgInN0YXRlSG9va3MiLCAiZmlsdGVyIiwgIngiLCAiZXZlcnkiLCAicHJldlNjdSIsICJjYWxsIiwgInRoaXMiLCAic2hvdWxkVXBkYXRlIiwgImZvckVhY2giLCAiaG9va0l0ZW0iLCAicHJvcHMiLCAic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwgInByZXZDV1UiLCAiY29tcG9uZW50V2lsbFVwZGF0ZSIsICJfX2UiLCAidG1wIiwgInVzZUVmZmVjdCIsICJjYWxsYmFjayIsICJhcmdzIiwgInN0YXRlIiwgIl9fcyIsICJhcmdzQ2hhbmdlZCIsICJfcGVuZGluZ0FyZ3MiLCAidXNlUmVmIiwgImluaXRpYWxWYWx1ZSIsICJjdXJyZW50SG9vayIsICJ1c2VNZW1vIiwgImN1cnJlbnQiLCAidXNlTWVtbyIsICJmYWN0b3J5IiwgImFyZ3MiLCAic3RhdGUiLCAiZ2V0SG9va1N0YXRlIiwgImN1cnJlbnRJbmRleCIsICJhcmdzQ2hhbmdlZCIsICJfX1YiLCAiX3BlbmRpbmdBcmdzIiwgIl9faCIsICJfXyIsICJmbHVzaEFmdGVyUGFpbnRFZmZlY3RzIiwgImNvbXBvbmVudCIsICJhZnRlclBhaW50RWZmZWN0cyIsICJzaGlmdCIsICJfX1AiLCAiX19IIiwgIl9faCIsICJmb3JFYWNoIiwgImludm9rZUNsZWFudXAiLCAiaW52b2tlRWZmZWN0IiwgImUiLCAib3B0aW9ucyIsICJfX2UiLCAiX192IiwgIl9fYiIsICJ2bm9kZSIsICJjdXJyZW50Q29tcG9uZW50IiwgIm9sZEJlZm9yZURpZmYiLCAiX19yIiwgIm9sZEJlZm9yZVJlbmRlciIsICJjdXJyZW50SW5kZXgiLCAiaG9va3MiLCAiX19jIiwgInByZXZpb3VzQ29tcG9uZW50IiwgIl9fIiwgImhvb2tJdGVtIiwgIl9fTiIsICJFTVBUWSIsICJfcGVuZGluZ0FyZ3MiLCAiZGlmZmVkIiwgIm9sZEFmdGVyRGlmZiIsICJjIiwgImxlbmd0aCIsICJwdXNoIiwgInByZXZSYWYiLCAicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwgImFmdGVyTmV4dEZyYW1lIiwgIl9fViIsICJjb21taXRRdWV1ZSIsICJzb21lIiwgImZpbHRlciIsICJjYiIsICJvbGRDb21taXQiLCAidW5tb3VudCIsICJvbGRCZWZvcmVVbm1vdW50IiwgImhhc0Vycm9yZWQiLCAicyIsICJIQVNfUkFGIiwgImNhbGxiYWNrIiwgInJhZiIsICJkb25lIiwgImNsZWFyVGltZW91dCIsICJ0aW1lb3V0IiwgImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwgInNldFRpbWVvdXQiLCAiaG9vayIsICJjb21wIiwgImNsZWFudXAiLCAiYXJnc0NoYW5nZWQiLCAib2xkQXJncyIsICJuZXdBcmdzIiwgImFyZyIsICJpbmRleCIsICJpbnZva2VPclJldHVybiIsICJmIiwgInZub2RlSWQiLCAiaXNBcnJheSIsICJBcnJheSIsICJjcmVhdGVWTm9kZSIsICJ0eXBlIiwgInByb3BzIiwgImtleSIsICJpc1N0YXRpY0NoaWxkcmVuIiwgIl9fc291cmNlIiwgIl9fc2VsZiIsICJyZWYiLCAiaSIsICJub3JtYWxpemVkUHJvcHMiLCAidm5vZGUiLCAiX19rIiwgIl9fIiwgIl9fYiIsICJfX2UiLCAiX19kIiwgIl9fYyIsICJjb25zdHJ1Y3RvciIsICJfX3YiLCAiX19pIiwgIl9fdSIsICJkZWZhdWx0UHJvcHMiLCAib3B0aW9ucyIsICJoIiwgInAiLCAidSIsICJoIiwgInAiLCAidSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaCIsICJwIiwgIl9hIiwgInUiLCAiaW1wb3J0X29ic2lkaWFuIiwgImgiLCAiZSIsICJ1IiwgImltcG9ydF9vYnNpZGlhbiIsICJoIiwgInUiLCAiaCIsICJ1IiwgInUiLCAidSIsICJfIiwgInUiLCAiXyIsICJsZWFmIl0KfQo=
